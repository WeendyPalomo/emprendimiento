/*! For license information please see main.1aa043e3.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var x=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case x:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case k:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(Hr){}}return null}var O=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],j=-1;function z(e){return{current:e}}function U(e){0>j||(e.current=F[j],F[j]=null,j--)}function V(e,t){j++,F[j]=e.current,e.current=t}var B=z(null),q=z(null),H=z(null),W=z(null);function K(e,t){switch(V(H,t),V(q,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function Q(){U(B),U(q),U(H)}function G(e){null!==e.memoizedState&&V(W,e);var t=B.current,n=sh(t,e.type);t!==n&&(V(q,e),V(B,n))}function X(e){q.current===e&&(U(B),U(q)),W.current===e&&(U(W),Xh._currentValue=M)}var $=Object.prototype.hasOwnProperty,Y=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ue=r.unstable_setDisableYieldValue,ce=null,he=null;function de(e){if("function"===typeof le&&ue(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ce,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=ve(r):0!==(s&=o)?a=ve(s):n||0!==(n=o&~e)&&(a=ve(n)):0!==(o=r&~i)?a=ve(o):0!==s?a=ve(s):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ne(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Re=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Re,Oe="__reactProps$"+Re,De="__reactContainer$"+Re,Le="__reactEvents$"+Re,Me="__reactListeners$"+Re,Fe="__reactHandles$"+Re,je="__reactResources$"+Re,ze="__reactMarker$"+Re;function Ue(e){delete e[Pe],delete e[Oe],delete e[Le],delete e[Me],delete e[Fe]}function Ve(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wh(e);null!==e;){if(n=e[Pe])return n;e=wh(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Pe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ze]=!0}var Ke=new Set,Qe={};function Ge(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var $e,Ye,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,$.call(et,a)||!$.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===$e)try{throw Error()}catch(Hr){var t=Hr.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Ye=-1<Hr.stack.indexOf("\n    at")?" (<anonymous>)":-1<Hr.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Ye}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Hr){var r=Hr}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),u=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==u[a]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(Hr){return"\nError generating stack: "+Hr.message+"\n"+Hr.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ut(t)):null!=n?vt(e,s,ut(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function yt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(O(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Et(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&Et(e,i,t[i])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Ot=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Oe]||null;if(!a)throw Error(s(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Pt||null!==Ot)&&(Bu(),Pt&&(t=Pt,e=Ot,Ot=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var jt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(jt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Dd){zt=!1}var Vt=null,Bt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Bt,r=n.length,a="value"in Vt?Vt.value:Vt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return qt=a.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Qt(){return!1}function Gt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Qt,this.isPropagationStopped=Qt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,$t,Yt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Gt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Xt=e.screenX-Yt.screenX,$t=e.screenY-Yt.screenY):$t=Xt=0,Yt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),rn=Gt(nn),an=Gt(d({},nn,{dataTransfer:0})),sn=Gt(d({},en,{relatedTarget:0})),on=Gt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Gt(d({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(d({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Gt(d({},Jt,{newState:0,oldState:0})),kn=[9,13,27,32],_n=jt&&"CompositionEvent"in window,Sn=null;jt&&"documentMode"in document&&(Sn=document.documentMode);var En=jt&&"TextEvent"in window&&!Sn,Cn=jt&&(!_n||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),xn=!1;function An(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function On(e,t,n,r){Pt?Ot?Ot.push(r):Ot=[r]:Pt=r,0<(t=Wc(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Ln=null;function Mn(e){Fc(e,0)}function Fn(e){if(dt(qe(e)))return e}function jn(e,t){if("change"===e)return t}var zn=!1;if(jt){var Un;if(jt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Un=Vn}else Un=!1;zn=Un&&(!document.documentMode||9<document.documentMode)}function qn(){Dn&&(Dn.detachEvent("onpropertychange",Hn),Ln=Dn=null)}function Hn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];On(t,Ln,e,Rt(e)),Mt(Mn,t)}}function Wn(e,t,n){"focusin"===e?(qn(),Ln=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Qn(e,t){if("click"===e)return Fn(t)}function Gn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!$.call(t,a)||!Xn(e[a],t[a]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&$n(ir,r)||(ir=r,0<(r=Wc(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},hr={};function dr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return cr[e]=n[t];return e}jt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),wr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){wr.set(e,t),Ge(t,[e])}kr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Tr=0,xr=0;function Ar(){for(var e=Tr,t=xr=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var a=Cr[t];Cr[t++]=null;var i=Cr[t];if(Cr[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Pr(n,a,i)}}function Ir(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,xr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return Ir(e,t,n,r),Or(e)}function Rr(e,t){return Ir(e,null,null,t),Or(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Or(e){if(50<Ou)throw Ou=0,Du=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,a,i){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case x:return(e=Mr(31,n,t,a)).elementType=x,e.lanes=i,e;case g:return Vr(n.children,a,i,t);case y:o=8,a|=24;break;case v:return(e=Mr(12,n,t,2|a)).elementType=v,e.lanes=i,e;case S:return(e=Mr(13,n,t,a)).elementType=S,e.lanes=i,e;case E:return(e=Mr(19,n,t,a)).elementType=E,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case k:o=10;break e;case w:o=9;break e;case _:o=11;break e;case C:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Vr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Kr=0,Qr=null,Gr=0,Xr=[],$r=0,Yr=null,Jr=1,Zr="";function ea(e,t){Wr[Kr++]=Gr,Wr[Kr++]=Qr,Qr=e,Gr=t}function ta(e,t,n){Xr[$r++]=Jr,Xr[$r++]=Zr,Xr[$r++]=Yr,Yr=e;var r=Jr;e=Zr;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var i=32-fe(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Jr=1<<32-fe(t)+a|n<<a|r,Zr=i+e}else Jr=1<<i|n<<a|r,Zr=e}function na(e){null!==e.return&&(ea(e,1),ta(e,1,0))}function ra(e){for(;e===Qr;)Qr=Wr[--Kr],Wr[Kr]=null,Gr=Wr[--Kr],Wr[Kr]=null;for(;e===Yr;)Yr=Xr[--$r],Xr[$r]=null,Zr=Xr[--$r],Xr[$r]=null,Jr=Xr[--$r],Xr[$r]=null}var aa=null,ia=null,sa=!1,oa=null,la=!1,ua=Error(s(519));function ca(e){throw ga(Er(Error(s(418,"")),e)),ua}function ha(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Oe]=r,n){case"dialog":jc("cancel",t),jc("close",t);break;case"iframe":case"object":case"embed":jc("load",t);break;case"video":case"audio":for(n=0;n<Lc.length;n++)jc(Lc[n],t);break;case"source":jc("error",t);break;case"img":case"image":case"link":jc("error",t),jc("load",t);break;case"details":jc("toggle",t);break;case"input":jc("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":jc("invalid",t);break;case"textarea":jc("invalid",t),kt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yc(t.textContent,n)?(null!=r.popover&&(jc("beforetoggle",t),jc("toggle",t)),null!=r.onScroll&&jc("scroll",t),null!=r.onScrollEnd&&jc("scrollend",t),null!=r.onClick&&(t.onclick=Jc),t=!0):t=!1,t||ca(e)}function da(e){for(aa=e.return;aa;)switch(aa.tag){case 5:case 13:return void(la=!1);case 27:case 3:return void(la=!0);default:aa=aa.return}}function fa(e){if(e!==aa)return!1;if(!sa)return da(e),sa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||oh(e.type,e.memoizedProps)),t=!t),t&&ia&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ia=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ia=null}}else 27===n?(n=ia,ph(e.type)?(e=bh,bh=null,ia=e):ia=n):ia=aa?vh(e.stateNode.nextSibling):null;return!0}function pa(){ia=aa=null,sa=!1}function ma(){var e=oa;return null!==e&&(null===wu?wu=e:wu.push.apply(wu,e),oa=null),e}function ga(e){null===oa?oa=[e]:oa.push(e)}var ya=z(null),va=null,ba=null;function wa(e,t,n){V(ya,t._currentValue),t._currentValue=n}function ka(e){e._currentValue=ya.current,U(ya)}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var u=0;u<t.length;u++)if(l.context===t[u]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),_a(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),_a(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ea(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Xn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===W.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Xh):e=[Xh])}a=a.return}null!==e&&Sa(t,e,n,r),t.flags|=262144}function Ca(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ta(e){va=e,ba=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function xa(e){return Ia(va,e)}function Aa(e,t){return null===va&&Ta(e),Ia(e,t)}function Ia(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ba){if(null===e)throw Error(s(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return n}var Na="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ra=r.unstable_scheduleCallback,Pa=r.unstable_NormalPriority,Oa={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Da(){return{controller:new Na,data:new Map,refCount:0}}function La(e){e.refCount--,0===e.refCount&&Ra(Pa,(function(){e.controller.abort()}))}var Ma=null,Fa=0,ja=0,za=null;function Ua(){if(0===--Fa&&null!==Ma){null!==za&&(za.status="fulfilled");var e=Ma;Ma=null,ja=0,za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Va=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ma){var n=Ma=[];Fa=0,ja=Nc(),za={status:"pending",value:void 0,then:function(e){n.push(e)}}}Fa++,t.then(Ua,Ua)}(0,t),null!==Va&&Va(e,t)};var Ba=z(null);function qa(){var e=Ba.current;return null!==e?e:au.pooledCache}function Ha(e,t){V(Ba,null===t?Ba.current:t.pool)}function Wa(){var e=qa();return null===e?null:{parent:Oa._currentValue,pool:e}}var Ka=Error(s(460)),Qa=Error(s(474)),Ga=Error(s(542)),Xa={then:function(){}};function $a(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ya(){}function Ja(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ya,Ya),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ya,Ya);else{if(null!==(e=au)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Za=t,Ka}}var Za=null;function ei(){if(null===Za)throw Error(s(459));var e=Za;return Za=null,e}function ti(e){if(e===Ka||e===Ga)throw Error(s(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ru)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Or(e),Pr(e,null,n),t}return Ir(e,r,t,n),Or(e)}function oi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ui=!1;function ci(){if(ui){if(null!==za)throw za}}function hi(e,t,n,r){ui=!1;var a=e.updateQueue;ni=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==i){var h=a.baseState;for(s=0,c=u=l=null,o=i;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(su&f)===f:(r&f)===f){0!==f&&f===ja&&(ui=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,h,f):m)||void 0===f)break e;h=d({},h,f);break e;case 2:ni=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,s|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===c&&(l=h),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null===i&&(a.shared.lanes=0),pu|=s,e.lanes=s,e.memoizedState=h}}function di(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function fi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var pi=z(null),mi=z(0);function gi(e,t){V(mi,e=du),V(pi,t),du=e|t.baseLanes}function yi(){V(mi,du),V(pi,pi.current)}function vi(){du=mi.current,U(pi),U(mi)}var bi=0,wi=null,ki=null,_i=null,Si=!1,Ei=!1,Ci=!1,Ti=0,xi=0,Ai=null,Ii=0;function Ni(){throw Error(s(321))}function Ri(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Pi(e,t,n,r,a,i){return bi=i,wi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ks:Qs,Ci=!1,i=n(r,a),Ci=!1,Ei&&(i=Di(t,n,r,a)),Oi(e),i}function Oi(e){D.H=Ws;var t=null!==ki&&null!==ki.next;if(bi=0,_i=ki=wi=null,Si=!1,xi=0,Ai=null,t)throw Error(s(300));null===e||Ao||null!==(e=e.dependencies)&&Ca(e)&&(Ao=!0)}function Di(e,t,n,r){wi=e;var a=0;do{if(Ei&&(Ai=null),xi=0,Ei=!1,25<=a)throw Error(s(301));if(a+=1,_i=ki=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=Gs,i=t(n,r)}while(Ei);return i}function Li(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Vi(t):t,e=e.useState()[0],(null!==ki?ki.memoizedState:null)!==e&&(wi.flags|=1024),t}function Mi(){var e=0!==Ti;return Ti=0,e}function Fi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ji(e){if(Si){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Si=!1}bi=0,_i=ki=wi=null,Ei=!1,xi=Ti=0,Ai=null}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_i?wi.memoizedState=_i=e:_i=_i.next=e,_i}function Ui(){if(null===ki){var e=wi.alternate;e=null!==e?e.memoizedState:null}else e=ki.next;var t=null===_i?wi.memoizedState:_i.next;if(null!==t)_i=t,ki=e;else{if(null===e){if(null===wi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ki=e).memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},null===_i?wi.memoizedState=_i=e:_i=_i.next=e}return _i}function Vi(e){var t=xi;return xi+=1,null===Ai&&(Ai=[]),e=Ja(Ai,e,t),t=wi,null===(null===_i?t.memoizedState:_i.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ks:Qs),e}function Bi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vi(e);if(e.$$typeof===k)return xa(e)}throw Error(s(438,String(e)))}function qi(e){var t=null,n=wi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Hi(e,t){return"function"===typeof t?t(e):t}function Wi(e){return Ki(Ui(),ki,e)}function Ki(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,u=null,c=t=a.next,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(su&d)===d:(bi&d)===d){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===ja&&(h=!0);else{if((bi&f)===f){c=c.next,f===ja&&(h=!0);continue}d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,o=i):u=u.next=d,wi.lanes|=f,pu|=f}d=c.action,Ci&&n(i,d),i=c.hasEagerState?c.eagerState:n(i,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,o=i):u=u.next=f,wi.lanes|=d,pu|=d;c=c.next}while(null!==c&&c!==t);if(null===u?o=i:u.next=l,!Xn(i,e.memoizedState)&&(Ao=!0,h&&null!==(n=za)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=u,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Qi(e){var t=Ui(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Xn(i,t.memoizedState)||(Ao=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=wi,a=Ui(),i=sa;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Xn((ki||a).memoizedState,n);if(o&&(a.memoizedState=n,Ao=!0),a=a.queue,ys(2048,8,Yi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==_i&&1&_i.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},$i.bind(null,r,a,n,t),null),null===au)throw Error(s(349));i||0!==(124&bi)||Xi(r,t,n)}return n}function Xi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $i(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Zi(e)}function Yi(e,t,n){return n((function(){Ji(t)&&Zi(e)}))}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Zi(e){var t=Rr(e,2);null!==t&&Fu(t,e,2)}function es(e){var t=zi();if("function"===typeof e){var n=e;if(e=n(),Ci){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Ki(e,ki,"function"===typeof r?r:Hi)}function ns(e,t,n,r,a){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=n.next,t.pending=n.next=i)}}function rs(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=D.T,s={};D.T=s;try{var o=n(a,r),l=D.S;null!==l&&l(s,o),as(e,t,o)}catch(u){ss(e,t,u)}finally{D.T=i}}else try{as(e,t,i=n(a,r))}catch(c){ss(e,t,c)}}function as(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){is(e,t,n)}),(function(n){return ss(e,t,n)})):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,os(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,os(t),t=t.next}while(t!==r)}e.action=null}function os(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function us(e,t){if(sa){var n=au.formState;if(null!==n){e:{var r=wi;if(sa){if(ia){t:{for(var a=ia,i=la;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=vh(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){ia=vh(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=zi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=zs.bind(null,wi,r),r.dispatch=n,r=es(!1),i=Vs.bind(null,wi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=zi()).queue=a,n=ns.bind(null,wi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return hs(Ui(),ki,e)}function hs(e,t,n){if(t=Ki(e,t,ls)[0],e=Wi(Hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vi(t)}catch(Hr){if(Hr===Ka)throw Ga;throw Hr}else r=t;var a=(t=Ui()).queue,i=a.dispatch;return n!==t.memoizedState&&(wi.flags|=2048,ps(9,{destroy:void 0,resource:void 0},ds.bind(null,a,n),null)),[r,i,e]}function ds(e,t){e.action=t}function fs(e){var t=Ui(),n=ki;if(null!==n)return hs(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Ui().memoizedState}function gs(e,t,n,r){var a=zi();r=void 0===r?null:r,wi.flags|=e,a.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var a=Ui();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==ki&&null!==r&&Ri(r,ki.memoizedState.deps)?a.memoizedState=ps(t,i,n,r):(wi.flags|=e,a.memoizedState=ps(1|t,i,n,r))}function vs(e,t){gs(8390656,8,e,t)}function bs(e,t){ys(2048,8,e,t)}function ws(e,t){return ys(4,2,e,t)}function ks(e,t){return ys(4,4,e,t)}function _s(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ys(4,4,_s.bind(null,t,e),n)}function Es(){}function Cs(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ri(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ri(t,r[1]))return r[0];if(r=e(),Ci){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function xs(e,t,n){return void 0===n||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=n,e=Mu(),wi.lanes|=e,pu|=e,n)}function As(e,t,n,r){return Xn(n,t)?n:null!==pi.current?(e=xs(e,n,r),Xn(e,t)||(Ao=!0),e):0===(42&bi)?(Ao=!0,e.memoizedState=n):(e=Mu(),wi.lanes|=e,pu|=e,t)}function Is(e,t,n,r,a){var i=L.p;L.p=0!==i&&8>i?i:8;var s=D.T,o={};D.T=o,Vs(e,!1,t,n);try{var l=a(),u=D.S;if(null!==u&&u(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Lu());else Us(e,t,r,Lu())}catch(c){Us(e,t,{then:function(){},status:"rejected",reason:c},Lu())}finally{L.p=i,D.T=s}}function Ns(){}function Rs(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Ps(e).queue;Is(e,a,t,M,null===n?Ns:function(){return Os(e),n(r)})}function Ps(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Os(e){Us(e,Ps(e).next.queue,{},Lu())}function Ds(){return xa(Xh)}function Ls(){return Ui().memoizedState}function Ms(){return Ui().memoizedState}function Fs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lu(),r=si(t,e=ii(n),n);return null!==r&&(Fu(r,t,n),oi(r,t,n)),t={cache:Da()},void(e.payload=t)}t=t.return}}function js(e,t,n){var r=Lu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?qs(t,n):null!==(n=Nr(e,t,n,r))&&(Fu(n,e,r),Hs(n,t,r))}function zs(e,t,n){Us(e,t,n,Lu())}function Us(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))qs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Xn(o,s))return Ir(e,t,a,0),null===au&&Ar(),!1}catch(l){}if(null!==(n=Nr(e,t,a,r)))return Fu(n,e,r),Hs(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:Nc(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Nr(e,n,r,2))&&Fu(t,e,2)}function Bs(e){var t=e.alternate;return e===wi||null!==t&&t===wi}function qs(e,t){Ei=Si=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}var Ws={readContext:xa,use:Bi,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useLayoutEffect:Ni,useInsertionEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useSyncExternalStore:Ni,useId:Ni,useHostTransitionStatus:Ni,useFormState:Ni,useActionState:Ni,useOptimistic:Ni,useMemoCache:Ni,useCacheRefresh:Ni},Ks={readContext:xa,use:Bi,useCallback:function(e,t){return zi().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=zi();t=void 0===t?null:t;var r=e();if(Ci){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zi();if(void 0!==n){var a=n(t);if(Ci){de(!0);try{n(t)}finally{de(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=js.bind(null,wi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zi().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=zs.bind(null,wi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Es,useDeferredValue:function(e,t){return xs(zi(),e,t)},useTransition:function(){var e=es(!1);return e=Is.bind(null,wi,e.queue,!0,!1),zi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wi,a=zi();if(sa){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===au)throw Error(s(349));0!==(124&su)||Xi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,vs(Yi.bind(null,r,i,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},$i.bind(null,r,i,n,t),null),n},useId:function(){var e=zi(),t=au.identifierPrefix;if(sa){var n=Zr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Ti++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ii++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:us,useActionState:us,useOptimistic:function(e){var t=zi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,wi,!0,n),n.dispatch=t,[e,t]},useMemoCache:qi,useCacheRefresh:function(){return zi().memoizedState=Fs.bind(null,wi)}},Qs={readContext:xa,use:Bi,useCallback:Cs,useContext:xa,useEffect:bs,useImperativeHandle:Ss,useInsertionEffect:ws,useLayoutEffect:ks,useMemo:Ts,useReducer:Wi,useRef:ms,useState:function(){return Wi(Hi)},useDebugValue:Es,useDeferredValue:function(e,t){return As(Ui(),ki.memoizedState,e,t)},useTransition:function(){var e=Wi(Hi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Ls,useHostTransitionStatus:Ds,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return ts(Ui(),0,e,t)},useMemoCache:qi,useCacheRefresh:Ms},Gs={readContext:xa,use:Bi,useCallback:Cs,useContext:xa,useEffect:bs,useImperativeHandle:Ss,useInsertionEffect:ws,useLayoutEffect:ks,useMemo:Ts,useReducer:Qi,useRef:ms,useState:function(){return Qi(Hi)},useDebugValue:Es,useDeferredValue:function(e,t){var n=Ui();return null===ki?xs(n,e,t):As(n,ki.memoizedState,e,t)},useTransition:function(){var e=Qi(Hi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Ls,useHostTransitionStatus:Ds,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=Ui();return null!==ki?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qi,useCacheRefresh:Ms},Xs=null,$s=0;function Ys(e){var t=$s;return $s+=1,null===Xs&&(Xs=[]),Ja(Xs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eo(e){return(0,e._init)(e._payload)}function to(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&eo(i)===t.type)?(Js(t=a(t,n.props),n),t.return=e,t):(Js(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Js(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(O(t)||N(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Ys(t),n);if(t.$$typeof===k)return d(e,Aa(e,t),n);Zs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?u(e,t,n,r):null;case m:return n.key===a?c(e,t,n,r):null;case T:return f(e,t,n=(a=n._init)(n._payload),r)}if(O(n)||N(n))return null!==a?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ys(n),r);if(n.$$typeof===k)return f(e,t,Aa(e,n),r);Zs(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(O(r)||N(r))return h(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,Ys(r),a);if(r.$$typeof===k)return y(e,t,n,Aa(t,r),a);Zs(t,r)}return null}function v(l,u,c,h){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case p:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===g){if(7===u.tag){n(l,u.sibling),(h=a(u,c.props.children)).return=l,l=h;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&eo(b)===u.type){n(l,u.sibling),Js(h=a(u,c.props),c),h.return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===g?((h=Vr(c.props.children,l.mode,h,c.key)).return=l,l=h):(Js(h=Ur(c.type,c.key,c.props,null,l.mode,h),c),h.return=l,l=h)}return o(l);case m:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(h=a(u,c.children||[])).return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}(h=qr(c,l.mode,h)).return=l,l=h}return o(l);case T:return v(l,u,c=(b=c._init)(c._payload),h)}if(O(c))return function(a,s,o,l){for(var u=null,c=null,h=s,p=s=0,m=null;null!==h&&p<o.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(a,h,o[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(a,h),s=i(g,s,p),null===c?u=g:c.sibling=g,c=g,h=m}if(p===o.length)return n(a,h),sa&&ea(a,p),u;if(null===h){for(;p<o.length;p++)null!==(h=d(a,o[p],l))&&(s=i(h,s,p),null===c?u=h:c.sibling=h,c=h);return sa&&ea(a,p),u}for(h=r(h);p<o.length;p++)null!==(m=y(h,a,p,o[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),s=i(m,s,p),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(a,e)})),sa&&ea(a,p),u}(l,u,c,h);if(N(c)){if("function"!==typeof(b=N(c)))throw Error(s(150));return function(a,o,l,u){if(null==l)throw Error(s(151));for(var c=null,h=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(a,p,v.value,u);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(a,p),o=i(b,o,m),null===h?c=b:h.sibling=b,h=b,p=g}if(v.done)return n(a,p),sa&&ea(a,m),c;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(a,v.value,u))&&(o=i(v,o,m),null===h?c=v:h.sibling=v,h=v);return sa&&ea(a,m),c}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,a,m,v.value,u))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=i(v,o,m),null===h?c=v:h.sibling=v,h=v);return e&&p.forEach((function(e){return t(a,e)})),sa&&ea(a,m),c}(l,u,c=b.call(c),h)}if("function"===typeof c.then)return v(l,u,Ys(c),h);if(c.$$typeof===k)return v(l,u,Aa(l,c),h);Zs(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(h=a(u,c)).return=l,l=h):(n(l,u),(h=Br(c,l.mode,h)).return=l,l=h),o(l)):n(l,u)}return function(e,t,n,r){try{$s=0;var a=v(e,t,n,r);return Xs=null,a}catch(Hr){if(Hr===Ka||Hr===Ga)throw Hr;var i=Mr(29,Hr,null,e.mode);return i.lanes=r,i.return=e,i}}}var no=to(!0),ro=to(!1),ao=z(null),io=null;function so(e){var t=e.alternate;V(co,1&co.current),V(ao,e),null===io&&(null===t||null!==pi.current||null!==t.memoizedState)&&(io=e)}function oo(e){if(22===e.tag){if(V(co,co.current),V(ao,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else lo()}function lo(){V(co,co.current),V(ao,ao.current)}function uo(e){U(ao),io===e&&(io=null),U(co)}var co=z(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lu(),a=ii(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=si(e,a,r))&&(Fu(t,e,r),oi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lu(),a=ii(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=si(e,a,r))&&(Fu(t,e,r),oi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lu(),r=ii(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=si(e,r,n))&&(Fu(t,e,n),oi(t,e,n))}};function mo(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(a,i))}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=d({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bo(e){vo(e)}function wo(e){console.error(e)}function ko(e){vo(e)}function _o(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function So(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Eo(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){_o(e,t)},n}function Co(e){return(e=ii(e)).tag=3,e}function To(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){So(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){So(t,n,r),"function"!==typeof a&&(null===Cu?Cu=new Set([this]):Cu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var xo=Error(s(461)),Ao=!1;function Io(e,t,n,r){t.child=null===e?ro(t,null,n,r):no(t,e.child,n,r)}function No(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ta(t),r=Pi(e,t,n,s,i,a),o=Mi(),null===e||Ao?(sa&&o&&na(t),t.flags|=1,Io(e,t,r,a),t.child):(Fi(e,t,a),$o(e,t,a))}function Ro(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Fr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Po(e,t,i,r,a))}if(i=e.child,!Yo(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(s,r)&&e.ref===t.ref)return $o(e,t,a)}return t.flags|=1,(e=jr(i,r)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if($n(i,r)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=r=i,!Yo(e,a))return t.lanes=e.lanes,$o(e,t,a);0!==(131072&e.flags)&&(Ao=!0)}}return Mo(e,t,n,r,a)}function Oo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Do(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Do(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==i?i.cachePool:null),null!==i?gi(t,i):yi(),oo(t)}else null!==i?(Ha(0,i.cachePool),gi(t,i),lo(),t.memoizedState=null):(null!==e&&Ha(0,null),yi(),lo());return Io(e,t,a,n),t.child}function Do(e,t,n,r){var a=qa();return a=null===a?null:{parent:Oa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ha(0,null),yi(),oo(t),null!==e&&Ea(e,t,r,!0),null}function Lo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Mo(e,t,n,r,a){return Ta(t),n=Pi(e,t,n,r,void 0,a),r=Mi(),null===e||Ao?(sa&&r&&na(t),t.flags|=1,Io(e,t,n,a),t.child):(Fi(e,t,a),$o(e,t,a))}function Fo(e,t,n,r,a,i){return Ta(t),t.updateQueue=null,n=Di(t,r,n,a),Oi(e),r=Mi(),null===e||Ao?(sa&&r&&na(t),t.flags|=1,Io(e,t,n,i),t.child):(Fi(e,t,i),$o(e,t,i))}function jo(e,t,n,r,a){if(Ta(t),null===t.stateNode){var i=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(i=xa(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=po,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),s=n.contextType,i.context="object"===typeof s&&null!==s?xa(s):Dr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(fo(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&po.enqueueReplaceState(i,i.state,null),hi(t,r,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=yo(n,o);i.props=l;var u=i.context,c=n.contextType;s=Dr,"object"===typeof c&&null!==c&&(s=xa(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||u!==s)&&go(t,i,r,s),ni=!1;var d=t.memoizedState;i.state=d,hi(t,r,i,a),ci(),u=t.memoizedState,o||d!==u||ni?("function"===typeof h&&(fo(t,n,h,r),u=t.memoizedState),(l=ni||mo(t,n,l,r,d,u,s))?(c||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ai(e,t),c=yo(n,s=t.memoizedProps),i.props=c,h=t.pendingProps,d=i.context,u=n.contextType,l=Dr,"object"===typeof u&&null!==u&&(l=xa(u)),(u="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==h||d!==l)&&go(t,i,r,l),ni=!1,d=t.memoizedState,i.state=d,hi(t,r,i,a),ci();var f=t.memoizedState;s!==h||d!==f||ni||null!==e&&null!==e.dependencies&&Ca(e.dependencies)?("function"===typeof o&&(fo(t,n,o,r),f=t.memoizedState),(c=ni||mo(t,n,c,r,d,f,l)||null!==e&&null!==e.dependencies&&Ca(e.dependencies))?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Lo(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=no(t,e.child,null,a),t.child=no(t,null,n,a)):Io(e,t,n,a),t.memoizedState=i.state,e=t.child):e=$o(e,t,a),e}function zo(e,t,n,r){return pa(),t.flags|=256,Io(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Wa()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yu),e}function qo(e,t,n){var r,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(sa){if(i?so(t):lo(),sa){var l,u=ia;if(l=u){e:{for(l=u,u=la;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=vh(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,aa=t,ia=null,l=!0):l=!1}l||ca(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return yh(u)?t.lanes=32:t.lanes=536870912,null;uo(t)}return u=a.children,a=a.fallback,i?(lo(),u=Wo({mode:"hidden",children:u},i=t.mode),a=Vr(a,i,n,null),u.return=t,a.return=t,u.sibling=a,t.child=u,(i=t.child).memoizedState=Vo(n),i.childLanes=Bo(e,r,n),t.memoizedState=Uo,a):(so(t),Ho(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Ko(e,t,n)):null!==t.memoizedState?(lo(),t.child=e.child,t.flags|=128,t=null):(lo(),i=a.fallback,u=t.mode,a=Wo({mode:"visible",children:a.children},u),(i=Vr(i,u,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,no(t,e.child,null,n),(a=t.child).memoizedState=Vo(n),a.childLanes=Bo(e,r,n),t.memoizedState=Uo,t=i);else if(so(t),yh(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(a=Error(s(419))).stack="",a.digest=r,ga({value:a,source:null,stack:null}),t=Ko(e,t,n)}else if(Ao||Ea(e,t,n,!1),r=0!==(n&e.childLanes),Ao||r){if(null!==(r=au)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ae(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Rr(e,a),Fu(r,e,a),xo;"$?"===u.data||Gu(),t=Ko(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ia=vh(u.nextSibling),aa=t,sa=!0,oa=null,la=!1,null!==e&&(Xr[$r++]=Jr,Xr[$r++]=Zr,Xr[$r++]=Yr,Jr=e.id,Zr=e.overflow,Yr=t),(t=Ho(t,a.children)).flags|=4096);return t}return i?(lo(),i=a.fallback,u=t.mode,c=(l=e.child).sibling,(a=jr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?i=jr(c,i):(i=Vr(i,u,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(u=e.child.memoizedState)?u=Vo(n):(null!==(l=u.cachePool)?(c=Oa._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Wa(),u={baseLanes:u.baseLanes|n,cachePool:l}),i.memoizedState=u,i.childLanes=Bo(e,r,n),t.memoizedState=Uo,a):(so(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=Wo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wo(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ko(e,t,n){return no(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Go(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Xo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qo(e,n,t);else if(19===e.tag)Qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ho(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Go(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ho(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ea(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ca(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ao=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return Ao=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),wa(0,Oa,e.memoizedState.cache),pa();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:wa(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qo(e,t,n):(so(t),null!==(e=$o(e,t,n))?e.sibling:null);so(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ea(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Xo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),V(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Oo(e,t,n);case 24:wa(0,Oa,e.memoizedState.cache)}return $o(e,t,n)}(e,t,n);Ao=0!==(131072&e.flags)}else Ao=!1,sa&&0!==(1048576&t.flags)&&ta(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===_){t.tag=11,t=No(null,t,r,e,n);break e}if(a===C){t.tag=14,t=Ro(null,t,r,e,n);break e}}throw t=P(r)||r,Error(s(306,t,""))}Fr(r)?(e=yo(r,e),t.tag=1,t=jo(null,t,r,e,n)):(t.tag=0,t=Mo(null,t,r,e,n))}return t;case 0:return Mo(e,t,t.type,t.pendingProps,n);case 1:return jo(e,t,r=t.type,a=yo(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ai(e,t),hi(t,r,null,n);var o=t.memoizedState;if(r=o.cache,wa(0,Oa,r),r!==i.cache&&Sa(t,[Oa],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=zo(e,t,r,n);break e}if(r!==a){ga(a=Er(Error(s(424)),t)),t=zo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ia=vh(e.firstChild),aa=t,sa=!0,oa=null,la=!0,n=ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===a){t=$o(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 26:return Lo(e,t),null===e?(n=Ih(t.type,null,t.pendingProps,null))?t.memoizedState=n:sa||(n=t.type,e=t.pendingProps,(r=ah(H.current).createElement(n))[Pe]=t,r[Oe]=e,th(r,n,e),We(r),t.stateNode=r):t.memoizedState=Ih(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&sa&&(r=t.stateNode=kh(t.type,t.pendingProps,H.current),aa=t,la=!0,a=ia,ph(t.type)?(bh=a,ia=vh(r.firstChild)):ia=a),Io(e,t,t.pendingProps.children,n),Lo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sa&&((a=r=ia)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=vh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,la))?(t.stateNode=r,aa=t,ia=vh(r.firstChild),la=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,oh(a,i)?r=null:null!==o&&oh(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Pi(e,t,Li,null,null,n),Xh._currentValue=a),Lo(e,t),Io(e,t,r,n),t.child;case 6:return null===e&&sa&&((e=n=ia)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,la))?(t.stateNode=n,aa=t,ia=null,e=!0):e=!1),e||ca(t)),null;case 13:return qo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=no(t,null,r,n):Io(e,t,r,n),t.child;case 11:return No(e,t,t.type,t.pendingProps,n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wa(0,t.type,r.value),Io(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ta(t),r=r(a=xa(a)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 19:return Xo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oo(e,t,n);case 24:return Ta(t),r=xa(Oa),null===e?(null===(a=qa())&&(a=au,i=Da(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ri(t),wa(0,Oa,a)):(0!==(e.lanes&n)&&(ai(e,t),hi(t,null,null,n),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),wa(0,Oa,r)):(r=i.cache,wa(0,Oa,r),r!==a.cache&&Sa(t,[Oa],n,!0))),Io(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zo(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bh(t)){if(null!==(t=ao.current)&&((4194048&su)===su?null!==io:(62914560&su)!==su&&0===(536870912&su)||t!==io))throw Za=Xa,Qa;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vu|=t)}function nl(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ka(Oa),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fa(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ma())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),rl(t),t.flags&=-16777217),null;case 27:X(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}e=B.current,fa(t)?ha(t):(e=kh(a,r,n),t.stateNode=e,Zo(t))}return rl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}if(e=B.current,fa(t))ha(t);else{switch(a=ah(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Pe]=t,e[Oe]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(th(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,fa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=aa))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yc(e.nodeValue,n)))||ca(t)}else(e=ah(e).createTextNode(r))[Pe]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Pe]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),a=!1}else a=ma(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return Q(),null===e&&Vc(t.stateNode.containerInfo),rl(t),null;case 10:return ka(t.type),rl(t),null;case 19:if(U(co),null===(a=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)nl(a,!1);else{if(0!==fu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=ho(e))){for(t.flags|=128,nl(a,!1),e=i.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return V(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>Su&&(t.flags|=128,r=!0,nl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ho(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!sa)return rl(t),null}else 2*te()-a.renderingStartTime>Su&&536870912!==n&&(t.flags|=128,r=!0,nl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,V(co,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return uo(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Ba),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ka(Oa),rl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ra(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ka(Oa),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(co),null;case 4:return Q(),null;case 10:return ka(t.type),null;case 22:case 23:return uo(t),vi(),null!==e&&U(Ba),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ka(Oa),null;default:return null}}function sl(e,t){switch(ra(t),t.tag){case 3:ka(Oa),Q();break;case 26:case 27:case 5:X(t);break;case 4:Q();break;case 13:uo(t);break;case 19:U(co);break;case 10:ka(t.type);break;case 22:case 23:uo(t),vi(),null!==e&&U(Ba);break;case 24:ka(Oa)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){hc(t,t.return,o)}}function ll(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,u=o;try{u()}catch(c){hc(a,l,c)}}}r=r.next}while(r!==i)}}catch(c){hc(t,t.return,c)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fi(t,n)}catch(r){hc(e,e.return,r)}}}function cl(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hc(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){hc(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){hc(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){hc(e,t,i)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){hc(e,e.return,a)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:r.hasOwnProperty(p)||Zc(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==d&&Zc(e,t,f,p,r,d)}}return void gt(e,o,l,u,c,h,i,a);case"select":for(i in p=o=l=f=null,n)if(u=n[i],n.hasOwnProperty(i)&&null!=u)switch(i){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(i)||Zc(e,t,i,null,r,u)}for(a in r)if(i=r[a],u=n[a],r.hasOwnProperty(a)&&(null!=i||null!=u))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==u&&Zc(e,t,a,i,r,u)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zc(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Zc(e,t,o,a,r,i)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zc(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zc(e,t,u,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zc(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Zc(e,t,c,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&eh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||eh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zc(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Zc(e,t,d,f,r,p)}(r,e.type,n,t),r[Oe]=t}catch(a){hc(e,e.return,a)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jc));else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);th(t,r,n),t[Pe]=e,t[Oe]=n}catch(i){hc(e,e.return,i)}}var wl=!1,kl=!1,_l=!1,Sl="function"===typeof WeakSet?WeakSet:Set,El=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jl(e,n),4&r&&ol(5,n);break;case 1:if(jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){hc(n,n.return,s)}else{var a=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hc(n,n.return,o)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fi(e,t)}catch(s){hc(n,n.return,s)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:jl(e,n),null===t&&4&r&&fl(n),512&r&&hl(n,n.return);break;case 12:jl(e,n);break;case 13:jl(e,n),4&r&&Rl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||kl,a=wl;var i=kl;wl=r,(kl=t)&&!i?Ul(e,n,0!==(8772&n.subtreeFlags)):jl(e,n),wl=a,kl=i}break;case 30:break;default:jl(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xl=null,Al=!1;function Il(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ce,n)}catch(i){}switch(n.tag){case 26:kl||dl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:kl||dl(n,t);var r=xl,a=Al;ph(n.type)&&(xl=n.stateNode,Al=!1),Il(e,t,n),_h(n.stateNode),xl=r,Al=a;break;case 5:kl||dl(n,t);case 6:if(r=xl,a=Al,xl=null,Il(e,t,n),Al=a,null!==(xl=r))if(Al)try{(9===xl.nodeType?xl.body:"HTML"===xl.nodeName?xl.ownerDocument.body:xl).removeChild(n.stateNode)}catch(s){hc(n,t,s)}else try{xl.removeChild(n.stateNode)}catch(s){hc(n,t,s)}break;case 18:null!==xl&&(Al?(mh(9===(e=xl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ad(e)):mh(xl,n.stateNode));break;case 4:r=xl,a=Al,xl=n.stateNode.containerInfo,Al=!0,Il(e,t,n),xl=r,Al=a;break;case 0:case 11:case 14:case 15:kl||ll(2,n,t),kl||ll(4,n,t),Il(e,t,n);break;case 1:kl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:kl=(r=kl)||null!==n.memoizedState,Il(e,t,n),kl=r;break;default:Il(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ad(e)}catch(n){hc(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=gc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){xl=l.stateNode,Al=!1;break e}break;case 5:xl=l.stateNode,Al=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===xl)throw Error(s(160));Nl(i,o,a),xl=null,Al=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var Dl=null;function Ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Ml(e),4&r&&(ll(3,e,e.return),ol(3,e),ll(5,e,e.return));break;case 1:Ol(t,e),Ml(e),512&r&&(kl||null===n||dl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Dl;if(Ol(t,e),Ml(e),512&r&&(kl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[ze]||i[Pe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),th(i,r,n),i[Pe]=e,We(i),r=i;break e;case"link":var o=Uh("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}th(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(o=Uh("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}th(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[Pe]=e,We(i),r=i}e.stateNode=r}else Vh(a,e.type,e.stateNode);else e.stateNode=Lh(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Vh(a,e.type,e.stateNode):Lh(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Ml(e),512&r&&(kl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Ml(e),512&r&&(kl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{_t(a,"")}catch(p){hc(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(_l=!0);break;case 6:if(Ol(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){hc(e,e.return,p)}}break;case 3:if(zh=null,a=Dl,Dl=Ch(t.containerInfo),Ol(t,e),Dl=a,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ad(t.containerInfo)}catch(p){hc(e,e.return,p)}_l&&(_l=!1,Fl(e));break;case 4:r=Dl,Dl=Ch(e.stateNode.containerInfo),Ol(t,e),Ml(e),Dl=r;break;case 12:default:Ol(t,e),Ml(e);break;case 13:Ol(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(_u=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:a=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=wl,h=kl;if(wl=c||a,kl=h||u,Ol(t,e),kl=h,wl=c,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||u||wl||kl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){hc(u,u.return,p)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(p){hc(u,u.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Ol(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;vl(e,gl(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(_t(i,""),n.flags&=-33),vl(e,gl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,gl(e),o);break;default:throw Error(s(161))}}catch(l){hc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Fl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Fl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),zl(t);break;case 27:_h(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Ul(a,i,n),ol(4,i);break;case 1:if(Ul(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(u){hc(r,r.return,u)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],o)}catch(u){hc(r,r.return,u)}}n&&64&s&&ul(i),hl(i,i.return);break;case 27:bl(i);case 26:case 5:Ul(a,i,n),n&&null===r&&4&s&&fl(i),hl(i,i.return);break;case 12:Ul(a,i,n);break;case 13:Ul(a,i,n),n&&4&s&&Rl(a,i);break;case 22:null===i.memoizedState&&Ul(a,i,n),hl(i,i.return);break;case 30:break;default:Ul(a,i,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&La(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&La(e))}function ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,r),2048&a&&ol(9,t);break;case 1:case 13:default:ql(e,t,n,r);break;case 3:ql(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&La(e)));break;case 12:if(2048&a){ql(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hc(t,t.return,l)}}else ql(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?ql(e,t,n,r):Kl(e,t):2&i._visibility?ql(e,t,n,r):(i._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Vl(s,t);break;case 24:ql(e,t,n,r),2048&a&&Bl(t.alternate,t)}}function Wl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Wl(i,s,o,l,a),ol(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?Wl(i,s,o,l,a):Kl(i,s):(c._visibility|=2,Wl(i,s,o,l,a)),a&&2048&u&&Vl(s.alternate,s);break;case 24:Wl(i,s,o,l,a),a&&2048&u&&Bl(s.alternate,s);break;default:Wl(i,s,o,l,a)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Kl(n,r),2048&a&&Vl(r.alternate,r);break;case 24:Kl(n,r),2048&a&&Bl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Ql=8192;function Gl(e){if(e.subtreeFlags&Ql)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Gl(e),e.flags&Ql&&null!==e.memoizedState&&function(e,t,n){if(null===qh)throw Error(s(475));var r=qh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Nh(n.href),i=e.querySelector(Rh(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Ph(n),(a=Sh.get(a))&&Fh(n,a),We(i=i.createElement("link"));var o=i;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),th(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Dl;Dl=Ch(e.stateNode.containerInfo),Gl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ql,Ql=16777216,Gl(e),Ql=t):Gl(e))}}function $l(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,eu(r,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Yl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,eu(r,e)}$l(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function eu(e,t){for(;null!==El;){var n=El;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:La(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,El=r;else e:for(n=e;null!==El;){var a=(r=El).sibling,i=r.return;if(Tl(r),r===n){El=null;break e}if(null!==a){a.return=i,El=a;break e}El=i}}}var tu={getCacheForType:function(e){var t=xa(Oa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nu="function"===typeof WeakMap?WeakMap:Map,ru=0,au=null,iu=null,su=0,ou=0,lu=null,uu=!1,cu=!1,hu=!1,du=0,fu=0,pu=0,mu=0,gu=0,yu=0,vu=0,bu=null,wu=null,ku=!1,_u=0,Su=1/0,Eu=null,Cu=null,Tu=0,xu=null,Au=null,Iu=0,Nu=0,Ru=null,Pu=null,Ou=0,Du=null;function Lu(){if(0!==(2&ru)&&0!==su)return su&-su;if(null!==D.T){return 0!==ja?ja:Nc()}return Ne()}function Mu(){0===yu&&(yu=0===(536870912&su)||sa?_e():536870912);var e=ao.current;return null!==e&&(e.flags|=32),yu}function Fu(e,t,n){(e!==au||2!==ou&&9!==ou)&&null===e.cancelPendingCommit||(Hu(e,0),Vu(e,su,yu,!1)),Ce(e,n),0!==(2&ru)&&e===au||(e===au&&(0===(2&ru)&&(mu|=n),4===fu&&Vu(e,su,yu,!1)),Sc(e))}function ju(e,t,n){if(0!==(6&ru))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),a=r?function(e,t){var n=ru;ru|=2;var r=Ku(),a=Qu();au!==e||su!==t?(Eu=null,Su=te()+500,Hu(e,t)):cu=we(e,t);e:for(;;)try{if(0!==ou&&null!==iu){t=iu;var i=lu;t:switch(ou){case 1:ou=0,lu=null,ec(e,t,i,1);break;case 2:case 9:if($a(i)){ou=0,lu=null,Zu(t);break}t=function(){2!==ou&&9!==ou||au!==e||(ou=7),Sc(e)},i.then(t,t);break e;case 3:ou=7;break e;case 4:ou=5;break e;case 7:$a(i)?(ou=0,lu=null,Zu(t)):(ou=0,lu=null,ec(e,t,i,7));break;case 5:var o=null;switch(iu.tag){case 26:o=iu.memoizedState;case 5:case 27:var l=iu;if(!o||Bh(o)){ou=0,lu=null;var u=l.sibling;if(null!==u)iu=u;else{var c=l.return;null!==c?(iu=c,tc(c)):iu=null}break t}}ou=0,lu=null,ec(e,t,i,5);break;case 6:ou=0,lu=null,ec(e,t,i,6);break;case 8:qu(),fu=6;break e;default:throw Error(s(462))}}Yu();break}catch(h){Wu(e,h)}return ba=va=null,D.H=r,D.A=a,ru=n,null!==iu?0:(au=null,su=0,Ar(),fu)}(e,t):Xu(e,t,!0),i=r;;){if(0===a){cu&&!r&&Vu(e,t,0,!1);break}if(n=e.current.alternate,!i||Uu(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=bu;var u=l.current.memoizedState.isDehydrated;if(u&&(Hu(l,o).flags|=256),2!==(o=Xu(l,o,!1))){if(hu&&!u){l.errorRecoveryDisabledLanes|=i,mu|=i,a=4;break e}i=wu,wu=a,null!==i&&(null===wu?wu=i:wu.push.apply(wu,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){Hu(e,0),Vu(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Vu(r,t,yu,!uu);break e;case 2:wu=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=_u+300-te())){if(Vu(r,t,yu,!uu),0!==be(r,0,!0))break e;r.timeoutHandle=uh(zu.bind(null,r,n,wu,Eu,ku,t,yu,mu,vu,uu,i,2,-0,0),a)}else zu(r,n,wu,Eu,ku,t,yu,mu,vu,uu,i,0,-0,0)}break}a=Xu(e,t,!1),i=!1}Sc(e)}function zu(e,t,n,r,a,i,o,l,u,c,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(qh={stylesheets:null,count:0,unsuspend:Hh},Xl(t),null!==(d=function(){if(null===qh)throw Error(s(475));var e=qh;return e.stylesheets&&0===e.count&&Qh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Qh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(rc.bind(null,e,t,i,n,r,a,o,l,u,h,1,f,p)),void Vu(e,i,o,!c);rc(e,t,i,n,r,a,o,l,u)}function Uu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Xn(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vu(e,t,n,r){t&=~gu,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Te(e,n,t)}function Bu(){return 0!==(6&ru)||(Ec(0,!1),!1)}function qu(){if(null!==iu){if(0===ou)var e=iu.return;else ba=va=null,ji(e=iu),Xs=null,$s=0,e=iu;for(;null!==e;)sl(e.alternate,e),e=e.return;iu=null}}function Hu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qu(),au=e,iu=n=jr(e.current,null),su=t,ou=0,lu=null,uu=!1,cu=we(e,t),hu=!1,vu=yu=gu=mu=pu=fu=0,wu=bu=null,ku=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),i=1<<a;t|=e[a],r&=~i}return du=t,Ar(),n}function Wu(e,t){wi=null,D.H=Ws,t===Ka||t===Ga?(t=ei(),ou=3):t===Qa?(t=ei(),ou=4):ou=t===xo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lu=t,null===iu&&(fu=1,_o(e,Er(t,e.current)))}function Ku(){var e=D.H;return D.H=Ws,null===e?Ws:e}function Qu(){var e=D.A;return D.A=tu,e}function Gu(){fu=4,uu||(4194048&su)!==su&&null!==ao.current||(cu=!0),0===(134217727&pu)&&0===(134217727&mu)||null===au||Vu(au,su,yu,!1)}function Xu(e,t,n){var r=ru;ru|=2;var a=Ku(),i=Qu();au===e&&su===t||(Eu=null,Hu(e,t)),t=!1;var s=fu;e:for(;;)try{if(0!==ou&&null!==iu){var o=iu,l=lu;switch(ou){case 8:qu(),s=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var u=ou;if(ou=0,lu=null,ec(e,o,l,u),n&&cu){s=0;break e}break;default:u=ou,ou=0,lu=null,ec(e,o,l,u)}}$u(),s=fu;break}catch(c){Wu(e,c)}return t&&e.shellSuspendCounter++,ba=va=null,ru=r,D.H=a,D.A=i,null===iu&&(au=null,su=0,Ar()),s}function $u(){for(;null!==iu;)Ju(iu)}function Yu(){for(;null!==iu&&!Z();)Ju(iu)}function Ju(e){var t=Jo(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?tc(e):iu=t}function Zu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Fo(n,t,t.pendingProps,t.type,void 0,su);break;case 11:t=Fo(n,t,t.pendingProps,t.type.render,t.ref,su);break;case 5:ji(t);default:sl(n,t),t=Jo(n,t=iu=zr(t,du),du)}e.memoizedProps=e.pendingProps,null===t?tc(e):iu=t}function ec(e,t,n,r){ba=va=null,ji(t),Xs=null,$s=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ea(t,n,a,!0),null!==(n=ao.current)){switch(n.tag){case 13:return null===io?Gu():null===n.alternate&&0===fu&&(fu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Xa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),dc(e,r,a)),!1;case 22:return n.flags|=65536,r===Xa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),dc(e,r,a)),!1}throw Error(s(435,n.tag))}return dc(e,r,a),Gu(),!1}if(sa)return null!==(t=ao.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ua&&ga(Er(e=Error(s(422),{cause:r}),n))):(r!==ua&&ga(Er(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Er(r,n),li(e,a=Eo(e.stateNode,r,a)),4!==fu&&(fu=2)),!1;var i=Error(s(520),{cause:r});if(i=Er(i,n),null===bu?bu=[i]:bu.push(i),4!==fu&&(fu=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,li(n,e=Eo(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Cu||!Cu.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,To(a=Co(a),e,n,r),li(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,su))return fu=1,_o(e,Er(n,e.current)),void(iu=null)}catch(i){if(null!==a)throw iu=a,i;return fu=1,_o(e,Er(n,e.current)),void(iu=null)}32768&t.flags?(sa||1===r?e=!0:cu||0!==(536870912&su)?e=!1:(uu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ao.current)&&13===r.tag&&(r.flags|=16384))),nc(t,e)):tc(t)}function tc(e){var t=e;do{if(0!==(32768&t.flags))return void nc(t,uu);e=t.return;var n=al(t.alternate,t,du);if(null!==n)return void(iu=n);if(null!==(t=t.sibling))return void(iu=t);iu=t=e}while(null!==t);0===fu&&(fu=5)}function nc(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(iu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(iu=e);iu=e=n}while(null!==e);fu=6,iu=null}function rc(e,t,n,r,a,i,o,l,u){e.cancelPendingCommit=null;do{lc()}while(0!==Tu);if(0!==(6&ru))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-fe(n),h=1<<c;o[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=xr,o,l,u),e===au&&(iu=au=null,su=0),Au=t,xu=e,Iu=n,Nu=i,Ru=a,Pu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(ie,(function(){return uc(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=L.p,L.p=2,o=ru,ru|=4;try{!function(e,t){if(e=e.containerInfo,nh=rd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==a&&3!==d.nodeType||(l=o+a),d!==i||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===a&&(l=o),f===i&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rh={focusedElem:e,selectionRange:n},rd=!1,El=t;null!==El;)if(e=(t=El).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,El=e;else for(;null!==El;){switch(i=(t=El).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=yo(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){hc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,El=e;break}El=t.return}}(e,t)}finally{ru=o,L.p=a,D.T=r}}Tu=1,ac(),ic(),sc()}}function ac(){if(1===Tu){Tu=0;var e=xu,t=Au,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var a=ru;ru|=4;try{Ll(t,e);var i=rh,s=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rd=!!nh,rh=nh=null}finally{ru=a,L.p=r,D.T=n}}e.current=t,Tu=2}}function ic(){if(2===Tu){Tu=0;var e=xu,t=Au,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var a=ru;ru|=4;try{Cl(e,t.alternate,t)}finally{ru=a,L.p=r,D.T=n}}Tu=3}}function sc(){if(4===Tu||3===Tu){Tu=0,ee();var e=xu,t=Au,n=Iu,r=Pu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tu=5:(Tu=0,Au=xu=null,oc(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Cu=null),Ie(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,a=L.p,L.p=2,D.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{D.T=t,L.p=a}}0!==(3&Iu)&&lc(),Sc(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Du?Ou++:(Ou=0,Du=e):Ou=0,Ec(0,!1)}}function oc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,La(t)))}function lc(e){return ac(),ic(),sc(),uc()}function uc(){if(5!==Tu)return!1;var e=xu,t=Nu;Nu=0;var n=Ie(Iu),r=D.T,a=L.p;try{L.p=32>n?32:n,D.T=null,n=Ru,Ru=null;var i=xu,o=Iu;if(Tu=0,Au=xu=null,Iu=0,0!==(6&ru))throw Error(s(331));var l=ru;if(ru|=4,Jl(i.current),Hl(i,i.current,o,n),ru=l,Ec(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ce,i)}catch(u){}return!0}finally{L.p=a,D.T=r,oc(e,t)}}function cc(e,t,n){t=Er(n,t),null!==(e=si(e,t=Eo(e.stateNode,t,2),2))&&(Ce(e,2),Sc(e))}function hc(e,t,n){if(3===e.tag)cc(e,e,n);else for(;null!==t;){if(3===t.tag){cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cu||!Cu.has(r))){e=Er(n,e),null!==(r=si(t,n=Co(2),2))&&(To(n,r,t,e),Ce(r,2),Sc(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nu;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(hu=!0,a.add(n),e=fc.bind(null,e,t,n),t.then(e,e))}function fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,au===e&&(su&n)===n&&(4===fu||3===fu&&(62914560&su)===su&&300>te()-_u?0===(2&ru)&&Hu(e,0):gu|=n,vu===su&&(vu=0)),Sc(e)}function pc(e,t){0===t&&(t=Se()),null!==(e=Rr(e,t))&&(Ce(e,t),Sc(e))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pc(e,n)}function gc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pc(e,n)}var yc=null,vc=null,bc=!1,wc=!1,kc=!1,_c=0;function Sc(e){e!==vc&&null===e.next&&(null===vc?yc=vc=e:vc=vc.next=e),wc=!0,bc||(bc=!0,dh((function(){0!==(6&ru)?Y(re,Cc):Tc()})))}function Ec(e,t){if(!kc&&wc){kc=!0;do{for(var n=!1,r=yc;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Ic(r,i))}else i=su,0===(3&(i=be(r,r===au?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,i)||(n=!0,Ic(r,i));r=r.next}}while(n);kc=!1}}function Cc(){Tc()}function Tc(){wc=bc=!1;var e=0;0!==_c&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lh&&(lh=e,!0);return lh=null,!1}()&&(e=_c),_c=0);for(var t=te(),n=null,r=yc;null!==r;){var a=r.next,i=xc(r,t);0===i?(r.next=null,null===n?yc=a:n.next=a,null===a&&(vc=n)):(n=r,(0!==e||0!==(3&i))&&(wc=!0)),r=a}Ec(e,!1)}function xc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=ke(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=su,n=be(e,e===(t=au)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ou||9===ou)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ie(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Ac.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Ac(e,t){if(0!==Tu&&5!==Tu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lc()&&e.callbackNode!==n)return null;var r=su;return 0===(r=be(e,e===au?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(ju(e,r,t),xc(e,te()),null!=e.callbackNode&&e.callbackNode===n?Ac.bind(null,e):null)}function Ic(e,t){if(lc())return null;ju(e,t,!0)}function Nc(){return 0===_c&&(_c=_e()),_c}function Rc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function Pc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Oc=0;Oc<kr.length;Oc++){var Dc=kr[Oc];_r(Dc.toLowerCase(),"on"+(Dc[0].toUpperCase()+Dc.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(yr,"onTransitionStart"),_r(vr,"onTransitionCancel"),_r(br,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function Fc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=u;try{i(a)}catch(c){vo(c)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=u;try{i(a)}catch(c){vo(c)}a.currentTarget=null,i=l}}}}function jc(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Bc(t,e,2,!1),n.add(r))}function zc(e,t,n){var r=0;t&&(r|=4),Bc(n,e,r,t)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Vc(e){if(!e[Uc]){e[Uc]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Mc.has(t)||zc(t,!1,e),zc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uc]||(t[Uc]=!0,zc("selectionchange",!1,t))}}function Bc(e,t,n,r){switch(cd(t)){case 2:var a=ad;break;case 8:a=id;break;default:a=sd}n=a.bind(null,t,n,e),a=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qc(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Ve(o)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=i=s;continue e}o=o.parentNode}}r=r.return}Mt((function(){var r=i,a=Rt(n),s=[];e:{var o=wr.get(e);if(void 0!==o){var u=Zt,c=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":u=mn;break;case"focusin":c="focus",u=sn;break;case"focusout":c="blur",u=sn;break;case"beforeblur":case"afterblur":u=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=yn;break;case fr:case pr:case mr:u=on;break;case br:u=vn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=gn;break;case"toggle":case"beforetoggle":u=wn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(m,f))&&h.push(Hc(m,g,p)),d)break;m=m.return}0<h.length&&(o=new u(o,c,null,n,a),s.push({event:o,listeners:h}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!Ve(c)&&!c[De])&&(u||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ve(c):null)&&(d=l(c),h=c.tag,c!==d||5!==h&&27!==h&&6!==h)&&(c=null)):(u=null,c=r),u!==c)){if(h=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==u?o:qe(u),p=null==c?o:qe(c),(o=new h(g,m+"leave",u,n,a)).target=d,o.relatedTarget=p,g=null,Ve(a)===r&&((h=new h(f,m+"enter",c,n,a)).target=p,h.relatedTarget=d,g=h),d=g,u&&c)e:{for(f=c,m=0,p=h=u;p;p=Kc(p))m++;for(p=0,g=f;g;g=Kc(g))p++;for(;0<m-p;)h=Kc(h),m--;for(;0<p-m;)f=Kc(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Kc(h),f=Kc(f)}h=null}else h=null;null!==u&&Qc(s,o,u,h,!1),null!==c&&null!==d&&Qc(s,d,c,h,!0)}if("select"===(u=(o=r?qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var y=jn;else if(Pn(o))if(zn)y=Gn;else{y=Kn;var v=Wn}else!(u=o.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(y=jn):y=Qn;switch(y&&(y=y(e,r))?On(s,y,n,a):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?qe(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,a)}var b;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Nn?An(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Cn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Nn&&(b=Ht()):(Bt="value"in(Vt=a)?Vt.value:Vt.textContent,Nn=!0)),0<(v=Wc(r,w)).length&&(w=new un(w,e,null,n,a),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=In(n))&&(w.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(xn=!0,Tn);case"textInput":return(e=t.data)===Tn&&xn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!_n&&An(e,t)?(e=Ht(),qt=Bt=Vt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Wc(r,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,a),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Rc((a[Oe]||null).action),s=r.submitter;s&&null!==(t=(t=s[Oe]||null)?Rc(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==_c){var e=s?Pc(a,s):new FormData(a);Rs(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Pc(a,s):new FormData(a),Rs(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,r,n,a)}Fc(s,t)}))}function Hc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wc(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Ft(e,n))&&r.unshift(Hc(e,a,i)),null!=(a=Ft(e,t))&&r.push(Hc(e,a,i))),3===e.tag)return r;e=e.return}return[]}function Kc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Qc(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===u||(l=u,a?null!=(u=Ft(n,i))&&s.unshift(Hc(n,u,l)):a||null!=(u=Ft(n,i))&&s.push(Hc(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gc=/\r\n?/g,Xc=/\u0000|\uFFFD/g;function $c(e){return("string"===typeof e?e:""+e).replace(Gc,"\n").replace(Xc,"")}function Yc(e,t){return t=$c(t),$c(e)===t}function Jc(){}function Zc(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Zc(e,t,"name",a.name,a,null),Zc(e,t,"formEncType",a.formEncType,a,null),Zc(e,t,"formMethod",a.formMethod,a,null),Zc(e,t,"formTarget",a.formTarget,a,null)):(Zc(e,t,"encType",a.encType,a,null),Zc(e,t,"method",a.method,a,null),Zc(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Jc);break;case"onScroll":null!=r&&jc("scroll",e);break;case"onScrollEnd":null!=r&&jc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":jc("beforetoggle",e),jc("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=xt.get(n)||n,r)}}function eh(e,t,n,r,a,i){switch(n){case"style":Ct(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&jc("scroll",e);break;case"onScrollEnd":null!=r&&jc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Oe]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function th(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jc("error",e),jc("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zc(e,t,r,o,n,null)}}return i&&Zc(e,t,"srcSet",n.srcSet,n,null),void(a&&Zc(e,t,"src",n.src,n,null));case"input":jc("invalid",e);var l=r=o=i=null,u=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var h=n[a];if(null!=h)switch(a){case"name":i=h;break;case"type":o=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:Zc(e,t,a,h,n,null)}}return yt(e,r,l,u,c,o,i,!1),void ht(e);case"select":for(i in jc("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Zc(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(o in jc("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zc(e,t,o,l,n,null)}return kt(e,a,i,r),void ht(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))if("selected"===u)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Zc(e,t,u,a,n,null);return;case"dialog":jc("beforetoggle",e),jc("toggle",e),jc("cancel",e),jc("close",e);break;case"iframe":case"object":jc("load",e);break;case"video":case"audio":for(a=0;a<Lc.length;a++)jc(Lc[a],e);break;case"image":jc("error",e),jc("load",e);break;case"details":jc("toggle",e);break;case"embed":case"source":case"link":jc("error",e),jc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zc(e,t,c,a,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(a=n[h])&&eh(e,t,h,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Zc(e,t,l,a,n,null))}var nh=null,rh=null;function ah(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function oh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lh=null;var uh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,hh="function"===typeof Promise?Promise:void 0,dh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hh?function(e){return hh.resolve(null).then(e).catch(fh)}:uh;function fh(e){setTimeout((function(){throw e}))}function ph(e){return"head"===e}function mh(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&_h(s.documentElement),2&n&&_h(s.body),4&n)for(_h(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Ad(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ad(t)}function gh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bh=null;function wh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function kh(e,t,n){switch(t=ah(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function _h(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var Sh=new Map,Eh=new Set;function Ch(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Th=L.d;L.d={f:function(){var e=Th.f(),t=Bu();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Os(t):Th.r(e)},D:function(e){Th.D(e),Ah("dns-prefetch",e,null)},C:function(e,t){Th.C(e,t),Ah("preconnect",e,t)},L:function(e,t,n){Th.L(e,t,n);var r=xh;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var i=a;switch(t){case"style":i=Nh(e);break;case"script":i=Oh(e)}Sh.has(i)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sh.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Rh(i))||"script"===t&&r.querySelector(Dh(i))||(th(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Th.m(e,t);var n=xh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Oh(e)}if(!Sh.has(i)&&(e=d({rel:"modulepreload",href:e},t),Sh.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dh(i)))return}th(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Th.X(e,t);var n=xh;if(n&&e){var r=He(n).hoistableScripts,a=Oh(e),i=r.get(a);i||((i=n.querySelector(Dh(a)))||(e=d({src:e,async:!0},t),(t=Sh.get(a))&&jh(e,t),We(i=n.createElement("script")),th(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Th.S(e,t,n);var r=xh;if(r&&e){var a=He(r).hoistableStyles,i=Nh(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Rh(i)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sh.get(i))&&Fh(e,n);var l=s=r.createElement("link");We(l),th(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Mh(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Th.M(e,t);var n=xh;if(n&&e){var r=He(n).hoistableScripts,a=Oh(e),i=r.get(a);i||((i=n.querySelector(Dh(a)))||(e=d({src:e,async:!0,type:"module"},t),(t=Sh.get(a))&&jh(e,t),We(i=n.createElement("script")),th(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var xh="undefined"===typeof document?null:document;function Ah(e,t,n){var r=xh;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Eh.has(a)||(Eh.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(th(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Ih(e,t,n,r){var a,i,o,l,u=(u=H.current)?Ch(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nh(n.href),(r=(n=He(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nh(n.href);var c=He(u).hoistableStyles,h=c.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=u.querySelector(Rh(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Sh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sh.set(e,n),c||(a=u,i=e,o=n,l=h.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),th(i,"link",o),We(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return h}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Oh(n),(r=(n=He(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Nh(e){return'href="'+mt(e)+'"'}function Rh(e){return'link[rel="stylesheet"]['+e+"]"}function Ph(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Oh(e){return'[src="'+mt(e)+'"]'}function Dh(e){return"script[async]"+e}function Lh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var a=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),th(r,"style",a),Mh(r,n.precedence,e),t.instance=r;case"stylesheet":a=Nh(n.href);var i=e.querySelector(Rh(a));if(i)return t.state.loading|=4,t.instance=i,We(i),i;r=Ph(n),(a=Sh.get(a))&&Fh(r,a),We(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),th(i,"link",r),t.state.loading|=4,Mh(i,n.precedence,e),t.instance=i;case"script":return i=Oh(n.src),(a=e.querySelector(Dh(i)))?(t.instance=a,We(a),a):(r=n,(a=Sh.get(i))&&jh(r=d({},n),a),We(a=(e=e.ownerDocument||e).createElement("script")),th(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Mh(r,n.precedence,e));return t.instance}function Mh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zh=null;function Uh(e,t,n){if(null===zh){var r=new Map,a=zh=new Map;a.set(n,r)}else(r=(a=zh).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[ze]||i[Pe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function Vh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qh=null;function Hh(){}function Wh(){if(this.count--,0===this.count)if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kh=null;function Qh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kh=new Map,t.forEach(Gh,e),Kh=null,Wh.call(e))}function Gh(e,t){if(!(4&t.state.loading)){var n=Kh.get(e);if(n)var r=n.get(null);else{n=new Map,Kh.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Wh.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Xh={$$typeof:k,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function $h(e,t,n,r,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yh(e,t,n,r,a,i,s,o,l,u,c,h){return e=new $h(e,t,n,s,o,l,u,h),t=1,!0===i&&(t|=24),i=Mr(3,null,null,t),e.current=i,i.stateNode=e,(t=Da()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function Jh(e){return e?e=Dr:Dr}function Zh(e,t,n,r,a,i){a=Jh(a),null===r.context?r.context=a:r.pendingContext=a,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=si(e,r,t))&&(Fu(n,0,t),oi(n,e,t))}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function nd(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Fu(t,0,67108864),td(e,67108864)}}var rd=!0;function ad(e,t,n,r){var a=D.T;D.T=null;var i=L.p;try{L.p=2,sd(e,t,n,r)}finally{L.p=i,D.T=a}}function id(e,t,n,r){var a=D.T;D.T=null;var i=L.p;try{L.p=8,sd(e,t,n,r)}finally{L.p=i,D.T=a}}function sd(e,t,n,r){if(rd){var a=od(r);if(null===a)qc(e,t,r,ld,n),bd(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dd=wd(dd,e,t,n,r,a),!0;case"dragenter":return fd=wd(fd,e,t,n,r,a),!0;case"mouseover":return pd=wd(pd,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return md.set(i,wd(md.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,gd.set(i,wd(gd.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(bd(e,r),4&t&&-1<vd.indexOf(e)){for(;null!==a;){var i=Be(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ve(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}Sc(i),0===(6&ru)&&(Su=te()+500,Ec(0,!1))}}break;case 13:null!==(o=Rr(i,2))&&Fu(o,0,2),Bu(),td(i,2)}if(null===(i=od(r))&&qc(e,t,r,ld,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else qc(e,t,r,null,n)}}function od(e){return ud(e=Rt(e))}var ld=null;function ud(e){if(ld=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ld=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var hd=!1,dd=null,fd=null,pd=null,md=new Map,gd=new Map,yd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bd(e,t){switch(e){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":fd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":md.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(t.pointerId)}}function wd(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Be(t))&&nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function kd(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,(function(){if(13===n.tag){var e=Lu();e=Ae(e);var t=Rr(n,e);null!==t&&Fu(t,0,e),td(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _d(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=od(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function Sd(e,t,n){_d(e)&&n.delete(t)}function Ed(){hd=!1,null!==dd&&_d(dd)&&(dd=null),null!==fd&&_d(fd)&&(fd=null),null!==pd&&_d(pd)&&(pd=null),md.forEach(Sd),gd.forEach(Sd)}function Cd(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ed)))}var Td=null;function xd(e){Td!==e&&(Td=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Td===e&&(Td=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===ud(r||n))continue;break}var i=Be(n);null!==i&&(e.splice(t,3),t-=3,Rs(i,{pending:!0,data:a,method:n.method,action:r},r,a))}})))}function Ad(e){function t(t){return Cd(t,e)}null!==dd&&Cd(dd,e),null!==fd&&Cd(fd,e),null!==pd&&Cd(pd,e),md.forEach(t),gd.forEach(t);for(var n=0;n<yd.length;n++){var r=yd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yd.length&&null===(n=yd[0]).blockedOn;)kd(n),null===n.blockedOn&&yd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Oe]||null;if("function"===typeof i)s||xd(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Oe]||null)o=s.formAction;else if(null!==ud(a))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),xd(n)}}}function Id(e){this._internalRoot=e}function Nd(e){this._internalRoot=e}Nd.prototype.render=Id.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zh(t.current,Lu(),e,t,null,null)},Nd.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),Bu(),t[De]=null}},Nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yd.length&&0!==t&&t<yd[n].priority;n++);yd.splice(n,0,e),0===n&&kd(e)}};var Rd=a.version;if("19.1.0"!==Rd)throw Error(s(527,Rd,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return c(a),e;if(i===r)return c(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Pd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ce=Od.inject(Pd),he=Od}catch(Ld){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",a=bo,i=wo,l=ko;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yh(e,1,!1,null,0,n,r,a,i,l,0,null),e[De]=t.current,Vc(e),new Id(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,a="",i=bo,l=wo,u=ko,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Yh(e,1,!0,t,0,r,a,i,l,u,0,c)).context=Jh(null),n=t.current,(a=ii(r=Ae(r=Lu()))).callback=null,si(n,a,r),n=r,t.current.lanes=n,Ce(t,n),Sc(t),e[De]=t.current,Vc(e),new Nd(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,a,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(){}function I(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return I((c=e._init)(e._payload),t,a,i,s)}}if(c)return s=s(e),c=""===i?"."+x(e,0):i,k(s)?(a="",null!=c&&(a=c.replace(T,"$&/")+"/"),I(s,t,a,"",(function(e){return e}))):null!=s&&(C(s)&&(l=s,u=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+c,s=E(l.type,u,void 0,0,0,l.props)),t.push(s)),1;c=0;var h,p=""===i?".":i+":";if(k(e))for(var m=0;m<e.length;m++)c+=I(i=e[m],t,a,o=p+x(i,m),s);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(i=e.next()).done;)c+=I(i=i.value,t,a,o=p+x(i,m++),s);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function N(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return E(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return E(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),a=_.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,P)}catch(i){P(i)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element");function r(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,k(e),!m)if(null!==r(u))m=!0,E||(E=!0,S());else{var t=r(c);null!==t&&P(_,t.startTime-e)}}var S,E=!1,C=-1,T=5,x=-1;function A(){return!!y||!(t.unstable_now()-x<T)}function I(){if(y=!1,E){var e=t.unstable_now();x=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),p=!0;var i=f;try{t:{for(k(e),d=r(u);null!==d&&!(d.expirationTime>e&&A());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,k(e),n=!0;break t}d===r(u)&&a(u),k(e)}else a(u);d=r(u)}if(null!==d)n=!0;else{var l=r(c);null!==l&&P(_,l.startTime-e),n=!1}}break e}finally{d=null,f=i,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof w)S=function(){w(I)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=I,S=function(){R.postMessage(null)}}else S=function(){v(I,0)};function P(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(b(C),C=-1):g=!0,P(_,i-s))):(e.sortIndex=o,n(u,e),m||p||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".37f5700e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="proyecto:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+i){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkproyecto=self.webpackChunkproyecto||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n(391);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(358);const h=["sri"],d=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return C((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return _("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:S(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function k(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function C(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",l=null,u=h();function h(){return(s.state||{idx:null}).idx}function d(){o="POP";let e=h(),t=null==e?null:e-u;u=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return T(e)}null==u&&(u=0,s.replaceState(c(c({},s.state),{},{idx:u}),""));let p={get action(){return o},get location(){return e(a,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(y,d),l=e,()=>{a.removeEventListener(y,d),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=_(p.location,e,t);n&&n(r,e),u=h()+1;let c=k(r,u),d=p.createHref(r);try{s.pushState(c,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(d)}i&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=_(p.location,e,t);n&&n(r,e),u=h();let a=k(r,u),c=p.createHref(r);s.replaceState(a,"",c),i&&l&&l({action:o,location:p.location,delta:0})},go:e=>s.go(e)};return p}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:S(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function x(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function A(e,t,n,r){let a=q(("string"===typeof t?E(t):t).pathname||"/",n);if(null==a)return null;let i=I(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=B(a);s=z(i[o],e,r)}return s}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(b(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let o=G([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),I(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:j(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of N(e.path))a(e,t,r);else a(e,t)})),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=N(r.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var R=/^:[\w-]+$/,P=3,O=2,D=1,L=10,M=-2,F=e=>"*"===e;function j(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=M),t&&(r+=O),n.filter((e=>!F(e))).reduce(((e,t)=>e+(R.test(t)?P:""===t?D:L)),r)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===i?t:t.slice(i.length)||"/",c=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(a,c.params),s.push({params:a,pathname:G([i,c.pathname]),pathnameBase:X(G([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=G([i,c.pathnameBase]))}return s}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=V(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function B(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function K(e){let t=W(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function Q(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=c({},e),b(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let i,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?E(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:$(r),hash:Y(a)}}(r,i),u=o&&"/"!==o&&o.endsWith("/"),h=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}var G=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext({isTransitioning:!1});re.displayName="ViewTransition";var ae=r.createContext(new Map);ae.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var se=r.createContext(null);se.displayName="Navigation";var oe=r.createContext(null);oe.displayName="Location";var le=r.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ue=r.createContext(null);ue.displayName="RouteError";function ce(){return null!=r.useContext(oe)}function he(){return b(ce(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(oe).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(se).static||r.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=r.useContext(le);return e?function(){let{router:e}=Se("useNavigate"),t=Ce("useNavigate"),n=r.useRef(!1);fe((()=>{n.current=!0}));let a=r.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,de),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,c({fromRouteId:t},a)))}),[e,t]);return a}():function(){b(ce(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(se),{matches:a}=r.useContext(le),{pathname:i}=he(),s=JSON.stringify(K(a)),o=r.useRef(!1);fe((()=>{o.current=!0}));let l=r.useCallback((function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(o.current,de),!o.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(s),i,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:G([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)}),[t,n,s,i,e]);return l}()}r.createContext(null);function me(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(le),{pathname:a}=he(),i=JSON.stringify(K(n));return r.useMemo((()=>Q(e,JSON.parse(i),a,"path"===t)),[e,i,a,t])}function ge(e,t,n,a){b(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(se),{matches:s}=r.useContext(le),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",d=o&&o.route;{let e=d&&d.path||"";Ae(u,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=he();if(t){var m;let e="string"===typeof t?E(t):t;b("/"===h||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=x(e,{pathname:y});w(d||null!=v,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),w(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=ke(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:G([h,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:G([h,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,a);return t&&k?r.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},k):k}function ye(){let e=Te(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,o)}var ve=r.createElement(ye,null),be=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(le.Provider,{value:this.props.routeContext},r.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:t,match:n,children:a}=e,i=r.useContext(te);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(le.Provider,{value:t},a)}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=a.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,o=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){s=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight(((e,l,u)=>{let c,h=!1,d=null,f=null;n&&(c=i&&l.route.id?i[l.route.id]:void 0,d=l.route.errorElement||ve,s&&(o<0&&0===u?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):o===u&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,u+1)),m=()=>{let t;return t=c?d:h?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(we,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===u)?r.createElement(be,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function _e(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=r.useContext(te);return b(t,_e(e)),t}function Ee(e){let t=r.useContext(ne);return b(t,_e(e)),t}function Ce(e){let t=function(e){let t=r.useContext(le);return b(t,_e(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Te(){var e;let t=r.useContext(ue),n=Ee("useRouteError"),a=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var xe={};function Ae(e,t,n){t||xe[e]||(xe[e]=!0,w(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ge(t,void 0,r,n)}));function Ie(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ne(e){let{basename:t="/",children:n=null,location:a,navigationType:i="POP",navigator:s,static:o=!1}=e;b(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=r.useMemo((()=>({basename:l,navigator:s,static:o,future:{}})),[l,s,o]);"string"===typeof a&&(a=E(a));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=a,m=r.useMemo((()=>{let e=q(c,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:i}}),[l,c,h,d,f,p,i]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(se.Provider,{value:u},r.createElement(oe.Provider,{children:n,value:m}))}function Re(e){let{children:t,location:n}=e;return ge(Pe(t),n)}r.Component;function Pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,a)=>{if(!r.isValidElement(e))return;let i=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Pe(e.props.children,i));b(e.type===Ie,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Pe(e.props.children,i)),n.push(s)})),n}var Oe="get",De="application/x-www-form-urlencoded";function Le(e){return null!=e&&"string"===typeof e.tagName}var Me=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function je(e){return null==e||Fe.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function ze(e,t){let n,r,a,i,s;if(Le(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?q(s,t):null,n=e.getAttribute("method")||Oe,a=je(e.getAttribute("enctype"))||De,i=new FormData(e)}else if(function(e){return Le(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Le(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?q(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Oe,a=je(e.getAttribute("formenctype"))||je(s.getAttribute("enctype"))||De,i=new FormData(s,e),!function(){if(null===Me)try{new FormData(document.createElement("form"),0),Me=!1}catch(e){Me=!0}return Me}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Le(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oe,r=null,a=De,s=e}var o;return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Be(e){return null!=e&&"string"===typeof e.page}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function He(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var u;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(u=n[0])||void 0===u?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function We(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a})).flat(1),[...new Set(r)];var r}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,a)=>{if(t&&!Be(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e}),[])}function Qe(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ge=new Set([100,101,204,205]);function Xe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===q(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function $e(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return r.createElement(Ye,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(Ye,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Ye(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:i,children:s}=e,{routeModules:o}=nt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!i?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,a?r.createElement(ut,null):null)))}function Je(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=r.useContext(te);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=r.useContext(ne);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=r.createContext(void 0);function nt(){let e=r.useContext(tt);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function at(e,t,n){if(n&&!lt)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function it(e){let{page:t}=e,n=i(e,d),{router:a}=Ze(),s=r.useMemo((()=>x(a.routes,t,a.basename)),[a.routes,t,a.basename]);return s?r.createElement(ot,c({page:t,matches:s},n)):null}function st(e){let{manifest:t,routeModules:n}=nt(),[a,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Ke((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(qe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),a}function ot(e){let{page:t,matches:n}=e,a=i(e,f),s=he(),{manifest:o,routeModules:l}=nt(),{basename:u}=Ze(),{loaderData:h,matches:d}=et(),p=r.useMemo((()=>He(t,n,d,o,s,"data")),[t,n,d,o,s]),m=r.useMemo((()=>He(t,n,d,o,s,"assets")),[t,n,d,o,s]),g=r.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let a=o.routes[t.route.id];a&&a.hasLoader&&(!p.some((e=>e.route.id===t.route.id))&&t.route.id in h&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let a=Xe(t,u);return r&&e.size>0&&a.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[u,h,s,o,p,n,t,l]),y=r.useMemo((()=>We(m,o)),[m,o]),v=st(m);return r.createElement(r.Fragment,null,g.map((e=>r.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},a)))),y.map((e=>r.createElement("link",c({key:e,rel:"modulepreload",href:e},a)))),v.map((e=>{let{key:t,link:n}=e;return r.createElement("link",c({key:t},n))})))}tt.displayName="FrameworkContext";var lt=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:s,routeDiscovery:o,ssr:l}=nt(),{router:u,static:d,staticContext:f}=Ze(),{matches:p}=et(),m=Je(o,l);s&&(s.didRenderScripts=!0);let g=at(p,null,a);r.useEffect((()=>{lt=!0}),[]);let y=r.useMemo((()=>{var a;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=d?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];Ue(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:u}=a,c=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:u,varName:"".concat(r,"_main")}];return 1===c.length?"import * as ".concat(r," from ").concat(JSON.stringify(u),";"):[c.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(c.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,h),a=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach((e=>{let n=x(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let l=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(t,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Qe(s),type:void 0})),r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Qe(o),type:"module",async:!0})))}),[]),v=lt?[]:(b=t.entry.imports.concat(We(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return lt?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,m?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0}))),y)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.6.2")}catch(qb){}function dt(e){let{basename:t,children:n,window:a}=e,i=r.useRef();null==i.current&&(i.current=v({window:a,v5Compat:!0}));let s=i.current,[o,l]=r.useState({action:s.action,location:s.location}),u=r.useCallback((e=>{r.startTransition((()=>l(e)))}),[l]);return r.useLayoutEffect((()=>s.listen(u)),[s,u]),r.createElement(Ne,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=r.forwardRef((function(e,t){let n,{onClick:a,discover:s="render",prefetch:o="none",relative:l,reloadDocument:u,replace:h,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=i(e,p),{basename:k}=r.useContext(se),_="string"===typeof m&&ft.test(m),E=!1;if("string"===typeof m&&_&&(n=m,ht))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=q(t.pathname,k);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch(qb){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(se),{hash:i,pathname:s,search:o}=me(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:G([n,s])),a.createHref({pathname:l,search:o,hash:i})}(m,{relative:l}),[T,x,A]=function(e,t){let n=r.useContext(tt),[a,i]=r.useState(!1),[s,o]=r.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(a){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:rt(l,p),onBlur:rt(u,m),onMouseEnter:rt(c,p),onMouseLeave:rt(h,m),onTouchStart:rt(d,p)}]:[!1,f,{}]}(o,v),I=function(e){let{target:t,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=pe(),u=he(),c=me(e,{relative:s});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:S(u)===S(c);l(e,{replace:t,state:a,preventScrollReset:i,relative:s,viewTransition:o})}}),[u,l,c,n,a,t,e,i,s,o])}(m,{replace:h,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:y});let N=r.createElement("a",c(c(c({},v),A),{},{href:n||C,onClick:E||u?a:function(e){a&&a(e),e.defaultPrevented||I(e)},ref:ct(t,x),target:f,"data-discover":_||"render"!==s?void 0:"true"}));return T&&!_?r.createElement(r.Fragment,null,N,r.createElement(it,{page:C})):N}));pt.displayName="Link";var mt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:h,children:d}=e,f=i(e,m),p=me(u,{relative:f.relative}),g=he(),y=r.useContext(ne),{navigator:v,basename:w}=r.useContext(se),k=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(re);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=vt("useViewTransitionState"),i=me(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=q(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=q(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=U(i.pathname,o)||null!=U(i.pathname,s)}(p)&&!0===h,_=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,S=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(S=S.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&w&&(E=q(E,w)||E);const C="/"!==_&&_.endsWith("/")?_.length-1:_.length;let T,x=S===_||!o&&S.startsWith(_)&&"/"===S.charAt(C),A=null!=E&&(E===_||!o&&E.startsWith(_)&&"/"===E.charAt(_.length)),I={isActive:x,isPending:A,isTransitioning:k},N=x?n:void 0;T="function"===typeof s?s(I):[s,x?"active":null,A?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(I):l;return r.createElement(pt,c(c({},f),{},{"aria-current":N,className:T,ref:t,style:R,to:u,viewTransition:h}),"function"===typeof d?d(I):d)}));mt.displayName="NavLink";var gt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:l,state:u,method:h=Oe,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=i(e,g),w=kt(),k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(se),a=r.useContext(le);b(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s=c({},me(e||".",{relative:t})),o=he();if(null==e){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:G([n,s.pathname]));return S(s)}(d,{relative:p}),_="get"===h.toLowerCase()?"get":"post",E="string"===typeof d&&ft.test(d);return r.createElement("form",c(c({ref:t,method:_,action:k,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;w(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":E||"render"!==n?void 0:"true"}))}));function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let t=r.useContext(te);return b(t,yt(e)),t}gt.displayName="Form";var bt=0,wt=()=>"__".concat(String(++bt),"__");function kt(){let{router:e}=vt("useSubmit"),{basename:t}=r.useContext(se),n=Ce("useRouteId");return r.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:u}=ze(r,t);if(!1===a.navigate){let t=a.fetcherKey||wt();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}var _t=n(579);function St(e){let{isOn:t,handleToggle:n}=e;return(0,_t.jsxs)("label",{className:"switch",children:[(0,_t.jsx)("input",{type:"checkbox",checked:t,onChange:n}),(0,_t.jsx)("span",{className:"slider",children:(0,_t.jsxs)("span",{className:"slider-label",children:[(0,_t.jsx)("span",{className:"label-qu",children:"QU "}),(0,_t.jsx)("span",{className:"label-es",children:"ES "})]})})]})}const Et=(0,r.createContext)(),Ct=e=>{let{children:t}=e;const[n,a]=(0,r.useState)("es"),i=()=>{a((e=>"es"===e?"qu":"es"))};return(0,_t.jsxs)(Et.Provider,{value:{language:n,translations:{es:{translateButton:"Traducir a Quichua",homeTitle:"\xa1Bienvenido a tu Asistente Legal Rural!",homeParagraph1:"Aqu\xed encontrar\xe1s apoyo y orientaci\xf3n sobre temas legales relevantes para las comunidades rurales, especialmente en la zona de **Chugchil\xe1n, Cant\xf3n Sigchos, Provincia de Cotopaxi, Ecuador**.",homeParagraph2:"Nuestro objetivo es brindarte informaci\xf3n accesible sobre derechos territoriales, uso del agua, conflictos vecinales, temas de familia, trabajo y m\xe1s.",homeStart:"Puedes empezar:",newChatButton:"\ud83d\udcac Iniciar un Nuevo Chat",downloadButton:"\u2b07\ufe0f Descargar App Android",exploreButton:"\u2728 Explorar Temas Legales",homeFooter:"Utiliza el men\xfa lateral para navegar entre las diferentes secciones. \xa1Estamos aqu\xed para ayudarte!",sidebarHome:"Inicio",sidebarNewChat:"Nuevo Chat",sidebarExplore:"Explorar Temas",sidebarSearchChats:"Buscar Chats",sidebarTitle:"Asistente Legal",sidebarTagline:"Chugchil\xe1n",sidebarFooter:"\xa9 2024 Legal AI",newChatTitle:"Asistente Legal",newChatPlaceholder:"Escribe tu pregunta legal...",newChatSend:"Enviar",explorePageTitle:"Explorar Temas Legales en Chugchil\xe1n",explorePageDescription:"Aqu\xed encontrar\xe1s informaci\xf3n y consejos b\xe1sicos sobre temas legales relevantes para la comunidad rural de Chugchil\xe1n, Sigchos, Cotopaxi, Ecuador.",exploreGoToChat:"Ir al Chat",searchChatsTitle:"Buscar Chats Anteriores",searchChatsDescription:"Aqu\xed podr\xe1s buscar y revisar tus conversaciones pasadas con el Asistente Legal.",pageNotFound:"P\xe1gina no encontrada",tierra:"Tierra",familia:"Familia",trabajo:"Trabajo",violencia:"Violencia",chat:"Chat",tierraInfo:"En Chugchil\xe1n, los derechos sobre la tierra a menudo se entrelazan con las costumbres ancestrales y la propiedad comunitaria. Es vital conocer la Ley de Tierras Rurales y Territorios Ancestrales para la regularizaci\xf3n y protecci\xf3n de la propiedad. En caso de conflictos, la mediaci\xf3n comunitaria es una primera instancia clave.",familiaInfo:"Las din\xe1micas familiares en Chugchil\xe1n pueden tener particularidades culturales. Los temas de matrimonio, uniones de hecho, herencias y custodia de menores se rigen por el C\xf3digo Civil y de la Ni\xf1ez y Adolescencia. Se recomienda buscar el di\xe1logo y, si es necesario, acudir a las Tenencias Pol\xedticas o Juntas Parroquiales.",trabajoInfo:"Las condiciones laborales en zonas rurales como Chugchil\xe1n var\xedan. Es importante conocer los derechos del trabajador establecidos en el C\xf3digo del Trabajo de Ecuador, incluso para labores agr\xedcolas o artesanales. La seguridad social y los contratos justos son aspectos a considerar. La Oficina de Trabajo puede brindar asesor\xeda.",violenciaInfo:"La violencia de cualquier tipo es inaceptable. En Chugchil\xe1n, como en todo el Ecuador, existen leyes para proteger a las v\xedctimas de violencia intrafamiliar y de g\xe9nero. No dudes en denunciar. Puedes acudir a la Polic\xeda Nacional, Juntas Cantonales de Protecci\xf3n de Derechos, o la Fiscal\xeda. Hay organizaciones que brindan apoyo psicol\xf3gico y legal.",chatInfo:"Este es el m\xf3dulo de chat principal donde puedes hacer tus preguntas directamente al asistente legal. Utiliza palabras clave para obtener respuestas r\xe1pidas sobre cualquier tema legal relevante para Chugchil\xe1n.",noInfo:"No hay informaci\xf3n disponible para esta categor\xeda a\xfan."},qu:{translateButton:"Kichwa Rimayman Tikrachiy",homeTitle:"Alli shamushkankichik Kawsaypak Yanapak Killkaman!",homeParagraph1:"Kaypi, Chugchil\xe1n kitillipi, Sigchos kitipi, Kutupaksi markapi, Ecuador mama llaktapi kawsak runakunapak allpa, yaku, ayllu, llamkaymanta, shuktak imakunamantapash yachayta tarinkichik.",homeParagraph2:"\xd1ukanchik munayka, allpa harkaymanta, yaku llamkaymanta, ayllu churanakuykunamanta, llamkaymanta, shuktak imakunamantapash yachayta, tukuykunaman chayakpakmi.",homeStart:"Kaymanta kallarinkichik:",newChatButton:"\ud83d\udcac Mushuk Rimayta Kallarichina",downloadButton:"\u2b07\ufe0f Android Appta Churay",exploreButton:"\u2728 Kamachiy Yachaykunata Maskana",homeFooter:"Kuchu rikuchita llamkachiy, shuktak rakuymanta shuktakman purinkapak. \xa1Yanapankapakmi kaypi kanchik!",sidebarHome:"\xd1awpa Pata",sidebarNewChat:"Mushuk Rimay",sidebarExplore:"Yachaykunata Maskana",sidebarSearchChats:"\xd1awpa Rimaykunata Maskana",sidebarTitle:"Kamachiy Yanapak",sidebarTagline:"Chugchil\xe1n",sidebarFooter:"\xa9 2024 Kamachiy AI",newChatTitle:"Kamachiy Yanapak",newChatPlaceholder:"Tapuyta killkay...",newChatSend:"Kachay",explorePageTitle:"Chugchil\xe1n Kamachiy Yachaykunata Maskana",explorePageDescription:"Kaypi, Chugchil\xe1n, Sigchos, Kutupaksi, Ecuador mama llaktapi kawsak runakunapak kamachiy yachaykunamanta, yanapak tapuykunamanta, yachaykunamanta tarinkichik.",exploreGoToChat:"Rimayman Rina",tierra:"Allpa",familia:"Ayllu",trabajo:"Llamkay",violencia:"Mana Alli Ruray",chat:"Rimay",tierraInfo:"Chugchil\xe1npi, allpamanta kamachiykuna, \xf1awpa kawsaywan, ayllu allpawanmi tantanakushka. Allpa Kamachiyta, Ancestral Allpakunata yachayka, allpata allichinkapak, harkaypakmi sinchi. Churanakuy tiyakpika, ayllu tantanakuywan allichiyka \xf1awpa yanapaymi.",familiaInfo:"Chugchil\xe1n ayllu kawsaypi, shuktak kawsay rikchaykuna tiyan. Kasarakuy, tantanakuy, harkaykuna, wawakunata wakaychaymanta kamachiykuna, Civil Kamachiywan, Wawa, \xd1ukalla Kamachiywanpashmi pusharin. Rimayta maskay, mana atikpika, Tenencia Pol\xedtica, Parroquia Tantanakuykunamanmi rina kanka.",trabajoInfo:"Chugchil\xe1n shina chakrakawsaypi, llamkay ruraykuna shuktakmi. Ecuador Llamkay Kamachiypi churashka llamkaypak hay\xf1ikunata yachayka sinchi, chakrakawsaypi, ruraykunapipash. Social Yanapay, alli llamkay churaykuna yachayka sinchi. Llamkay Oficinaka yanapayta kunata ushan.",violenciaInfo:"Mana alli rurayka mana allichu. Chugchil\xe1npi, tukuy Ecuadorpi shina, ayllu ukhupi, kari-warmi mana alli ruraykunamanta harkaypak kamachiykuna tiyan. Mana manchaychu willayta. Polic\xeda Nacionalman, Derechos Harkay Tantanakuykunaman, Fiscal\xeda ukumanpashmi rina ushankichik. Shuktak tantanakuykunapash yanapayta kun.",chatInfo:"Kay rimay patapi, kamachiy yanapakman tapuykunata rurayta ushankichik. Chugchil\xe1npi kamachiy yachaykunamanta utka kutichiykunata tarinkapak, sinchi rimaykunata llamkachiy.",noInfo:"Kay yachaymanta mana willay tiyanchu kunanrak."}}[n],toggleLanguage:i},children:[(0,_t.jsx)("div",{className:"language-toggle-container",children:(0,_t.jsx)(St,{isOn:"qu"===n,handleToggle:i})}),t]})},Tt=()=>(0,r.useContext)(Et),xt=n.p+"static/media/logoBorde.784e42fd79b55cfcab62.png",At=n.p+"static/media/logoU.20327edb47dc32178010.png";const It=function(){const{translations:e}=Tt();return(0,_t.jsxs)("div",{className:"sidebar",children:[(0,_t.jsxs)("div",{className:"sidebar-header",children:[(0,_t.jsx)("h1",{children:e.sidebarTitle}),(0,_t.jsx)("p",{className:"app-tagline",children:e.sidebarTagline}),(0,_t.jsx)("img",{src:At,alt:"Logo de la aplicaci\xf3n",className:"sidebar-logo"})]}),(0,_t.jsx)("nav",{className:"sidebar-nav",children:(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:(0,_t.jsxs)(mt,{to:"/",end:!0,className:e=>{let{isActive:t}=e;return t?"nav-link active":"nav-link"},children:[(0,_t.jsx)("span",{className:"nav-icon",children:"\ud83c\udfe0"})," ",e.sidebarHome]})}),(0,_t.jsx)("li",{children:(0,_t.jsxs)(mt,{to:"/new-chat",className:e=>{let{isActive:t}=e;return t?"nav-link active":"nav-link"},children:[(0,_t.jsx)("span",{className:"nav-icon",children:"\ud83d\udcac"})," ",e.sidebarNewChat]})}),(0,_t.jsx)("li",{children:(0,_t.jsxs)(mt,{to:"/explore",className:e=>{let{isActive:t}=e;return t?"nav-link active":"nav-link"},children:[(0,_t.jsx)("span",{className:"nav-icon",children:"\u2728"})," ",e.sidebarExplore]})})]})}),(0,_t.jsx)("div",{className:"sidebar-logo-container",children:(0,_t.jsx)("img",{src:xt,alt:"Logo de la aplicaci\xf3n",className:"sidebar-logo"})}),(0,_t.jsx)("div",{className:"sidebar-footer",children:(0,_t.jsx)("p",{children:e.sidebarFooter})})]})};const Nt=function(){const{translations:e}=Tt();return(0,_t.jsxs)("div",{className:"content-section home-page-section",children:[(0,_t.jsx)("h2",{children:e.homeTitle}),(0,_t.jsxs)("div",{className:"home-text-smaller",children:[(0,_t.jsx)("p",{children:e.homeParagraph1}),(0,_t.jsx)("p",{children:e.homeParagraph2})]}),(0,_t.jsxs)("div",{className:"home-actions",children:[(0,_t.jsx)("p",{children:e.homeStart}),(0,_t.jsx)(pt,{to:"/new-chat",className:"action-button primary",children:e.newChatButton}),(0,_t.jsx)(pt,{to:"/explore",className:"action-button secondary",children:e.exploreButton}),(0,_t.jsx)("a",{href:"https://drive.google.com/file/d/19GUdlIEtPZcparLDl6dm-7nZcFy7cIeZ/view?usp=drive_link",className:"action-button primary",target:"_blank",rel:"noopener noreferrer",children:e.downloadButton})]}),(0,_t.jsx)("p",{children:e.homeFooter})]})},Rt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},Pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,s=i?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;o||(d=64,i||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const s=a<e.length?n[e.charAt(a)]:64;++a;const o=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==s||null==o)throw new Ot;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ot extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dt=function(e){return function(e){const t=Rt(e);return Pt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Lt=function(e){try{return Pt.decodeString(e,!0)}catch(qb){console.error("base64Decode failed: ",qb)}return null};function Mt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ft=()=>{try{return Mt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(qb){return}const t=e&&Lt(e[1]);return t&&JSON.parse(t)})()}catch(qb){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(qb))}},jt=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Ft())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},zt=()=>{var e;return null===(e=Ft())||void 0===e?void 0:e.config};class Ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Vt(e){return e.endsWith(".cloudworkstations.dev")}const Bt={};let qt=!1;function Ht(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Vt(window.location.host)||Bt[e]===t||Bt[e]||qt)return;function n(e){return"__firebase__banner__".concat(e)}Bt[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Bt))Bt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{qt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),u=n("preprendIcon"),c=document.getElementById(u)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,u),t.append(c,s,l,n),document.body.appendChild(t)}a?(s.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Wt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Kt(){var e;const t=null===(e=Ft())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(qb){return!1}}function Qt(){return!Kt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gt(){try{return"object"===typeof indexedDB}catch(qb){return!1}}class Xt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Yt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new Xt(n,i,t)}}const Yt=/\{\$([^}]+)}/g;function Jt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(Zt(n)&&Zt(i)){if(!Jt(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Zt(e){return null!==e&&"object"===typeof e}function en(e){return e&&e._delegate?e._delegate:e}class tn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nn="[DEFAULT]";class rn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ut;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(qb){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(qb){if(r)return null;throw qb}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nn})}catch(qb){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(qb){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch($g){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===nn?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch($g){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.component?this.component.multipleInstances?e:nn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class an{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const sn=[];var on;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(on||(on={}));const ln={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},un=on.INFO,cn={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},hn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=cn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class dn{constructor(e){this.name=e,this._logLevel=un,this._logHandler=hn,this._userLogHandler=null,sn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in on))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ln[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...t),this._logHandler(this,on.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...t),this._logHandler(this,on.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.INFO,...t),this._logHandler(this,on.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.WARN,...t),this._logHandler(this,on.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.ERROR,...t),this._logHandler(this,on.ERROR,...t)}}let fn,pn;const mn=new WeakMap,gn=new WeakMap,yn=new WeakMap,vn=new WeakMap,bn=new WeakMap;let wn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function kn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pn||(pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(En(this),n),Sn(mn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sn(e.apply(En(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(En(this),t,...r);return yn.set(i,t.sort?t.sort():[t]),Sn(i)}}function _n(e){return"function"===typeof e?kn(e):(e instanceof IDBTransaction&&function(e){if(gn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));gn.set(e,t)}(e),t=e,(fn||(fn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,wn):e);var t}function Sn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(Sn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&mn.set(t,e)})).catch((()=>{})),bn.set(t,e),t}(e);if(vn.has(e))return vn.get(e);const t=_n(e);return t!==e&&(vn.set(e,t),bn.set(t,e)),t}const En=e=>bn.get(e);const Cn=["get","getKey","getAll","getAllKeys","count"],Tn=["put","add","delete","clear"],xn=new Map;function An(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(xn.get(t))return xn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Tn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Cn.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),a&&t.done]))[0]};return xn.set(t,i),i}wn=(e=>c(c({},e),{},{get:(t,n,r)=>An(t,n)||e.get(t,n,r),has:(t,n)=>!!An(t,n)||e.has(t,n)}))(wn);class In{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Nn="@firebase/app",Rn="0.13.0",Pn=new dn("@firebase/app"),On="@firebase/app-compat",Dn="@firebase/analytics-compat",Ln="@firebase/analytics",Mn="@firebase/app-check-compat",Fn="@firebase/app-check",jn="@firebase/auth",zn="@firebase/auth-compat",Un="@firebase/database",Vn="@firebase/data-connect",Bn="@firebase/database-compat",qn="@firebase/functions",Hn="@firebase/functions-compat",Wn="@firebase/installations",Kn="@firebase/installations-compat",Qn="@firebase/messaging",Gn="@firebase/messaging-compat",Xn="@firebase/performance",$n="@firebase/performance-compat",Yn="@firebase/remote-config",Jn="@firebase/remote-config-compat",Zn="@firebase/storage",er="@firebase/storage-compat",tr="@firebase/firestore",nr="@firebase/ai",rr="@firebase/firestore-compat",ar="firebase",ir="[DEFAULT]",sr={[Nn]:"fire-core",[On]:"fire-core-compat",[Ln]:"fire-analytics",[Dn]:"fire-analytics-compat",[Fn]:"fire-app-check",[Mn]:"fire-app-check-compat",[jn]:"fire-auth",[zn]:"fire-auth-compat",[Un]:"fire-rtdb",[Vn]:"fire-data-connect",[Bn]:"fire-rtdb-compat",[qn]:"fire-fn",[Hn]:"fire-fn-compat",[Wn]:"fire-iid",[Kn]:"fire-iid-compat",[Qn]:"fire-fcm",[Gn]:"fire-fcm-compat",[Xn]:"fire-perf",[$n]:"fire-perf-compat",[Yn]:"fire-rc",[Jn]:"fire-rc-compat",[Zn]:"fire-gcs",[er]:"fire-gcs-compat",[tr]:"fire-fst",[rr]:"fire-fst-compat",[nr]:"fire-vertex","fire-js":"fire-js",[ar]:"fire-js-all"},or=new Map,lr=new Map,ur=new Map;function cr(e,t){try{e.container.addComponent(t)}catch(qb){Pn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),qb)}}function hr(e){const t=e.name;if(ur.has(t))return Pn.debug("There were multiple attempts to register component ".concat(t,".")),!1;ur.set(t,e);for(const n of or.values())cr(n,e);for(const n of lr.values())cr(n,e);return!0}function dr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const fr=new $t("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class pr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}function mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ir,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw fr.create("bad-app-name",{appName:String(a)});if(n||(n=zt()),!n)throw fr.create("no-options");const i=or.get(a);if(i){if(Jt(n,i.options)&&Jt(r,i.config))return i;throw fr.create("duplicate-app",{appName:a})}const s=new an(a);for(const l of ur.values())s.addComponent(l);const o=new pr(n,r,s);return or.set(a,o),o}function gr(e,t,n){var r;let a=null!==(r=sr[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pn.warn(e.join(" "))}hr(new tn("".concat(a,"-version"),(()=>({library:a,version:t})),"VERSION"))}const yr="firebase-heartbeat-store";let vr=null;function br(){return vr||(vr=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Sn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Sn(s.result),e.oldVersion,e.newVersion,Sn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(yr)}catch(qb){console.warn(qb)}}}).catch((e=>{throw fr.create("idb-open",{originalErrorMessage:e.message})}))),vr}async function wr(e,t){try{const n=(await br()).transaction(yr,"readwrite"),r=n.objectStore(yr);await r.put(t,kr(e)),await n.done}catch(qb){if(qb instanceof Xt)Pn.warn(qb.message);else{const t=fr.create("idb-set",{originalErrorMessage:null===qb||void 0===qb?void 0:qb.message});Pn.warn(t.message)}}}function kr(e){return"".concat(e.name,"!").concat(e.options.appId)}class _r{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Er(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(qb){Pn.warn(qb)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Sr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find((e=>e.agent===a.agent));if(e){if(e.dates.push(a.date),Cr(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Cr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=Dt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(qb){return Pn.warn(qb),""}}}function Sr(){return(new Date).toISOString().substring(0,10)}class Er{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Gt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await br()).transaction(yr),n=await t.objectStore(yr).get(kr(e));return await t.done,n}catch(qb){if(qb instanceof Xt)Pn.warn(qb.message);else{const t=fr.create("idb-get",{originalErrorMessage:null===qb||void 0===qb?void 0:qb.message});Pn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Cr(e){return Dt(JSON.stringify({version:2,heartbeats:e})).length}var Tr;Tr="",hr(new tn("platform-logger",(e=>new In(e)),"PRIVATE")),hr(new tn("heartbeat",(e=>new _r(e)),"PRIVATE")),gr(Nn,Rn,Tr),gr(Nn,Rn,"esm2017"),gr("fire-js","");gr("firebase","11.8.1","app");var xr,Ar,Ir="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],s=t+(i^n&(a^i))+r[0]+3614090360&4294967295;s=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((a=i+((s=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(a[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,a),i=0;break}}else for(;s<t;)if(a[i++]=e[s++],i==this.blockSize){n(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(s(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),u=i(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var a=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=i.add(r);0>=u.l(e)&&(a=a.add(n),i=u),r=v(r,1),n=v(n,1)}return t=f(e,a.j(t)),new m(a,t)}for(a=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(i=s(n)).j(t);h(u)||0<u.l(e);)u=(i=s(n-=r)).j(t);c(i)&&(i=l),a=a.add(i),e=f(e,u)}return new m(a,e)}function y(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,i=[],s=0;s<a;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,i=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,i=0;i<=t;i++){var s=a+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,f=65535&this.i(a),m=e.i(i)>>>16,g=65535&e.i(i);n[2*a+2*i]+=f*g,p(n,2*a+2*i),n[2*a+2*i+1]+=l*g,p(n,2*a+2*i+1),n[2*a+2*i+1]+=f*m,p(n,2*a+2*i+1),n[2*a+2*i+2]+=l*m,p(n,2*a+2*i+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ar=Nr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),a=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),u=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),a=a.j(l).add(s(u))):a=(a=a.j(r)).add(s(u))}return a},xr=Nr.Integer=r}).apply("undefined"!==typeof Ir?Ir:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Rr,Pr,Or,Dr,Lr,Mr,Fr,jr,zr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ur={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof zr&&zr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in a))break e;a=a[s]}(r=r(i=a[e=e[e.length-1]]))!=i&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e,t){return t}))}}));var r=r||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){a.setTimeout((()=>{throw e}),0)}function E(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,A=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=a.Promise.resolve(void 0);x=()=>{e.then(R)}};var R=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){S(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function P(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,O);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function z(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++j,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Array.prototype.indexOf.call(a,t,void 0);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}V.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=q(e,t,r,a);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,a){if(r&&r.once)return G(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,a);return null}return n=te(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,a):Q(e,t,n,!1,r,a)}function Q(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=s(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,a);return null}return n=te(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,a):Q(e,t,n,!0,r,a)}function X(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)X(e,t[i],n,r,a);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(i=e.g[t],n,r,a))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,a)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function Y(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var a=t;k(t=new O(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];a=ae(s,r,!0,t)&&a}if(a=ae(s=t.g=e,r,!0,t)&&a,a=ae(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=ae(s=t.g=n[i],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),a=!1!==o.call(l,r)&&a}}return a&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,P),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}h(le,P);var ue=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=a.JSON.stringify,de=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}h(ve,O),h(be,O);var we={},ke=null;function _e(){return ke=ke||new ne}function Se(e){O.call(this,we.La,e)}function Ee(e){const t=_e();re(t,new Se(t))}function Ce(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=_e();re(t,new Ce(t,e))}function xe(e,t){O.call(this,we.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Se,O),we.STAT_EVENT="statevent",h(Ce,O),we.Ma="timingevent",h(xe,O),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Re,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Re=new De;var Fe={},je={};function ze(e,t,n){e.L=1,e.v=ht(st(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),qe(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ue[0]=a.toString()),a=ue);for(var i=0;i<a.length;i++){var s=K(n,a[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,a,i){e.info((function(){if(e.g)if(i)for(var s="",o=i.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(u(e.ba,e),t)}function We(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Qe(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}rn(n),Te(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ae(u(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let u=a[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=u[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(We(o),qe(o)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):Xt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ee()}catch(c){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Kt(this.g);e="";var i=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qe(this),Ke(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Te(12),Qe(this),Ke(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==je){4==d&&(this.s=4,Te(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Ne(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),an(h),h.M=!0,Te(11))}}else Ne(this.i,this.l,o,"[Invalid Chunked Response]"),Qe(this),Ke(this)}else Ne(this.i,this.l,o,null),Ge(this,o);4==d&&Qe(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[a]||[];t[a]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Qe(this),Ke(this)}}}catch(d){}},Le.prototype.cancel=function(){this.J=!0,Qe(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Te(17)),Qe(this),this.s=2,Ke(this)):He(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,s=0;s<a;s++)t.call(void 0,r[s],n&&n[s],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function st(e){return new it(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new kt(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){_t(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return _t(e),t=Tt(e,t),e.g.has(t)}function Ct(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(i){}}function At(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let a=e;s(e)&&(a=he(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(qb){throw t.push(r+"type="+encodeURIComponent("_badmap")),qb}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){_t(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,Et(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var a=i;""!==s[r]&&(a+="="+encodeURIComponent(String(s[r]))),e.push(a)}}return this.i=e.join("&")},h(Nt,pe),Nt.prototype.g=function(){return new Rt(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),h(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var jt=/^https?$/i,zt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),qt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(at)[1]||null;!s&&a.self&&a.self.location&&(s=a.self.location.protocol.slice(0,-1)),i=!jt.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(qb){}}}function Ht(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qt("baseRetryDelayMs",5e3,e),this.cb=Qt("retryDelaySeedMs",1e4,e),this.Wa=Qt("forwardChannelMaxRetries",2,e),this.wa=Qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new At,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xt(e){if(Yt(e),3==e.G){var t=e.U++,n=st(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(st(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}hn(e)}function $t(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Yt(e){$t(e),e.u&&(a.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||N(),A||(x(),A=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=a[o].g;const l=a[o].map;if(n-=t,0>n)t=Math.max(0,a[o].g-100),s=!1;else try{It(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||N(),A||(x(),A=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(st(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=_e(),new xe(r,n)),Jt(e)}else nn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(u(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ie;if(a.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),xt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)})).catch((()=>{clearTimeout(r),xt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),Yt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&ot(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ut(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Ut(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Le(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),k(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,a,t),ct(n=st(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Lt(i)))+"&"+t:this.m&&Mt(n,this.m,i)),et(this.h,a),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),a.T=!0,ze(a,n,null)):ze(a,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),$t(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Xt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,jr=Ur.createWebChannelTransport=function(){return new mn},Fr=Ur.getStatEventTarget=function(){return _e()},Mr=Ur.Event=we,Lr=Ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Dr=Ur.ErrorCode=Pe,Oe.COMPLETE="complete",Or=Ur.EventType=Oe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Pr=Ur.WebChannel=ge,Ur.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Rr=Ur.XhrIo=Ft}).apply("undefined"!==typeof zr?zr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Vr="@firebase/firestore",Br="4.7.16";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let Hr="11.8.1";const Wr=new dn("@firebase/firestore");function Kr(){return Wr.logLevel}function Qr(e){if(Wr.logLevel<=on.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map($r);Wr.debug("Firestore (".concat(Hr,"): ").concat(e),...a)}}function Gr(e){if(Wr.logLevel<=on.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map($r);Wr.error("Firestore (".concat(Hr,"): ").concat(e),...a)}}function Xr(e){if(Wr.logLevel<=on.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map($r);Wr.warn("Firestore (".concat(Hr,"): ").concat(e),...a)}}function $r(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Yr(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Jr(e,r,n)}function Jr(e,t,n){let r="FIRESTORE (".concat(Hr,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Gr(r),new Error(r)}function Zr(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||Jr(t,a,r)}function ea(e,t){return e}const ta={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class na extends Xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ra{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class aa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ia{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qr.UNAUTHENTICATED)))}shutdown(){}}class sa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oa{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Zr(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ra,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=a;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Qr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Qr("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ra)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Qr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Zr("string"==typeof t.accessToken,31837,{l:t}),new aa(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zr(null===e||"string"==typeof e,2055,{h:e}),new qr(e)}}class la{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ua{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new la(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(qr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ca{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ha{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Zr(void 0===this.o,3512);const n=e=>{null!=e.error&&Qr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Qr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Qr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Qr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ca(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Zr("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new ca(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function da(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function fa(){return new TextEncoder}class pa{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=da(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ma(e,t){return e<t?-1:e>t?1:0}function ga(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return ma(r,a);{const i=fa(),s=va(i.encode(ya(e,n)),i.encode(ya(t,n)));return 0!==s?s:ma(r,a)}}n+=r>65535?2:1}return ma(e.length,t.length)}function ya(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function va(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ma(e[n],t[n]);return ma(e.length,t.length)}function ba(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const wa=-62135596800,ka=1e6;class _a{static now(){return _a.fromMillis(Date.now())}static fromDate(e){return _a.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ka);return new _a(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new na(ta.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new na(ta.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wa)throw new na(ta.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new na(ta.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ka}_compareTo(e){return this.seconds===e.seconds?ma(this.nanoseconds,e.nanoseconds):ma(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wa;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sa{static fromTimestamp(e){return new Sa(e)}static min(){return new Sa(new _a(0,0))}static max(){return new Sa(new _a(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ea="__name__";class Ca{constructor(e,t,n){void 0===t?t=0:t>e.length&&Yr(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Yr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ca.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ca?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ca.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ma(e.length,t.length)}static compareSegments(e,t){const n=Ca.isNumericId(e),r=Ca.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ca.extractNumericId(e).compare(Ca.extractNumericId(t)):ga(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class Ta extends Ca{construct(e,t,n){return new Ta(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new na(ta.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter((e=>e.length>0)))}return new Ta(e)}static emptyPath(){return new Ta([])}}const xa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Aa extends Ca{construct(e,t,n){return new Aa(e,t,n)}static isValidIdentifier(e){return xa.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Aa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ea}static keyField(){return new Aa([Ea])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new na(ta.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new na(ta.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new na(ta.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(a(),r++)}if(a(),i)throw new na(ta.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Aa(t)}static emptyPath(){return new Aa([])}}class Ia{constructor(e){this.path=e}static fromPath(e){return new Ia(Ta.fromString(e))}static fromName(e){return new Ia(Ta.fromString(e).popFirst(5))}static empty(){return new Ia(Ta.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ta.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ta.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ia(new Ta(e.slice()))}}const Na=-1;class Ra{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ra.UNKNOWN_ID=-1;function Pa(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Sa.fromTimestamp(1e9===r?new _a(n+1,0):new _a(n,r));return new Da(a,Ia.empty(),t)}function Oa(e){return new Da(e.readTime,e.key,Na)}class Da{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Da(Sa.min(),Ia.empty(),Na)}static max(){return new Da(Sa.max(),Ia.empty(),Na)}}function La(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ia.comparator(e.documentKey,t.documentKey),0!==n?n:ma(e.largestBatchId,t.largestBatchId))}const Ma="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ja(e){if(e.code!==ta.FAILED_PRECONDITION||e.message!==Ma)throw e;Qr("LocalStore","Unexpectedly lost primary lease")}class za{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new za(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof za?t:za.resolve(t)}catch(e){return za.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):za.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):za.reject(t)}static resolve(e){return new za(((t,n)=>{t(e)}))}static reject(e){return new za(((t,n)=>{n(e)}))}static waitFor(e){return new za(((t,n)=>{let r=0,a=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++a,i&&a===r&&t()}),(e=>n(e)))})),i=!0,a===r&&t()}))}static or(e){let t=za.resolve(!1);for(const n of e)t=t.next((e=>e?za.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new za(((n,r)=>{const a=e.length,i=new Array(a);let s=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++s,s===a&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new za(((n,r)=>{const a=()=>{!0===e()?t().next((()=>{a()}),r):n()};a()}))}}function Ua(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Va(e){return"IndexedDbTransactionError"===e.name}class Ba{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ba.le=-1;const qa=-1;function Ha(e){return null==e}function Wa(e){return 0===e&&1/e==-1/0}function Ka(e){return"number"==typeof e&&Number.isInteger(e)&&!Wa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Qa="\x01";function Ga(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$a(t)),t=Xa(e.get(n),t);return $a(t)}function Xa(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case Qa:n+="\x01\x11";break;default:n+=t}}return n}function $a(e){return e+Qa+"\x01"}const Ya="remoteDocuments",Ja="owner",Za="mutationQueues",ei="mutations";const ti="documentMutations",ni="remoteDocumentsV14",ri="remoteDocumentGlobal",ai="targets",ii="targetDocuments",si="targetGlobal",oi="collectionParents",li="clientMetadata",ui="bundles",ci="namedQueries",hi="indexConfiguration",di="indexState",fi="indexEntries",pi="documentOverlays",mi="globals",gi=[Za,ei,ti,Ya,ai,Ja,si,ii,li,ri,oi,ui,ci],yi=[Za,ei,ti,ni,ai,Ja,si,ii,li,ri,oi,ui,ci,pi],vi=yi,bi=[...vi,hi,di,fi];function wi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ki(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _i(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Si{constructor(e,t){this.comparator=e,this.root=t||Ci.EMPTY}insert(e,t){return new Si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new Si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ei(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ei(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ei(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ei(this.root,e,this.comparator,!0)}}class Ei{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ci{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Ci.RED,this.left=null!=r?r:Ci.EMPTY,this.right=null!=a?a:Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new Ci(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ci.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Yr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Yr(27949);return e+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1,Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Yr(57766)}get value(){throw Yr(16141)}get color(){throw Yr(16727)}get left(){throw Yr(29726)}get right(){throw Yr(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new Ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ti{constructor(e){this.comparator=e,this.data=new Si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xi(this.data.getIterator())}getIteratorFrom(e){return new xi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ti))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ti(this.comparator);return t.data=e,t}}class xi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ai{constructor(e){this.fields=e,e.sort(Aa.comparator)}static empty(){return new Ai([])}unionWith(e){let t=new Ti(Aa.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ba(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ii extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ii("Invalid base64 string: "+e):e}}(e);return new Ni(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ma(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const Ri=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(e){if(Zr(!!e,39018),"string"==typeof e){let t=0;const n=Ri.exec(e);if(Zr(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Oi(e.seconds),nanos:Oi(e.nanos)}}function Oi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Di(e){return"string"==typeof e?Ni.fromBase64String(e):Ni.fromUint8Array(e)}const Li="server_timestamp",Mi="__type__",Fi="__previous_value__",ji="__local_write_time__";function zi(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Mi])||void 0===n?void 0:n.stringValue)===Li}function Ui(e){const t=e.mapValue.fields[Fi];return zi(t)?Ui(t):t}function Vi(e){const t=Pi(e.mapValue.fields[ji].timestampValue);return new _a(t.seconds,t.nanos)}class Bi{constructor(e,t,n,r,a,i,s,o,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=u}}const qi="(default)";class Hi{constructor(e,t){this.projectId=e,this.database=t||qi}static empty(){return new Hi("","")}get isDefaultDatabase(){return this.database===qi}isEqual(e){return e instanceof Hi&&e.projectId===this.projectId&&e.database===this.database}}const Wi="__type__",Ki="__max__",Qi={mapValue:{fields:{__type__:{stringValue:Ki}}}},Gi="__vector__",Xi="value";function $i(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zi(e)?4:ds(e)?9007199254740991:cs(e)?10:11:Yr(28295,{value:e})}function Yi(e,t){if(e===t)return!0;const n=$i(e);if(n!==$i(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vi(e).isEqual(Vi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Pi(e.timestampValue),r=Pi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Di(e.bytesValue).isEqual(Di(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Oi(e.geoPointValue.latitude)===Oi(t.geoPointValue.latitude)&&Oi(e.geoPointValue.longitude)===Oi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Oi(e.integerValue)===Oi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Oi(e.doubleValue),r=Oi(t.doubleValue);return n===r?Wa(n)===Wa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ba(e.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wi(n)!==wi(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Yi(n[a],r[a])))return!1;return!0}(e,t);default:return Yr(52216,{left:e})}}function Ji(e,t){return void 0!==(e.values||[]).find((e=>Yi(e,t)))}function Zi(e,t){if(e===t)return 0;const n=$i(e),r=$i(t);if(n!==r)return ma(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ma(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Oi(e.integerValue||e.doubleValue),r=Oi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return es(e.timestampValue,t.timestampValue);case 4:return es(Vi(e),Vi(t));case 5:return ga(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Di(e),r=Di(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=ma(n[a],r[a]);if(0!==e)return e}return ma(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ma(Oi(e.latitude),Oi(t.latitude));return 0!==n?n:ma(Oi(e.longitude),Oi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ts(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,i;const s=e.fields||{},o=t.fields||{},l=null===(n=s[Xi])||void 0===n?void 0:n.arrayValue,u=null===(r=o[Xi])||void 0===r?void 0:r.arrayValue,c=ma((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(i=null==u?void 0:u.values)||void 0===i?void 0:i.length)||0);return 0!==c?c:ts(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Qi.mapValue&&t===Qi.mapValue)return 0;if(e===Qi.mapValue)return 1;if(t===Qi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=ga(r[s],i[s]);if(0!==e)return e;const t=Zi(n[r[s]],a[i[s]]);if(0!==t)return t}return ma(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Yr(23264,{Pe:n})}}function es(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ma(e,t);const n=Pi(e),r=Pi(t),a=ma(n.seconds,r.seconds);return 0!==a?a:ma(n.nanos,r.nanos)}function ts(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Zi(n[a],r[a]);if(e)return e}return ma(n.length,r.length)}function ns(e){return rs(e)}function rs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Pi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Di(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ia.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=rs(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(rs(e.fields[a]));return n+"}"}(e.mapValue):Yr(61005,{value:e})}function as(e){switch($i(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ui(e);return t?16+as(t):16;case 5:return 2*e.stringValue.length;case 6:return Di(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+as(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ki(e.fields,((e,n)=>{t+=e.length+as(n)})),t}(e.mapValue);default:throw Yr(13486,{value:e})}}function is(e){return!!e&&"integerValue"in e}function ss(e){return!!e&&"arrayValue"in e}function os(e){return!!e&&"nullValue"in e}function ls(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function us(e){return!!e&&"mapValue"in e}function cs(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Wi])||void 0===n?void 0:n.stringValue)===Gi}function hs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ki(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=hs(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ds(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ki}class fs{constructor(e){this.value=e}static empty(){return new fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!us(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hs(t)}setAll(e){let t=Aa.emptyPath(),n={},r=[];e.forEach(((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=hs(e):r.push(a.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());us(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];us(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ki(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new fs(hs(this.value))}}function ps(e){const t=[];return ki(e.fields,((e,n)=>{const r=new Aa([e]);if(us(n)){const e=ps(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ai(t)}class ms{constructor(e,t,n,r,a,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=i,this.documentState=s}static newInvalidDocument(e){return new ms(e,0,Sa.min(),Sa.min(),Sa.min(),fs.empty(),0)}static newFoundDocument(e,t,n,r){return new ms(e,1,t,Sa.min(),n,r,0)}static newNoDocument(e,t){return new ms(e,2,t,Sa.min(),Sa.min(),fs.empty(),0)}static newUnknownDocument(e,t){return new ms(e,3,t,Sa.min(),Sa.min(),fs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class gs{constructor(e,t){this.position=e,this.inclusive=t}}function ys(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(r=i.field.isKeyField()?Ia.comparator(Ia.fromName(s.referenceValue),n.key):Zi(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function vs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yi(e.position[n],t.position[n]))return!1;return!0}class bs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ws(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ks{}class _s extends ks{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ns(e,t,n):"array-contains"===t?new Ds(e,n):"in"===t?new Ls(e,n):"not-in"===t?new Ms(e,n):"array-contains-any"===t?new Fs(e,n):new _s(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Rs(e,n):new Ps(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Zi(t,this.value)):null!==t&&$i(this.value)===$i(t)&&this.matchesComparison(Zi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ss extends ks{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ss(e,t)}matches(e){return Es(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Es(e){return"and"===e.op}function Cs(e){return Ts(e)&&Es(e)}function Ts(e){for(const t of e.filters)if(t instanceof Ss)return!1;return!0}function xs(e){if(e instanceof _s)return e.field.canonicalString()+e.op.toString()+ns(e.value);if(Cs(e))return e.filters.map((e=>xs(e))).join(",");{const t=e.filters.map((e=>xs(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function As(e,t){return e instanceof _s?function(e,t){return t instanceof _s&&e.op===t.op&&e.field.isEqual(t.field)&&Yi(e.value,t.value)}(e,t):e instanceof Ss?function(e,t){return t instanceof Ss&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&As(n,t.filters[r])),!0)}(e,t):void Yr(19439)}function Is(e){return e instanceof _s?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ns(e.value))}(e):e instanceof Ss?function(e){return e.op.toString()+" {"+e.getFilters().map(Is).join(" ,")+"}"}(e):"Filter"}class Ns extends _s{constructor(e,t,n){super(e,t,n),this.key=Ia.fromName(n.referenceValue)}matches(e){const t=Ia.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rs extends _s{constructor(e,t){super(e,"in",t),this.keys=Os("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ps extends _s{constructor(e,t){super(e,"not-in",t),this.keys=Os("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Os(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ia.fromName(e.referenceValue)))}class Ds extends _s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ss(t)&&Ji(t.arrayValue,this.value)}}class Ls extends _s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ji(this.value.arrayValue,t)}}class Ms extends _s{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ji(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ji(this.value.arrayValue,t)}}class Fs extends _s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ss(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ji(this.value.arrayValue,e)))}}class js{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=i,this.endAt=s,this.Ie=null}}function zs(e){return new js(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Us(e){const t=ea(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>xs(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ha(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ns(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ns(e))).join(",")),t.Ie=e}return t.Ie}function Vs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ws(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!As(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vs(e.startAt,t.startAt)&&vs(e.endAt,t.endAt)}function Bs(e){return Ia.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class qs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=i,this.startAt=s,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Hs(e,t,n,r,a,i,s,o){return new qs(e,t,n,r,a,i,s,o)}function Ws(e){return new qs(e)}function Ks(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qs(e){return null!==e.collectionGroup}function Gs(e){const t=ea(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ee.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ti(Aa.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new bs(r,n))})),e.has(Aa.keyField().canonicalString())||t.Ee.push(new bs(Aa.keyField(),n))}return t.Ee}function Xs(e){const t=ea(e);return t.de||(t.de=$s(t,Gs(e))),t.de}function $s(e,t){if("F"===e.limitType)return zs(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new bs(e.field,t)}));const n=e.endAt?new gs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gs(e.startAt.position,e.startAt.inclusive):null;return zs(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ys(e,t,n){return new qs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Js(e,t){return Vs(Xs(e),Xs(t))&&e.limitType===t.limitType}function Zs(e){return"".concat(Us(Xs(e)),"|lt:").concat(e.limitType)}function eo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Is(e))).join(", "),"]")),Ha(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ns(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ns(e))).join(",")),"Target(".concat(t,")")}(Xs(e)),"; limitType=").concat(e.limitType,")")}function to(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ia.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Gs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ys(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gs(e),t))&&!(e.endAt&&!function(e,t,n){const r=ys(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gs(e),t))}(e,t)}function no(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ro(e){return(t,n)=>{let r=!1;for(const a of Gs(e)){const e=ao(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function ao(e,t,n){const r=e.field.isKeyField()?Ia.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Zi(r,a):Yr(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Yr(19790,{direction:e.dir})}}class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,((t,n)=>{for(const[r,a]of n)e(r,a)}))}isEmpty(){return _i(this.inner)}size(){return this.innerSize}}const so=new Si(Ia.comparator);function oo(){return so}const lo=new Si(Ia.comparator);function uo(){let e=lo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function co(e){let t=lo;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ho(){return po()}function fo(){return po()}function po(){return new io((e=>e.toString()),((e,t)=>e.isEqual(t)))}const mo=new Si(Ia.comparator),go=new Ti(Ia.comparator);function yo(){let e=go;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const vo=new Ti(ma);function bo(){return vo}function wo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wa(t)?"-0":t}}function ko(e){return{integerValue:""+e}}function _o(e,t){return Ka(t)?ko(t):wo(e,t)}class So{constructor(){this._=void 0}}function Eo(e,t,n){return e instanceof xo?function(e,t){const n={fields:{[Mi]:{stringValue:Li},[ji]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zi(t)&&(t=Ui(t)),t&&(n.fields[Fi]=t),{mapValue:n}}(n,t):e instanceof Ao?Io(e,t):e instanceof No?Ro(e,t):function(e,t){const n=To(e,t),r=Oo(n)+Oo(e.Re);return is(n)&&is(e.Re)?ko(r):wo(e.serializer,r)}(e,t)}function Co(e,t,n){return e instanceof Ao?Io(e,t):e instanceof No?Ro(e,t):n}function To(e,t){return e instanceof Po?function(e){return is(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class xo extends So{}class Ao extends So{constructor(e){super(),this.elements=e}}function Io(e,t){const n=Do(t);for(const r of e.elements)n.some((e=>Yi(e,r)))||n.push(r);return{arrayValue:{values:n}}}class No extends So{constructor(e){super(),this.elements=e}}function Ro(e,t){let n=Do(t);for(const r of e.elements)n=n.filter((e=>!Yi(e,r)));return{arrayValue:{values:n}}}class Po extends So{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Oo(e){return Oi(e.integerValue||e.doubleValue)}function Do(e){return ss(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Lo{constructor(e,t){this.version=e,this.transformResults=t}}class Mo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mo}static exists(e){return new Mo(void 0,e)}static updateTime(e){return new Mo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class jo{}function zo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xo(e.key,Mo.none()):new Ho(e.key,e.data,Mo.none());{const n=e.data,r=fs.empty();let a=new Ti(Aa.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new Wo(e.key,r,new Ai(a.toArray()),Mo.none())}}function Uo(e,t,n){e instanceof Ho?function(e,t,n){const r=e.value.clone(),a=Qo(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wo?function(e,t,n){if(!Fo(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Qo(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Ko(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vo(e,t,n,r){return e instanceof Ho?function(e,t,n,r){if(!Fo(e.precondition,t))return n;const a=e.value.clone(),i=Go(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Wo?function(e,t,n,r){if(!Fo(e.precondition,t))return n;const a=Go(e.fieldTransforms,r,t),i=t.data;return i.setAll(Ko(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Fo(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=To(r.transform,e||null);null!=a&&(null===n&&(n=fs.empty()),n.set(r.field,a))}return n||null}function qo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ba(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ao&&t instanceof Ao||e instanceof No&&t instanceof No?ba(e.elements,t.elements,Yi):e instanceof Po&&t instanceof Po?Yi(e.Re,t.Re):e instanceof xo&&t instanceof xo}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ho extends jo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wo extends jo{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ko(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Qo(e,t,n){const r=new Map;Zr(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);r.set(i.field,Co(s,o,n[a]))}return r}function Go(e,t,n){const r=new Map;for(const a of e){const e=a.transform,i=n.data.field(a.field);r.set(a.field,Eo(e,i,t))}return r}class Xo extends jo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $o extends jo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yo{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Uo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Vo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Vo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=fo();return this.mutations.forEach((r=>{const a=e.get(r.key),i=a.overlayedDocument;let s=this.applyToLocalView(i,a.mutatedFields);s=t.has(r.key)?null:s;const o=zo(i,s);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Sa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yo())}isEqual(e){return this.batchId===e.batchId&&ba(this.mutations,e.mutations,((e,t)=>qo(e,t)))&&ba(this.baseMutations,e.baseMutations,((e,t)=>qo(e,t)))}}class Jo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Zr(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=mo;const a=e.mutations;for(let i=0;i<a.length;i++)r=r.insert(a[i].key,n[i].version);return new Jo(e,t,n,r)}}class Zo{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class el{constructor(e,t){this.count=e,this.unchangedNames=t}}var tl,nl;function rl(e){switch(e){case ta.OK:return Yr(64938);case ta.CANCELLED:case ta.UNKNOWN:case ta.DEADLINE_EXCEEDED:case ta.RESOURCE_EXHAUSTED:case ta.INTERNAL:case ta.UNAVAILABLE:case ta.UNAUTHENTICATED:return!1;case ta.INVALID_ARGUMENT:case ta.NOT_FOUND:case ta.ALREADY_EXISTS:case ta.PERMISSION_DENIED:case ta.FAILED_PRECONDITION:case ta.ABORTED:case ta.OUT_OF_RANGE:case ta.UNIMPLEMENTED:case ta.DATA_LOSS:return!0;default:return Yr(15467,{code:e})}}function al(e){if(void 0===e)return Gr("GRPC error has no .code"),ta.UNKNOWN;switch(e){case tl.OK:return ta.OK;case tl.CANCELLED:return ta.CANCELLED;case tl.UNKNOWN:return ta.UNKNOWN;case tl.DEADLINE_EXCEEDED:return ta.DEADLINE_EXCEEDED;case tl.RESOURCE_EXHAUSTED:return ta.RESOURCE_EXHAUSTED;case tl.INTERNAL:return ta.INTERNAL;case tl.UNAVAILABLE:return ta.UNAVAILABLE;case tl.UNAUTHENTICATED:return ta.UNAUTHENTICATED;case tl.INVALID_ARGUMENT:return ta.INVALID_ARGUMENT;case tl.NOT_FOUND:return ta.NOT_FOUND;case tl.ALREADY_EXISTS:return ta.ALREADY_EXISTS;case tl.PERMISSION_DENIED:return ta.PERMISSION_DENIED;case tl.FAILED_PRECONDITION:return ta.FAILED_PRECONDITION;case tl.ABORTED:return ta.ABORTED;case tl.OUT_OF_RANGE:return ta.OUT_OF_RANGE;case tl.UNIMPLEMENTED:return ta.UNIMPLEMENTED;case tl.DATA_LOSS:return ta.DATA_LOSS;default:return Yr(39323,{code:e})}}(nl=tl||(tl={}))[nl.OK=0]="OK",nl[nl.CANCELLED=1]="CANCELLED",nl[nl.UNKNOWN=2]="UNKNOWN",nl[nl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nl[nl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nl[nl.NOT_FOUND=5]="NOT_FOUND",nl[nl.ALREADY_EXISTS=6]="ALREADY_EXISTS",nl[nl.PERMISSION_DENIED=7]="PERMISSION_DENIED",nl[nl.UNAUTHENTICATED=16]="UNAUTHENTICATED",nl[nl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nl[nl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nl[nl.ABORTED=10]="ABORTED",nl[nl.OUT_OF_RANGE=11]="OUT_OF_RANGE",nl[nl.UNIMPLEMENTED=12]="UNIMPLEMENTED",nl[nl.INTERNAL=13]="INTERNAL",nl[nl.UNAVAILABLE=14]="UNAVAILABLE",nl[nl.DATA_LOSS=15]="DATA_LOSS";let il=null;const sl=new xr([4294967295,4294967295],0);function ol(e){const t=fa().encode(e),n=new Ar;return n.update(t),new Uint8Array(n.digest())}function ll(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new xr([n,r],0),new xr([a,i],0)]}class ul{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cl("Invalid padding: ".concat(t));if(n<0)throw new cl("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new cl("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new cl("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=xr.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(xr.fromNumber(n)));return 1===r.compare(sl)&&(r=new xr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=ol(e),[n,r]=ll(t);for(let a=0;a<this.hashCount;a++){const e=this.we(n,r,a);if(!this.Se(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new ul(a,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=ol(e),[n,r]=ll(t);for(let a=0;a<this.hashCount;a++){const e=this.we(n,r,a);this.be(e)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hl{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hl(Sa.min(),r,new Si(ma),oo(),yo())}}class dl{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dl(n,t,yo(),yo(),yo())}}class fl{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class pl{constructor(e,t){this.targetId=e,this.Ce=t}}class ml{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ni.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class gl{constructor(){this.Fe=0,this.Me=bl(),this.xe=Ni.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=yo(),t=yo(),n=yo();return this.Me.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Yr(38017,{changeType:a})}})),new dl(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=bl()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Zr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yl{constructor(e){this.ze=e,this.je=new Map,this.He=oo(),this.Je=vl(),this.Ye=vl(),this.Ze=new Si(ma)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Yr(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const a=r.target;if(Bs(a))if(0===n){const e=new Ia(a.path);this.tt(t,e,ms.newNoDocument(e,Sa.min()))}else Zr(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),a=n?this.lt(n,e,r):1;if(0!==a){this.st(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==il||il.ht(function(e,t,n,r,a){var i,s,o,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===a,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,a))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let i,s;try{i=Di(n).toUint8Array()}catch(e){if(e instanceof Ii)return Xr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new ul(i,r,a)}catch(e){return Xr(e instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const a=this.ze.Pt(),i="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const a=this._t(r);if(a){if(n.current&&Bs(a.target)){const t=new Ia(a.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,ms.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=yo();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new hl(e,t,this.Ze,this.He,n);return this.He=oo(),this.Je=vl(),this.Ye=vl(),this.Ze=new Si(ma),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new gl,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ti(ma),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ti(ma),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Qr("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gl),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function vl(){return new Si(Ia.comparator)}function bl(){return new Si(Ia.comparator)}const wl={asc:"ASCENDING",desc:"DESCENDING"},kl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_l={and:"AND",or:"OR"};class Sl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function El(e,t){return e.useProto3Json||Ha(t)?t:{value:t}}function Cl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xl(e,t){return Cl(e,t.toTimestamp())}function Al(e){return Zr(!!e,49232),Sa.fromTimestamp(function(e){const t=Pi(e);return new _a(t.seconds,t.nanos)}(e))}function Il(e,t){return Nl(e,t).canonicalString()}function Nl(e,t){const n=function(e){return new Ta(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Rl(e){const t=Ta.fromString(e);return Zr(Yl(t),10190,{key:t.toString()}),t}function Pl(e,t){return Il(e.databaseId,t.path)}function Ol(e,t){const n=Rl(t);if(n.get(1)!==e.databaseId.projectId)throw new na(ta.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new na(ta.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ia(Fl(n))}function Dl(e,t){return Il(e.databaseId,t)}function Ll(e){const t=Rl(e);return 4===t.length?Ta.emptyPath():Fl(t)}function Ml(e){return new Ta(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fl(e){return Zr(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function jl(e,t,n){return{name:Pl(e,t),fields:n.value.mapValue.fields}}function zl(e,t){let n;if(t instanceof Ho)n={update:jl(e,t.key,t.value)};else if(t instanceof Xo)n={delete:Pl(e,t.key)};else if(t instanceof Wo)n={update:jl(e,t.key,t.data),updateMask:$l(t.fieldMask)};else{if(!(t instanceof $o))return Yr(16599,{ft:t.type});n={verify:Pl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof xo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ao)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof No)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Po)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Yr(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Yr(27497)}(e,t.precondition)),n}function Ul(e,t){return{documents:[Dl(e,t.path)]}}function Vl(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dl(e,a);const i=function(e){if(0!==e.length)return Xl(Ss.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ql(e.field),direction:Hl(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=El(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:a}}function Bl(e){let t=Ll(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Zr(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=ql(e);return t instanceof Ss&&Cs(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new bs(Gl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ha(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new gs(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new gs(n,t)}(n.endAt)),Hs(t,a,s,i,o,"F",l,u)}function ql(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gl(e.unaryFilter.field);return _s.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gl(e.unaryFilter.field);return _s.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gl(e.unaryFilter.field);return _s.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Gl(e.unaryFilter.field);return _s.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Yr(61313);default:return Yr(60726)}}(e):void 0!==e.fieldFilter?function(e){return _s.create(Gl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Yr(58110);default:return Yr(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ss.create(e.compositeFilter.filters.map((e=>ql(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Yr(1026)}}(e.compositeFilter.op))}(e):Yr(30097,{filter:e})}function Hl(e){return wl[e]}function Wl(e){return kl[e]}function Kl(e){return _l[e]}function Ql(e){return{fieldPath:e.canonicalString()}}function Gl(e){return Aa.fromServerFormat(e.fieldPath)}function Xl(e){return e instanceof _s?function(e){if("=="===e.op){if(ls(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NAN"}};if(os(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ls(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NAN"}};if(os(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(e.field),op:Wl(e.op),value:e.value}}}(e):e instanceof Ss?function(e){const t=e.getFilters().map((e=>Xl(e)));return 1===t.length?t[0]:{compositeFilter:{op:Kl(e.op),filters:t}}}(e):Yr(54877,{filter:e})}function $l(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Yl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Jl{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sa.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sa.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ni.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zl{constructor(e){this.wt=e}}function eu(e){const t=Bl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ys(t,t.limit,"L"):t}class tu{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Oi(e.integerValue));else if("doubleValue"in e){const n=Oi(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Wa(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Pi(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Di(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?ds(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):cs(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Yr(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const a=e.fields||{};this.Mt(t,53);const i=Xi,s=(null===(r=null===(n=a[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Oi(s)),this.Nt(i,t),this.Ct(a[i],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Ia.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}tu.Wt=new tu;class nu{constructor(){this.Cn=new ru}addToCollectionParentIndex(e,t){return this.Cn.add(t),za.resolve()}getCollectionParents(e,t){return za.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return za.resolve()}deleteFieldIndex(e,t){return za.resolve()}deleteAllFieldIndexes(e){return za.resolve()}createTargetIndexes(e,t){return za.resolve()}getDocumentsMatchingTarget(e,t){return za.resolve(null)}getIndexType(e,t){return za.resolve(0)}getFieldIndexes(e,t){return za.resolve([])}getNextCollectionGroupToUpdate(e){return za.resolve(null)}getMinOffset(e,t){return za.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,t){return za.resolve(Da.min())}updateCollectionGroup(e,t,n){return za.resolve()}updateIndexEntries(e,t){return za.resolve()}}class ru{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ti(Ta.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ti(Ta.comparator)).toArray()}}new Uint8Array(0);const au={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iu=41943040;class su{static withCacheSize(e){return new su(e,su.DEFAULT_COLLECTION_PERCENTILE,su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}su.DEFAULT_COLLECTION_PERCENTILE=10,su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,su.DEFAULT=new su(iu,su.DEFAULT_COLLECTION_PERCENTILE,su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),su.DISABLED=new su(-1,0,0);class ou{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ou(0)}static lr(){return new ou(-1)}}const lu="LruGarbageCollector",uu=1048576;function cu(e,t){let[n,r]=e,[a,i]=t;const s=ma(n,a);return 0===s?ma(r,i):s}class hu{constructor(e){this.Er=e,this.buffer=new Ti(cu),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();cu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class du{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){Qr(lu,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Va(e)?Qr(lu,"Ignoring IndexedDB error during garbage collection: ",e):await ja(e)}await this.mr(3e5)}))}}class fu{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return za.resolve(Ba.le);const n=new hu(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qr("LruGarbageCollector","Garbage collection skipped; disabled"),za.resolve(au)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Qr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),au):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,a,i,s,o,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Qr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Kr()<=on.DEBUG&&Qr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),za.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e}))))}}function pu(e,t){return new fu(e,t)}class mu{constructor(){this.changes=new io((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ms.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?za.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Vo(n.mutation,e,Ai.empty(),_a.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,yo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yo();const r=ho();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=uo();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ho();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,yo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let a=oo();const i=po(),s=po();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Wo)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),Vo(s.mutation,t,s.mutation.getFieldMask(),_a.now())):i.set(t.key,Ai.empty())})),this.recalculateAndSaveOverlays(e,a).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new gu(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=po();let r=new Si(((e,t)=>e-t)),a=yo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const a of e)a.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||Ai.empty();s=a.applyToLocalView(i,s),n.set(e,s);const o=(r.get(a.batchId)||yo()).add(e);r=r.insert(a.batchId,o)}))})).next((()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,u=fo();l.forEach((e=>{if(!a.has(e)){const r=zo(t.get(e),n.get(e));null!==r&&u.set(e,r),a=a.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,u))}return za.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ia.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((a=>{const i=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):za.resolve(ho());let s=Na,o=a;return i.next((t=>za.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?za.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,a))).next((()=>this.computeViews(e,o,t,yo()))).next((e=>({batchId:s,changes:co(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ia(t)).next((e=>{let t=uo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let i=uo();return this.indexManager.getCollectionParents(e,a).next((s=>za.forEach(s,(s=>{const o=function(e,t){return new qs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)))).next((e=>{a.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ms.newInvalidDocument(r)))}));let n=uo();return e.forEach(((e,r)=>{const i=a.get(e);void 0!==i&&Vo(i.mutation,r,Ai.empty(),_a.now()),to(t,r)&&(n=n.insert(e,r))})),n}))}}class vu{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return za.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Al(e.createTime)}}(t)),za.resolve()}getNamedQuery(e,t){return za.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:eu(e.bundledQuery),readTime:Al(e.readTime)}}(t)),za.resolve()}}class bu{constructor(){this.overlays=new Si(Ia.comparator),this.Qr=new Map}getOverlay(e,t){return za.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ho();return za.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.bt(e,t,r)})),za.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),za.resolve()}getOverlaysForCollection(e,t,n){const r=ho(),a=t.length+1,i=new Ia(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return za.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new Si(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=ho(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ho(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return za.resolve(s)}bt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zo(t,n));let a=this.Qr.get(t);void 0===a&&(a=yo(),this.Qr.set(t,a)),this.Qr.set(t,a.add(n.key))}}class wu{constructor(){this.sessionToken=Ni.EMPTY_BYTE_STRING}getSessionToken(e){return za.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,za.resolve()}}class ku{constructor(){this.$r=new Ti(_u.Ur),this.Kr=new Ti(_u.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new _u(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new _u(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new Ia(new Ta([])),n=new _u(t,e),r=new _u(t,e+1),a=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),a.push(e.key)})),a}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ia(new Ta([])),n=new _u(t,e),r=new _u(t,e+1);let a=yo();return this.Kr.forEachInRange([n,r],(e=>{a=a.add(e.key)})),a}containsKey(e){const t=new _u(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class _u{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ia.comparator(e.key,t.key)||ma(e.Zr,t.Zr)}static Wr(e,t){return ma(e.Zr,t.Zr)||Ia.comparator(e.key,t.key)}}class Su{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ti(_u.Ur)}checkEmpty(e){return za.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Yo(a,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Xr=this.Xr.add(new _u(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return za.resolve(i)}lookupMutationBatch(e,t){return za.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),a=r<0?0:r;return za.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return za.resolve(0===this.mutationQueue.length?qa:this.nr-1)}getAllMutationBatches(e){return za.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new _u(t,0),r=new _u(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);a.push(t)})),za.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ti(ma);return t.forEach((e=>{const t=new _u(e,0),r=new _u(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),za.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;Ia.isDocumentKey(a)||(a=a.child(""));const i=new _u(new Ia(a),0);let s=new Ti(ma);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Zr)),!0)}),i),za.resolve(this.ni(s))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Zr(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return za.forEach(t.mutations,(r=>{const a=new _u(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new _u(t,0),r=this.Xr.firstAfterOrEqual(n);return za.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,za.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Eu{constructor(e){this.ii=e,this.docs=new Si(Ia.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return za.resolve(n?n.document.mutableCopy():ms.newInvalidDocument(t))}getEntries(e,t){let n=oo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ms.newInvalidDocument(e))})),za.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=oo();const i=t.path,s=new Ia(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||La(Oa(s),n)<=0||(r.has(s.key)||to(t,s))&&(a=a.insert(s.key,s.mutableCopy()))}return za.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Yr(9500)}si(e,t){return za.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Cu(this)}getSize(e){return za.resolve(this.size)}}class Cu extends mu{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),za.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Tu{constructor(e){this.persistence=e,this.oi=new io((e=>Us(e)),Vs),this.lastRemoteSnapshotVersion=Sa.min(),this.highestTargetId=0,this._i=0,this.ai=new ku,this.targetCount=0,this.ui=ou.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),za.resolve()}getLastRemoteSnapshotVersion(e){return za.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return za.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),za.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),za.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ou(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,za.resolve()}updateTargetData(e,t){return this.Tr(t),za.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,za.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.oi.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.oi.delete(i),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),za.waitFor(a).next((()=>r))}getTargetCount(e){return za.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return za.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),za.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((t=>{a.push(r.markPotentiallyOrphaned(e,t))})),za.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),za.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return za.resolve(n)}containsKey(e,t){return za.resolve(this.ai.containsKey(t))}}class xu{constructor(e,t){this.ci={},this.overlays={},this.li=new Ba(0),this.hi=!1,this.hi=!0,this.Pi=new wu,this.referenceDelegate=e(this),this.Ti=new Tu(this),this.indexManager=new nu,this.remoteDocumentCache=function(e){return new Eu(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new Zl(t),this.Ei=new vu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new Su(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Qr("MemoryPersistence","Starting transaction:",e);const r=new Au(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return za.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class Au extends Fa{constructor(e){super(),this.currentSequenceNumber=e}}class Iu{constructor(e){this.persistence=e,this.Vi=new ku,this.mi=null}static fi(e){return new Iu(e)}get gi(){if(this.mi)return this.mi;throw Yr(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),za.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),za.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),za.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return za.forEach(this.gi,(n=>{const r=Ia.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,Sa.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return za.or([()=>za.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Nu{constructor(e,t){this.persistence=e,this.yi=new io((e=>Ga(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=pu(this,t)}static fi(e,t){return new Nu(e,t)}di(){}Ai(e){return za.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Sr(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return za.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?za.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,a.removeEntry(r,Sa.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),za.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),za.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),za.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),za.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=as(e.data.value)),t}Dr(e,t,n){return za.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return za.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ru{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=yo(),r=yo();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Ru(e,t.fromCache,n,r)}}class Pu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ou{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=Qt()?8:Ua(Wt())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ws(e,t).next((e=>{a.result=e})).next((()=>{if(!a.result)return this.Ss(e,t,r,n).next((e=>{a.result=e}))})).next((()=>{if(a.result)return;const n=new Pu;return this.bs(e,t,n).next((r=>{if(a.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>a.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(Kr()<=on.DEBUG&&Qr("QueryEngine","SDK will not create cache indexes for query:",eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),za.resolve()):(Kr()<=on.DEBUG&&Qr("QueryEngine","Query:",eo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(Kr()<=on.DEBUG&&Qr("QueryEngine","The SDK decides to create cache indexes for query:",eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xs(t))):za.resolve())}ws(e,t){if(Ks(t))return za.resolve(null);let n=Xs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ys(t,null,"F"),n=Xs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const a=yo(...r);return this.ys.getDocuments(e,a).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.vs(t,r);return this.Cs(t,i,a,n.readTime)?this.ws(e,Ys(t,null,"F")):this.Fs(e,i,t,n)}))))})))))}Ss(e,t,n,r){return Ks(t)||r.isEqual(Sa.min())?za.resolve(null):this.ys.getDocuments(e,n).next((a=>{const i=this.vs(t,a);return this.Cs(t,i,n,r)?za.resolve(null):(Kr()<=on.DEBUG&&Qr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eo(t)),this.Fs(e,i,t,Pa(r,Na)).next((e=>e)))}))}vs(e,t){let n=new Ti(ro(e));return t.forEach(((t,r)=>{to(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}bs(e,t,n){return Kr()<=on.DEBUG&&Qr("QueryEngine","Using full collection scan to execute query:",eo(t)),this.ys.getDocumentsMatchingQuery(e,t,Da.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Du="LocalStore";class Lu{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Si(ma),this.Os=new io((e=>Us(e)),Vs),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yu(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function Mu(e,t,n,r){return new Lu(e,t,n,r)}async function Fu(e,t){const n=ea(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((a=>(r=a,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const a=[],i=[];let s=yo();for(const e of r){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({ks:e,removedBatchIds:a,addedBatchIds:i})))}))}))}function ju(e){const t=ea(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function zu(e,t,n){let r=yo(),a=yo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=oo();return n.forEach(((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Sa.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Qr(Du,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{qs:r,Qs:a}}))}function Uu(e,t){const n=ea(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=qa),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Vu(e,t){const n=ea(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((a=>a?(r=a,za.resolve(r)):n.Ti.allocateTargetId(e).next((a=>(r=new Jl(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function Bu(e,t,n){const r=ea(e),a=r.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,a)))}catch(e){if(!Va(e))throw e;Qr(Du,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(a.target)}function qu(e,t,n){const r=ea(e);let a=Sa.min(),i=yo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ea(e),a=r.Os.get(n);return void 0!==a?za.resolve(r.xs.get(a)):r.Ti.getTargetData(t,n)}(r,e,Xs(t)).next((t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?a:Sa.min(),n?i:yo()))).next((e=>(Hu(r,no(t),e),{documents:e,$s:i})))))}function Hu(e,t,n){let r=e.Ns.get(t)||Sa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class Wu{constructor(){this.activeTargetIds=bo()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ku{constructor(){this.xo=new Wu,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Wu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qu{No(e){}shutdown(){}}const Gu="ConnectivityMonitor";class Xu{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Qr(Gu,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Qr(Gu,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $u=null;function Yu(){return null===$u?$u=268435456+Math.round(2147483648*Math.random()):$u++,"0x"+$u.toString(16)}const Ju="RestConnection",Zu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ec{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===qi?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,a){const i=Yu(),s=this.jo(e,t.toUriEncodedString());Qr(Ju,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,a);const{host:l}=new URL(s),u=Vt(l);return this.Jo(e,s,o,n,u).then((t=>(Qr(Ju,"Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw Xr(Ju,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t}))}Yo(e,t,n,r,a,i){return this.zo(e,t,n,r,a)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=Zu[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class tc{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const nc="WebChannelConnection";class rc extends ec{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const i=Yu();return new Promise(((a,s)=>{const o=new Rr;o.setWithCredentials(!0),o.listenOnce(Or.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Dr.NO_ERROR:const t=o.getResponseJson();Qr(nc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Dr.TIMEOUT:Qr(nc,"RPC '".concat(e,"' ").concat(i," timed out")),s(new na(ta.DEADLINE_EXCEEDED,"Request time out"));break;case Dr.HTTP_ERROR:const n=o.getStatus();if(Qr(nc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ta).indexOf(t)>=0?t:ta.UNKNOWN}(t.status);s(new na(e,t.message))}else s(new na(ta.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new na(ta.UNAVAILABLE,"Connection failed."));break;default:Yr(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Qr(nc,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Qr(nc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}T_(e,t,n){const r=Yu(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=jr(),s=Fr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const u=a.join("");Qr(nc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),o);const c=i.createWebChannel(u,o);let h=!1,d=!1;const f=new tc({Zo:t=>{d?Qr(nc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Qr(nc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Qr(nc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Xo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Pr.EventType.OPEN,(()=>{d||(Qr(nc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())})),p(c,Pr.EventType.CLOSE,(()=>{d||(d=!0,Qr(nc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_())})),p(c,Pr.EventType.ERROR,(t=>{d||(d=!0,Xr(nc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new na(ta.UNAVAILABLE,"The operation could not be completed")))})),p(c,Pr.EventType.MESSAGE,(t=>{var n;if(!d){const a=t.data[0];Zr(!!a,16349);const i=a,s=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){Qr(nc,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=tl[e];if(void 0!==t)return al(t)}(t),a=s.message;void 0===n&&(n=ta.INTERNAL,a="Unknown error status: "+t+" with message "+s.message),d=!0,f.u_(new na(n,a)),c.close()}else Qr(nc,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.c_(a)}})),p(s,Mr.STAT_EVENT,(t=>{t.stat===Lr.PROXY?Qr(nc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Lr.NOPROXY&&Qr(nc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.a_()}),0),f}}function ac(){return"undefined"!=typeof document?document:null}function ic(e){return new Sl(e,!0)}class sc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.I_=n,this.E_=r,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),r=Math.max(0,t-n);r>0&&Qr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.A_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.R_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.V_=Date.now(),e()))),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const oc="PersistentStream";class lc{constructor(e,t,n,r,a,i,s,o){this.xi=e,this.y_=n,this.w_=r,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new sc(e,t)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,(()=>this.B_())))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,4!==e?this.C_.reset():t&&t.code===ta.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ta.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.S_===t&&this.K_(n,r)}),(t=>{e((()=>{const e=new na(ta.UNKNOWN,"Fetching auth token failed: "+t.message);return this.W_(e)}))}))}K_(e,t){const n=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,(()=>(this.M_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.W_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.v_?this.z_(e):this.onNext(e)))}))}x_(){this.state=5,this.C_.f_((async()=>{this.state=0,this.start()}))}W_(e){return Qr(oc,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget((()=>this.S_===e?t():(Qr(oc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uc extends lc{constructor(e,t,n,r,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Yr(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Zr(void 0===t||"string"==typeof t,58123),Ni.fromBase64String(t||"")):(Zr(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ni.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?ta.UNKNOWN:al(e.code);return new na(t,e.message||"")}(s);n=new ml(r,a,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ol(e,r.document.name),i=Al(r.document.updateTime),s=r.document.createTime?Al(r.document.createTime):Sa.min(),o=new fs({mapValue:{fields:r.document.fields}}),l=ms.newFoundDocument(a,i,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fl(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Ol(e,r.document),i=r.readTime?Al(r.readTime):Sa.min(),s=ms.newNoDocument(a,i),o=r.removedTargetIds||[];n=new fl([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Ol(e,r.document),i=r.removedTargetIds||[];n=new fl([],i,a,null)}else{if(!("filter"in t))return Yr(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,i=new el(r,a),s=e.targetId;n=new pl(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Sa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sa.min():t.readTime?Al(t.readTime):Sa.min()}(e);return this.listener.j_(t,n)}H_(e){const t={};t.database=Ml(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Bs(r)?{documents:Ul(e,r)}:{query:Vl(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Tl(e,t.resumeToken);const r=El(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Sa.min())>0){n.readTime=Cl(e,t.snapshotVersion.toTimestamp());const r=El(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yr(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.L_(t)}J_(e){const t={};t.database=Ml(this.serializer),t.removeTarget=e,this.L_(t)}}class cc extends lc{constructor(e,t,n,r,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Zr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Zr(!e.writeResults||0===e.writeResults.length,55816),this.listener.X_()}onNext(e){Zr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=function(e,t){return e&&e.length>0?(Zr(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?Al(e.updateTime):Al(t);return n.isEqual(Sa.min())&&(n=Al(t)),new Lo(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Al(e.commitTime);return this.listener.ea(n,t)}ta(){const e={};e.database=Ml(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>zl(this.serializer,e)))};this.L_(t)}}class hc{}class dc extends hc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.na=!1}ra(){if(this.na)throw new na(ta.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[i,s]=a;return this.connection.zo(e,Nl(t,n),r,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ta.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new na(ta.UNKNOWN,e.toString())}))}Yo(e,t,n,r,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Yo(e,Nl(t,n),r,s,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ta.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new na(ta.UNKNOWN,e.toString())}))}terminate(){this.na=!0,this.connection.terminate()}}class fc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve()))))}ca(e){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.aa("Offline")))}set(e){this.la(),this.ia=0,"Online"===e&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.oa?(Gr(t),this.oa=!1):Qr("OnlineStateTracker",t)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const pc="RemoteStore";class mc{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No((e=>{n.enqueueAndForget((async()=>{Ec(this)&&(Qr(pc,"Restarting streams for network reachability change."),await async function(e){const t=ea(e);t.Ta.add(4),await yc(t),t.da.set("Unknown"),t.Ta.delete(4),await gc(t)}(this))}))})),this.da=new fc(n,r)}}async function gc(e){if(Ec(e))for(const t of e.Ia)await t(!0)}async function yc(e){for(const t of e.Ia)await t(!1)}function vc(e,t){const n=ea(e);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),Sc(n)?_c(n):qc(n).M_()&&wc(n,t))}function bc(e,t){const n=ea(e),r=qc(n);n.Pa.delete(t),r.M_()&&kc(n,t),0===n.Pa.size&&(r.M_()?r.N_():Ec(n)&&n.da.set("Unknown"))}function wc(e,t){if(e.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sa.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qc(e).H_(t)}function kc(e,t){e.Aa.Ke(t),qc(e).J_(t)}function _c(e){e.Aa=new yl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Pa.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),qc(e).start(),e.da._a()}function Sc(e){return Ec(e)&&!qc(e).F_()&&e.Pa.size>0}function Ec(e){return 0===ea(e).Ta.size}function Cc(e){e.Aa=void 0}async function Tc(e){e.da.set("Online")}async function xc(e){e.Pa.forEach(((t,n)=>{wc(e,t)}))}async function Ac(e,t){Cc(e),Sc(e)?(e.da.ca(t),_c(e)):e.da.set("Unknown")}async function Ic(e,t,n){if(e.da.set("Online"),t instanceof ml&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Pa.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Pa.delete(r),e.Aa.removeTarget(r))}(e,t)}catch(n){Qr(pc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Nc(e,n)}else if(t instanceof fl?e.Aa.Xe(t):t instanceof pl?e.Aa.ot(t):e.Aa.nt(t),!n.isEqual(Sa.min()))try{const t=await ju(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Aa.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Pa.get(r);a&&e.Pa.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Pa.get(t);if(!r)return;e.Pa.set(t,r.withResumeToken(Ni.EMPTY_BYTE_STRING,r.snapshotVersion)),kc(e,t);const a=new Jl(r.target,t,n,r.sequenceNumber);wc(e,a)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Qr(pc,"Failed to raise snapshot:",t),await Nc(e,t)}}async function Nc(e,t,n){if(!Va(t))throw t;e.Ta.add(1),await yc(e),e.da.set("Offline"),n||(n=()=>ju(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Qr(pc,"Retrying IndexedDB access"),await n(),e.Ta.delete(1),await gc(e)}))}function Rc(e,t){return t().catch((n=>Nc(e,n,t)))}async function Pc(e){const t=ea(e),n=Hc(t);let r=t.ha.length>0?t.ha[t.ha.length-1].batchId:qa;for(;Oc(t);)try{const e=await Uu(t.localStore,r);if(null===e){0===t.ha.length&&n.N_();break}r=e.batchId,Dc(t,e)}catch(e){await Nc(t,e)}Lc(t)&&Mc(t)}function Oc(e){return Ec(e)&&e.ha.length<10}function Dc(e,t){e.ha.push(t);const n=Hc(e);n.M_()&&n.Y_&&n.Z_(t.mutations)}function Lc(e){return Ec(e)&&!Hc(e).F_()&&e.ha.length>0}function Mc(e){Hc(e).start()}async function Fc(e){Hc(e).ta()}async function jc(e){const t=Hc(e);for(const n of e.ha)t.Z_(n.mutations)}async function zc(e,t,n){const r=e.ha.shift(),a=Jo.from(r,t,n);await Rc(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Pc(e)}async function Uc(e,t){t&&Hc(e).Y_&&await async function(e,t){if(function(e){return rl(e)&&e!==ta.ABORTED}(t.code)){const n=e.ha.shift();Hc(e).O_(),await Rc(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Pc(e)}}(e,t),Lc(e)&&Mc(e)}async function Vc(e,t){const n=ea(e);n.asyncQueue.verifyOperationInProgress(),Qr(pc,"RemoteStore received new credentials");const r=Ec(n);n.Ta.add(3),await yc(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await gc(n)}async function Bc(e,t){const n=ea(e);t?(n.Ta.delete(2),await gc(n)):t||(n.Ta.add(2),await yc(n),n.da.set("Unknown"))}function qc(e){return e.Ra||(e.Ra=function(e,t,n){const r=ea(e);return r.ra(),new uc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Tc.bind(null,e),n_:xc.bind(null,e),i_:Ac.bind(null,e),j_:Ic.bind(null,e)}),e.Ia.push((async t=>{t?(e.Ra.O_(),Sc(e)?_c(e):e.da.set("Unknown")):(await e.Ra.stop(),Cc(e))}))),e.Ra}function Hc(e){return e.Va||(e.Va=function(e,t,n){const r=ea(e);return r.ra(),new cc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Fc.bind(null,e),i_:Uc.bind(null,e),X_:jc.bind(null,e),ea:zc.bind(null,e)}),e.Ia.push((async t=>{t?(e.Va.O_(),await Pc(e)):(await e.Va.stop(),e.ha.length>0&&(Qr(pc,"Stopping write stream with ".concat(e.ha.length," pending writes")),e.ha=[]))}))),e.Va}class Wc{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const i=Date.now()+n,s=new Wc(e,t,i,r,a);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new na(ta.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kc(e,t){if(Gr("AsyncQueue","".concat(t,": ").concat(e)),Va(e))return new na(ta.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Qc{static emptySet(e){return new Qc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ia.comparator(t.key,n.key):(e,t)=>Ia.comparator(e.key,t.key),this.keyedMap=uo(),this.sortedSet=new Si(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Qc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gc{constructor(){this.ma=new Si(Ia.comparator)}track(e){const t=e.doc.key,n=this.ma.get(t);n?0!==e.type&&3===n.type?this.ma=this.ma.insert(t,e):3===e.type&&1!==n.type?this.ma=this.ma.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ma=this.ma.remove(t):1===e.type&&2===n.type?this.ma=this.ma.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Yr(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Xc{constructor(e,t,n,r,a,i,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Xc(e,t,Qc.emptySet(t),i,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Js(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class $c{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some((e=>e.Sa()))}}class Yc{constructor(){this.queries=Jc(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(e,t){const n=ea(e),r=n.queries;n.queries=Jc(),r.forEach(((e,n)=>{for(const r of n.ya)r.onError(t)}))}(this,new na(ta.ABORTED,"Firestore shutting down"))}}function Jc(){return new io((e=>Zs(e)),Js)}async function Zc(e,t){const n=ea(e);let r=3;const a=t.query;let i=n.queries.get(a);i?!i.wa()&&t.Sa()&&(r=2):(i=new $c,r=t.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(a,!0);break;case 1:i.pa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=Kc(e,"Initialization of query '".concat(eo(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,i),i.ya.push(t),t.Da(n.onlineState),i.pa&&t.va(i.pa)&&rh(n)}async function eh(e,t){const n=ea(e),r=t.query;let a=3;const i=n.queries.get(r);if(i){const e=i.ya.indexOf(t);e>=0&&(i.ya.splice(e,1),0===i.ya.length?a=t.Sa()?0:1:!i.wa()&&t.Sa()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function th(e,t){const n=ea(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.ya)e.va(a)&&(r=!0);t.pa=a}}r&&rh(n)}function nh(e,t,n){const r=ea(e),a=r.queries.get(t);if(a)for(const i of a.ya)i.onError(n);r.queries.delete(t)}function rh(e){e.ba.forEach((e=>{e.next()}))}var ah,ih;(ih=ah||(ah={})).Ca="default",ih.Cache="cache";class sh{constructor(e,t,n){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Xc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache)return!0;if(!this.Sa())return!0;const n="Offline"!==t;return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ba(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==ah.Cache}}class oh{constructor(e){this.key=e}}class lh{constructor(e){this.key=e}}class uh{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=yo(),this.mutatedKeys=yo(),this.Ha=ro(e),this.Ja=new Qc(this.Ha)}get Ya(){return this.Ga}Za(e,t){const n=t?t.Xa:new Gc,r=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=to(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.eu(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Ha(c,o)>0||l&&this.Ha(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(s=!0)),f&&(c?(i=i.add(c),a=d?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Ja:i,Xa:n,Cs:s,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const i=e.Xa.ga();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yr(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ha(e.doc,t.doc))),this.tu(n),r=null!=r&&r;const s=t&&!r?this.nu():[],o=0===this.ja.size&&this.current&&!r?1:0,l=o!==this.za;return this.za=o,0!==i.length||l?{snapshot:new Xc(this.query,e.Ja,a,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:s}:{ru:s}}Da(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Gc,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach((e=>this.Ga=this.Ga.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ga=this.Ga.delete(e))),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=yo(),this.Ja.forEach((e=>{this.iu(e.key)&&(this.ja=this.ja.add(e.key))}));const t=[];return e.forEach((e=>{this.ja.has(e)||t.push(new lh(e))})),this.ja.forEach((n=>{e.has(n)||t.push(new oh(n))})),t}su(e){this.Ga=e.$s,this.ja=yo();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Xc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const ch="SyncEngine";class hh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dh{constructor(e){this.key=e,this._u=!1}}class fh{constructor(e,t,n,r,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.au={},this.uu=new io((e=>Zs(e)),Js),this.cu=new Map,this.lu=new Set,this.hu=new Si(Ia.comparator),this.Pu=new Map,this.Tu=new ku,this.Iu={},this.Eu=new Map,this.du=ou.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}async function ph(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Lh(e);let a;const i=r.uu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.ou()):a=await gh(r,t,n,!0),a}async function mh(e,t){const n=Lh(e);await gh(n,t,!0,!1)}async function gh(e,t,n,r){const a=await Vu(e.localStore,Xs(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await yh(e,t,i,"current"===s,a.resumeToken)),e.isPrimaryClient&&n&&vc(e.remoteStore,a),o}async function yh(e,t,n,r,a){e.Ru=(t,n,r)=>async function(e,t,n,r){let a=t.view.Za(n);a.Cs&&(a=await qu(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Za(n,a)})));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,i,s);return Ih(e,t.targetId,o.ru),o.snapshot}(e,t,n,r);const i=await qu(e.localStore,t,!0),s=new uh(t,i.$s),o=s.Za(i.documents),l=dl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),u=s.applyChanges(o,e.isPrimaryClient,l);Ih(e,n,u.ru);const c=new hh(t,n,s);return e.uu.set(t,c),e.cu.has(n)?e.cu.get(n).push(t):e.cu.set(n,[t]),u.snapshot}async function vh(e,t,n){const r=ea(e),a=r.uu.get(t),i=r.cu.get(a.targetId);if(i.length>1)return r.cu.set(a.targetId,i.filter((e=>!Js(e,t)))),void r.uu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Bu(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&bc(r.remoteStore,a.targetId),xh(r,a.targetId)})).catch(ja)):(xh(r,a.targetId),await Bu(r.localStore,a.targetId,!0))}async function bh(e,t){const n=ea(e),r=n.uu.get(t),a=n.cu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bc(n.remoteStore,r.targetId))}async function wh(e,t){const n=ea(e);try{const e=await function(e,t){const n=ea(e),r=t.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const s=[];t.targetChanges.forEach(((i,o)=>{const l=a.get(o);if(!l)return;s.push(n.Ti.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Ti.addMatchingKeys(e,i.addedDocuments,o))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(Ni.EMPTY_BYTE_STRING,Sa.min()).withLastLimboFreeSnapshotVersion(Sa.min()):i.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(i.resumeToken,r)),a=a.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,i)&&s.push(n.Ti.updateTargetData(e,u))}));let o=oo(),l=yo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(zu(e,i,t.documentUpdates).next((e=>{o=e.qs,l=e.Qs}))),!r.isEqual(Sa.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return za.waitFor(s).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.xs=a,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Pu.get(t);r&&(Zr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r._u=!0:e.modifiedDocuments.size>0?Zr(r._u,14607):e.removedDocuments.size>0&&(Zr(r._u,42227),r._u=!1))})),await Ph(n,e,t)}catch(e){await ja(e)}}function kh(e,t,n){const r=ea(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.uu.forEach(((n,r)=>{const a=r.view.Da(t);a.snapshot&&e.push(a.snapshot)})),function(e,t){const n=ea(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const a of n.ya)a.Da(t)&&(r=!0)})),r&&rh(n)}(r.eventManager,t),e.length&&r.au.j_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _h(e,t,n){const r=ea(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Pu.get(t),i=a&&a.key;if(i){let e=new Si(Ia.comparator);e=e.insert(i,ms.newNoDocument(i,Sa.min()));const n=yo().add(i),a=new hl(Sa.min(),new Map,new Si(ma),e,n);await wh(r,a),r.hu=r.hu.remove(i),r.Pu.delete(t),Rh(r)}else await Bu(r.localStore,t,!1).then((()=>xh(r,t,n))).catch(ja)}async function Sh(e,t){const n=ea(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ea(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,i=a.keys();let s=za.resolve();return i.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Zr(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,a)))}(n,e,t,a).next((()=>a.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=yo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Th(n,r,null),Ch(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ph(n,e)}catch(e){await ja(e)}}async function Eh(e,t,n){const r=ea(e);try{const e=await function(e,t){const n=ea(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Zr(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Th(r,t,n),Ch(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ph(r,e)}catch(n){await ja(n)}}function Ch(e,t){(e.Eu.get(t)||[]).forEach((e=>{e.resolve()})),e.Eu.delete(t)}function Th(e,t,n){const r=ea(e);let a=r.Iu[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Iu[r.currentUser.toKey()]=a}}function xh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.cu.get(t))e.uu.delete(r),n&&e.au.Vu(r,n);e.cu.delete(t),e.isPrimaryClient&&e.Tu.Hr(t).forEach((t=>{e.Tu.containsKey(t)||Ah(e,t)}))}function Ah(e,t){e.lu.delete(t.path.canonicalString());const n=e.hu.get(t);null!==n&&(bc(e.remoteStore,n),e.hu=e.hu.remove(t),e.Pu.delete(n),Rh(e))}function Ih(e,t,n){for(const r of n)r instanceof oh?(e.Tu.addReference(r.key,t),Nh(e,r)):r instanceof lh?(Qr(ch,"Document no longer in limbo: "+r.key),e.Tu.removeReference(r.key,t),e.Tu.containsKey(r.key)||Ah(e,r.key)):Yr(19791,{mu:r})}function Nh(e,t){const n=t.key,r=n.path.canonicalString();e.hu.get(n)||e.lu.has(r)||(Qr(ch,"New document in limbo: "+n),e.lu.add(r),Rh(e))}function Rh(e){for(;e.lu.size>0&&e.hu.size<e.maxConcurrentLimboResolutions;){const t=e.lu.values().next().value;e.lu.delete(t);const n=new Ia(Ta.fromString(t)),r=e.du.next();e.Pu.set(r,new dh(n)),e.hu=e.hu.insert(n,r),vc(e.remoteStore,new Jl(Xs(Ws(n.path)),r,"TargetPurposeLimboResolution",Ba.le))}}async function Ph(e,t,n){const r=ea(e),a=[],i=[],s=[];r.uu.isEmpty()||(r.uu.forEach(((e,o)=>{s.push(r.Ru(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(e){a.push(e);const t=Ru.Rs(o.targetId,e);i.push(t)}})))})),await Promise.all(s),r.au.j_(a),await async function(e,t){const n=ea(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>za.forEach(t,(t=>za.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>za.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Va(e))throw e;Qr(Du,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,a)}}}(r.localStore,i))}async function Oh(e,t){const n=ea(e);if(!n.currentUser.isEqual(t)){Qr(ch,"User change. New user:",t.toKey());const e=await Fu(n.localStore,t);n.currentUser=t,function(e,t){e.Eu.forEach((e=>{e.forEach((e=>{e.reject(new na(ta.CANCELLED,t))}))})),e.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ph(n,e.ks)}}function Dh(e,t){const n=ea(e),r=n.Pu.get(t);if(r&&r._u)return yo().add(r.key);{let e=yo();const r=n.cu.get(t);if(!r)return e;for(const t of r){const r=n.uu.get(t);e=e.unionWith(r.view.Ya)}return e}}function Lh(e){const t=ea(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_h.bind(null,t),t.au.j_=th.bind(null,t.eventManager),t.au.Vu=nh.bind(null,t.eventManager),t}function Mh(e){const t=ea(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Eh.bind(null,t),t}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ic(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return Mu(this.persistence,new Ou,e.initialUser,this.serializer)}yu(e){return new xu(Iu.fi,this.serializer)}pu(e){return new Ku}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class jh extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Zr(this.persistence.referenceDelegate instanceof Nu,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new du(n,e.asyncQueue,t)}yu(e){const t=void 0!==this.cacheSizeBytes?su.withCacheSize(this.cacheSizeBytes):su.DEFAULT;return new xu((e=>Nu.fi(e,t)),this.serializer)}}class zh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>kh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oh.bind(null,this.syncEngine),await Bc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Yc}createDatastore(e){const t=ic(e.databaseInfo.databaseId),n=function(e){return new rc(e)}(e.databaseInfo);return function(e,t,n,r){return new dc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new mc(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,(e=>kh(this.syncEngine,e,0)),Xu.C()?new Xu:new Qu)}createSyncEngine(e,t){return function(e,t,n,r,a,i,s){const o=new fh(e,t,n,r,a,i);return s&&(o.Au=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ea(e);Qr(pc,"RemoteStore shutting down."),t.Ta.add(5),await yc(t),t.Ea.shutdown(),t.da.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}zh.provider={build:()=>new zh};class Uh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Vh="FirestoreClient";class Bh{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=qr.UNAUTHENTICATED,this.clientId=pa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async e=>{Qr(Vh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Qr(Vh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Kc(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function qh(e,t){e.asyncQueue.verifyOperationInProgress(),Qr(Vh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Fu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Hh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wh(e);Qr(Vh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Vc(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Vc(t.remoteStore,n))),e._onlineComponents=t}async function Wh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qr(Vh,"Using user provided OfflineComponentProvider");try{await qh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ta.FAILED_PRECONDITION||e.code===ta.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Xr("Error using user provided cache. Falling back to memory cache: "+n),await qh(e,new Fh)}}else Qr(Vh,"Using default OfflineComponentProvider"),await qh(e,new jh(void 0));return e._offlineComponents}async function Kh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qr(Vh,"Using user provided OnlineComponentProvider"),await Hh(e,e._uninitializedComponentsProvider._online)):(Qr(Vh,"Using default OnlineComponentProvider"),await Hh(e,new zh))),e._onlineComponents}function Qh(e){return Kh(e).then((e=>e.syncEngine))}async function Gh(e){const t=await Kh(e),n=t.eventManager;return n.onListen=ph.bind(null,t.syncEngine),n.onUnlisten=vh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bh.bind(null,t.syncEngine),n}function Xh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ra;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const i=new Uh({next:o=>{i.Cu(),t.enqueueAndForget((()=>eh(e,s)));const l=o.docs.has(n);!l&&o.fromCache?a.reject(new na(ta.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?a.reject(new na(ta.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:e=>a.reject(e)}),s=new sh(Ws(n.path),i,{includeMetadataChanges:!0,La:!0});return Zc(e,s)}(await Gh(e),e.asyncQueue,t,n,r))),r.promise}function $h(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yh=new Map;function Jh(e,t,n){if(!n)throw new na(ta.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Zh(e){if(!Ia.isDocumentKey(e))throw new na(ta.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ed(e){if(Ia.isDocumentKey(e))throw new na(ta.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function td(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Yr(12329,{type:typeof e})}function nd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new na(ta.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(e);throw new na(ta.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const rd="firestore.googleapis.com",ad=!0;class id{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new na(ta.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rd,this.ssl=ad}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:ad;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=iu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<uu)throw new na(ta.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new na(ta.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$h(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new na(ta.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new na(ta.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new na(ta.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new id({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new na(ta.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new na(ta.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new id(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ia;switch(e.type){case"firstParty":return new ua(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new na(ta.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yh.get(e);t&&(Qr("ComponentProvider","Removing Datastore"),Yh.delete(e),t.terminate())}(this),Promise.resolve()}}function od(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;e=nd(e,sd);const i=Vt(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&(async function(e){(await fetch(e,{credentials:"include"})).ok}("https://".concat(l)),Ht("Firestore",!0)),s.host!==rd&&s.host!==l&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:r});if(!Jt(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=qr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new na(ta.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new qr(i)}e._authCredentials=new sa(new aa(t,n))}}class ld{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ld(this.firestore,e,this._query)}}class ud{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ud(this.firestore,e,this._key)}}class cd extends ld{constructor(e,t,n){super(e,t,Ws(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ud(this.firestore,null,new Ia(e))}withConverter(e){return new cd(this.firestore,e,this._path)}}function hd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=en(e),1===arguments.length&&(t=pa.newId()),Jh("doc","path",t),e instanceof sd){const n=Ta.fromString(t,...r);return Zh(n),new ud(e,null,new Ia(n))}{if(!(e instanceof ud||e instanceof cd))throw new na(ta.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ta.fromString(t,...r));return Zh(n),new ud(e.firestore,e instanceof cd?e.converter:null,new Ia(n))}}const dd="AsyncQueue";class fd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new sc(this,"async_queue_retry"),this.ec=()=>{const e=ac();e&&Qr(dd,"Visibility state changed to "+e.visibilityState),this.C_.p_()},this.tc=e;const t=ac();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=ac();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise((()=>{}));const t=new ra;return this.rc((()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.zu.push(e),this.sc())))}async sc(){if(0!==this.zu.length){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(qb){if(!Va(qb))throw qb;Qr(dd,"Operation failed with retryable error: "+qb)}this.zu.length>0&&this.C_.f_((()=>this.sc()))}}rc(e){const t=this.tc.then((()=>(this.Yu=!0,e().catch((e=>{throw this.Ju=e,this.Yu=!1,Gr("INTERNAL UNHANDLED ERROR: ",pd(e)),e})).then((e=>(this.Yu=!1,e))))));return this.tc=t,t}enqueueAfterDelay(e,t,n){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const r=Wc.createAndSchedule(this,e,t,n,(e=>this.oc(e)));return this.Hu.push(r),r}nc(){this.Ju&&Yr(47125,{_c:pd(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do{e=this.tc,await e}while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then((()=>{this.Hu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Hu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ac()}))}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function pd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class md extends sd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fd,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fd(e),this._firestoreClient=void 0,await e}}}function gd(e){if(e._terminated)throw new na(ta.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||yd(e),e._firestoreClient}function yd(e){var t,n,r;const a=e._freezeSettings(),i=function(e,t,n,r){return new Bi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$h(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Bh(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class vd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vd(Ni.fromBase64String(e))}catch(e){throw new na(ta.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new vd(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new na(ta.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Aa(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wd{constructor(e){this._methodName=e}}class kd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new na(ta.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new na(ta.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ma(this._lat,e._lat)||ma(this._long,e._long)}}class _d{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Sd=/^__.*__$/;class Ed{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Wo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ho(e,this.data,t,this.fieldTransforms)}}class Cd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Wo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Td(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yr(40011,{hc:e})}}class xd{constructor(e,t,n,r,a,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tc({path:n,Ec:!1});return r.dc(e),r}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tc({path:n,Ec:!1});return r.Pc(),r}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Vd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(0===e.length)throw this.Vc("Document fields must not be empty");if(Td(this.hc)&&Sd.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Ad{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ic(e)}gc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xd({hc:e,methodName:t,fc:n,path:Aa.emptyPath(),Ec:!1,mc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(e){const t=e._freezeSettings(),n=ic(e._databaseId);return new Ad(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Nd(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.gc(i.merge||i.mergeFields?2:0,t,n,a);Fd("Data must be an object, but it was:",s,r);const o=Ld(r,s);let l,u;if(i.merge)l=new Ai(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const a=jd(t,r,n);if(!s.contains(a))throw new na(ta.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));Bd(e,a)||e.push(a)}l=new Ai(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new Ed(new fs(o),l,u)}class Rd extends wd{_toFieldTransform(e){if(2!==e.hc)throw 1===e.hc?e.Vc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Vc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}function Pd(e,t,n,r){const a=e.gc(1,t,n);Fd("Data must be an object, but it was:",a,r);const i=[],s=fs.empty();ki(r,((e,r)=>{const o=Ud(t,e,n);r=en(r);const l=a.Ac(o);if(r instanceof Rd)i.push(o);else{const e=Dd(r,l);null!=e&&(i.push(o),s.set(o,e))}}));const o=new Ai(i);return new Cd(s,o,a.fieldTransforms)}function Od(e,t,n,r,a,i){const s=e.gc(1,t,n),o=[jd(t,r,n)],l=[a];if(i.length%2!=0)throw new na(ta.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<i.length;d+=2)o.push(jd(t,i[d])),l.push(i[d+1]);const u=[],c=fs.empty();for(let d=o.length-1;d>=0;--d)if(!Bd(u,o[d])){const e=o[d];let t=l[d];t=en(t);const n=s.Ac(e);if(t instanceof Rd)u.push(e);else{const r=Dd(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Ai(u);return new Cd(c,h,s.fieldTransforms)}function Dd(e,t){if(Md(e=en(e)))return Fd("Unsupported field value:",t,e),Ld(e,t);if(e instanceof wd)return function(e,t){if(!Td(t.hc))throw t.Vc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Vc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ec&&4!==t.hc)throw t.Vc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=Dd(a,t.Rc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=en(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _o(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=_a.fromDate(e);return{timestampValue:Cl(t.serializer,n)}}if(e instanceof _a){const n=new _a(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cl(t.serializer,n)}}if(e instanceof kd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vd)return{bytesValue:Tl(t.serializer,e._byteString)};if(e instanceof ud){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Vc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Il(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof _d)return function(e,t){return{mapValue:{fields:{[Wi]:{stringValue:Gi},[Xi]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Vc("VectorValues must only contain numeric values.");return wo(t.serializer,e)}))}}}}}}(e,t);throw t.Vc("Unsupported field value: ".concat(td(e)))}(e,t)}function Ld(e,t){const n={};return _i(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ki(e,((e,r)=>{const a=Dd(r,t.Ic(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function Md(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _a||e instanceof kd||e instanceof vd||e instanceof ud||e instanceof wd||e instanceof _d)}function Fd(e,t,n){if(!Md(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=td(n);throw"an object"===r?t.Vc(e+" a custom object"):t.Vc(e+" "+r)}}function jd(e,t,n){if((t=en(t))instanceof bd)return t._internalPath;if("string"==typeof t)return Ud(e,t);throw Vd("Field path arguments must be of type string or ",e,!1,void 0,n)}const zd=new RegExp("[~\\*/\\[\\]]");function Ud(e,t,n){if(t.search(zd)>=0)throw Vd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new bd(...t.split("."))._internalPath}catch(r){throw Vd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vd(e,t,n,r,a){const i=r&&!r.isEmpty(),s=void 0!==a;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(a)),l+=")"),new na(ta.INVALID_ARGUMENT,o+e+l)}function Bd(e,t){return e.some((e=>e.isEqual(t)))}class qd{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ud(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hd extends qd{data(){return super.data()}}function Wd(e,t){return"string"==typeof t?Ud(e,t):t instanceof bd?t._internalPath:t._delegate._internalPath}class Kd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Yr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ki(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Xi].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Oi(e.doubleValue)));return new _d(a)}convertGeoPoint(e){return new kd(Oi(e.latitude),Oi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ui(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vi(e));default:return null}}convertTimestamp(e){const t=Pi(e);return new _a(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ta.fromString(e);Zr(Yl(n),9688,{name:e});const r=new Hi(n.get(1),n.get(3)),a=new Ia(n.popFirst(5));return r.isEqual(t)||Gr("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function Qd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Gd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xd extends qd{constructor(e,t,n,r,a,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class $d extends Xd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Yd extends Kd{constructor(e){super(),this.firestore=e}convertBytes(e){return new vd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ud(this.firestore,null,t)}}function Jd(e,t){return function(e,t){const n=new ra;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Mh(e);try{const e=await function(e,t){const n=ea(e),r=_a.now(),a=t.reduce(((e,t)=>e.add(t.key)),yo());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=oo(),l=yo();return n.Bs.getEntries(e,a).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((a=>{i=a;const s=[];for(const e of t){const t=Bo(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Wo(e.key,t,ps(t.value.mapValue),Mo.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:co(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Iu[e.currentUser.toKey()];r||(r=new Si(ma)),r=r.insert(t,n),e.Iu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ph(r,e.changes),await Pc(r.remoteStore)}catch(e){const t=Kc(e,"Failed to persist write");n.reject(t)}}(await Qh(e),t,n))),n.promise}(gd(e),t)}function Zd(e,t,n){const r=n.docs.get(t._key),a=new Yd(e);return new Xd(e,a,t._key,r,new Gd(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Hr=e}("11.8.0"),hr(new tn("firestore",((e,n)=>{let{instanceIdentifier:r,options:a}=n;const i=e.getProvider("app").getImmediate(),s=new md(new oa(e.getProvider("auth-internal")),new ha(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new na(ta.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hi(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),gr(Vr,Br,e),gr(Vr,Br,"esm2017")}();const ef=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir;const t=or.get(e);if(!t&&e===ir&&zt())return mr();if(!t)throw fr.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||qi,a=dr(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=jt("firestore");e&&od(a,...e)}return a}(mr({apiKey:"AIzaSyBPQ6B1uRDVYMpHnE1X-EUr4iOAApnW7gk",authDomain:"emprendimiento-39791.firebaseapp.com",projectId:"emprendimiento-39791",storageBucket:"emprendimiento-39791.firebasestorage.app",messagingSenderId:"181170631823",appId:"1:181170631823:web:0c51bc83a362d0d810ecfa",measurementId:"G-V31NB2S8VG"})),tf=(0,r.createContext)(),nf=e=>{let{children:t}=e;const[n,a]=(0,r.useState)("es"),i=c(c({},{es:{initialBotMessage:"Hola, soy tu asistente legal. \xbfEn qu\xe9 puedo ayudarte hoy?",typingIndicator:"Escribiendo...",noAnswer:"Lo siento, no tengo una respuesta para esa pregunta.",inputPlaceholder:"Escribe tu pregunta...",sendButton:"Enviar"},qu:{initialBotMessage:"\xd1uqaqa kamachiy yanapakurqani kani. \xbfImanata yanapani kanki?",typingIndicator:"Qillqachkan...",noAnswer:"Ama hina, \xf1uqa mana respuesta chay tapuykita riqsini.",inputPlaceholder:"Tapuykita qillqay...",sendButton:"Apachiy"}}[n]),{},{data:[[{id:1,keywords:["herencia","testamento","sucesi\xf3n"],pregunta:{es:"\xbfC\xf3mo se tramita una herencia en Ecuador?",qu:"\xbfImanalla Ecuadorpi mirayta rurayta riksinchi?"},respuesta:{es:"En Ecuador, el proceso de herencia se inicia tras el fallecimiento de una persona. Si hay testamento, se respeta la voluntad del fallecido. Si no, se aplica la sucesi\xf3n intestada, donde los herederos forzosos (c\xf3nyuge, hijos, padres) reciben la leg\xedtima. El tr\xe1mite se realiza ante un notario o un juez, seg\xfan el caso, y requiere acta de defunci\xf3n, partida de nacimiento de los herederos, certificado de bienes y pago de impuestos. Es importante asesorarse legalmente para evitar conflictos familiares o repartos injustos.",qu:"Ecuadorpi, mirayta ruray kallarinmi shuk runa wa\xf1ushpa. Testamento tiyashkaka, wa\xf1ushkapa munayta yuyarishkanchik. Mana testamento tiyashkaka, kamachikwan mirayta churashkan, chaypi kushilla/kusa, wawakuna, tayta-mamakuna mirayta chaskinkuna. Kay rurayka notarioman uta juezman rurashka kan, imashina kaspik. Wa\xf1ushkapa killkashka, miraykunapa wacharishka, charishkapa killkashka, shinallatak impuestokunata pagayta munan. Kamachik yachachikkunawan rimanakuy allinmi, churanakuy paktachiyta, chaymi chikanakuyta harkayta ushan."}},{id:2,keywords:["divorcio","separaci\xf3n","custodia"],pregunta:{es:"\xbfQu\xe9 necesito para iniciar un proceso de divorcio?",qu:"\xbfImanata munani divorcio rurayta kallarikpak?"},respuesta:{es:"Para iniciar un divorcio en Ecuador, se puede proceder por mutuo acuerdo o por causales legales. En ambos casos se presenta una demanda ante el juez competente. Si hay hijos, debe regularse la pensi\xf3n de alimentos, custodia y r\xe9gimen de visitas. Si no hay acuerdo, el proceso puede ser m\xe1s largo. Tambi\xe9n puede realizarse ante notario si no hay hijos menores ni bienes. Es recomendable el apoyo de un abogado para garantizar el respeto a los derechos de ambas partes.",qu:"Ecuadorpi divorcio rurayta kallarikpak, ishkankuna rimanakushpa, uta kamachikmanta causakunawan ruray ushan. Ishkayninmanta, juezman ma\xf1ayta apamun. Wawakuna tiyashkaka, mikuyta pagay, rikuyta yachay, watukuna tiyakpak paktanakuyta rurayta munan. Mana paktanakushkaka, rurayka unaylla kan. Wawakuna uchilla, charishkakuna mana tiyashkaka, notariomanmi ruray ushan. Abogadopa yanapaymi allin, shinami ishkay shimi allikayta pakta rurayta ushan."}},{id:3,keywords:["tierra","posesi\xf3n","registro"],pregunta:{es:"\xbfC\xf3mo puedo legalizar una propiedad rural en Ecuador?",qu:"\xbfImanalla Ecuadorpi chakrapi allpata legalnin?"},respuesta:{es:"Para legalizar una propiedad rural se requiere demostrar la posesi\xf3n pac\xedfica y continua por al menos cinco a\xf1os. Se debe solicitar al Ministerio de Agricultura el proceso de adjudicaci\xf3n, que incluye inspecci\xf3n t\xe9cnica, pago de tasas, y emisi\xf3n del certificado de posesi\xf3n. Luego se puede inscribir en el Registro de la Propiedad. Este proceso es clave para acceder a cr\xe9ditos, programas estatales y evitar disputas legales. Se recomienda acudir a un t\xe9cnico legal o agrario para el tr\xe1mite.",qu:"Chakrapi allpata legalninpakmi, shuk runa \xf1awpaq phishka watata kawsaylla, mana chinkaylla tiyashkata rikuchina munan. Agricultura Ministeriomanmi ma\xf1ayta apamun, chaypi adjudicaci\xf3n ruraykuna, rikuchik ruray, kullkita pagay, shinallatak posesi\xf3n killkashkapa churay. Chaymanta Propiedadpa Killkaypi killkanakta ushan. Kay ruraymi kallari rurayta, kullkita ma\xf1anakuyta, estado ruraykunaman yaykuyta, shinallatak mana churanakuyta chinkayta. Kamachik yachachikkunaman rinakta yanapanakuy allinmi."}},{id:4,keywords:["cr\xe9ditos agr\xedcolas","BanEcuador","financiamiento"],pregunta:{es:"\xbfD\xf3nde puedo solicitar un cr\xe9dito para actividades agr\xedcolas o ganaderas?",qu:"\xbfMaypita chakramanta uta uywamanta ruraypak kullkita ma\xf1ani?"},respuesta:{es:"Los agricultores, ganaderos y emprendedores rurales pueden solicitar cr\xe9ditos productivos en entidades como BanEcuador, que ofrece l\xedneas de financiamiento con bajas tasas de inter\xe9s y plazos flexibles. Estos cr\xe9ditos est\xe1n dise\xf1ados para fomentar la producci\xf3n rural, mejorar tecnolog\xeda y apoyar cadenas productivas. Tambi\xe9n se puede acceder a programas del Ministerio de Agricultura y Ganader\xeda (MAG), como fondos no reembolsables o programas de incentivo agr\xedcola. Es importante presentar un plan de inversi\xf3n, copia de c\xe9dula, RUC si aplica, y documentaci\xf3n t\xe9cnica del proyecto para ser considerado beneficiario.",qu:"Chakrakkuna, uywakuna, chakrapi rurayta kallarishkakuna, BanEcuador shina kullkita ma\xf1anakun. Chaypi uchilla intereskunawan, mana rigidokunata rurayta yanapanakuna. Kay kullkikunaka chakrapi rurayta alli kawsachiypakmi, mushuk yachaykunata ruraypakmi, shina llankay ruraykunata yanapan. Shinallatak Agricultura y Ganader\xeda Ministeriopa (MAG) rural programakunaman yaykuy ushan, mana kutikullkikunawan, rurayta yanapanakuykunawan. Kullkita ma\xf1aypak, ruraypa plan, c\xe9dula, RUC tiyashkaka, shinallatak proyectopa yachay killkashkakunata churayta munan."}},{id:5,keywords:["legalizaci\xf3n de tierras","adjudicaci\xf3n de terrenos","posesi\xf3n efectiva"],pregunta:{es:"\xbfQu\xe9 requisitos necesito para legalizar un terreno rural sin escrituras?",qu:"\xbfImanata munani legalnin rurayta mana papelinwan?"},respuesta:{es:"Debes demostrar la posesi\xf3n pac\xedfica, p\xfablica e ininterrumpida del terreno durante al menos cinco a\xf1os. El tr\xe1mite de adjudicaci\xf3n se realiza en el Ministerio de Agricultura y Ganader\xeda (MAG), donde debes presentar documentos como planos georreferenciados, certificado de no poseer otro terreno, acta de posesi\xf3n, declaraci\xf3n juramentada y pago de tasas. Una vez aprobado, se te entregar\xe1 el t\xedtulo de propiedad que deber\xe1s inscribir en el Registro de la Propiedad. Este proceso es clave para obtener seguridad jur\xeddica y acceso a cr\xe9ditos.",qu:"Terrenota kawsaylla, rimaylla, mana chinkaylla \xf1awpaq phishka watata tiyashkata rikuchiyta munanki. Adjudicaci\xf3n rurayka Agricultura y Ganader\xeda Ministeriomanmi rurashkan. Kaypi chay ruraypak apamunki: allpapa georreferenciadokuna, shuk allpa mana charishkakapa killkashka, tiyashkapa acta, juramentashka willay, kullkita pagay. Chayta aprobashka kachun, charishkapa killkashkata churankichu, chayta Propiedad Killkaypi killkanakanki. Kay ruraymi allpakapa kamachikta charik, kullkita ma\xf1anakuyta yanapak."}},{id:6,keywords:["violencia de g\xe9nero","denuncia","protecci\xf3n"],pregunta:{es:"\xbfD\xf3nde puedo denunciar violencia de g\xe9nero en el \xe1rea rural?",qu:"\xbfMaypita warmita llakichishkata willani chakrapi?"},respuesta:{es:"Puedes denunciar violencia de g\xe9nero en la Unidad Judicial especializada m\xe1s cercana, en la Fiscal\xeda o en una UPC. Tambi\xe9n puedes llamar al ECU-911. La Ley Org\xe1nica para Prevenir y Erradicar la Violencia contra las Mujeres protege a v\xedctimas con medidas como boletas de auxilio, restricciones al agresor, acompa\xf1amiento psicol\xf3gico y atenci\xf3n m\xe9dica. No necesitas abogado para presentar la denuncia. Hay casas de acogida disponibles en varias provincias que te pueden asistir.",qu:"Warmita llakichishkata willayta ushanki asha kawsaypa Juezpa Wasipi, Fiscal\xeda ukupi uta UPC ukupi. ECU-911man llamayta ushankipash. Warmikunata Llakiwan Harkana Kamachik (Ley Org\xe1nica para Prevenir y Erradicar la Violencia contra las Mujeres) harkana ruraykunawan yanaparin: yanapay killkashkakuna, llakichikta harkana, yuyaywan yanapay, hampinakunawan yanapay. Mana abogadota minishtinki willayta apanakapak. Achka markakunapi wasikuna tiyankuna yanapayta churaypak."}},{id:7,keywords:["pensi\xf3n de alimentos","juicio de alimentos","derechos de los hijos"],pregunta:{es:"\xbfC\xf3mo puedo demandar al padre o madre de mis hijos si no pasa pensi\xf3n?",qu:"\xbfImanalla \xf1ukaka wawapa taytaman uta mamaman ma\xf1ani mikuyta mana pagashkaka?"},respuesta:{es:"Debes presentar una demanda de alimentos en la Unidad Judicial de Familia del cant\xf3n donde vive el menor. Necesitas la partida de nacimiento del hijo, c\xe9dula del demandante, y si tienes, datos del trabajo del demandado. El juez establecer\xe1 una pensi\xf3n provisional seg\xfan el baremo oficial y citar\xe1 a audiencia. Si no cumple, se puede iniciar un proceso de apremio (detenci\xf3n) o retenci\xf3n de cuentas. La pensi\xf3n es obligatoria por ley.",qu:"Cant\xf3npi tiyak wawakunapa Ayllu Juzgadopi mikuy ma\xf1anakuyta apamunki. Wawapa wacharishkapa killkashka, ma\xf1akunapa c\xe9dula, shinallatak mana pagakunapa llamkaypi willay tiyashkaka chaykunata apamunki. Juezmi mikuyta kamachik killkashmanta churanka, shinallatak rimaykunaman kayachinka. Mana paktachishkaka, harkay rurayta kallarinkapakmi, shina kaptin kullkikunata kutina kashkan. Mikuyta pagaykamanta kamachik rimashka kan."}},{id:8,keywords:["sucesi\xf3n intestada","testamento","posesi\xf3n efectiva"],pregunta:{es:"\xbfQu\xe9 pasa si un familiar muere sin dejar testamento?",qu:"\xbfImata pasan shuk ayllu wa\xf1ushpa mana testamento sakishkaka?"},respuesta:{es:"Si una persona fallece sin dejar testamento, se inicia un proceso de sucesi\xf3n intestada. Los herederos forzosos (c\xf3nyuge, hijos, padres) deben presentar una solicitud de posesi\xf3n efectiva en la notar\xeda (si no hay conflictos) o en el juzgado (si hay oposici\xf3n). Se requiere acta de defunci\xf3n, partidas de nacimiento de los herederos y certificado de bienes. El juez o notario determinar\xe1 la distribuci\xf3n de la herencia seg\xfan el C\xf3digo Civil. Los bienes deben registrarse en el catastro correspondiente.",qu:"Shuk runa wa\xf1ushpa mana testamento sakishkaka, kamachikman mirayta churayta kallarinmi. Kushilla/kusa, wawakuna, taytamamakuna notariamanmi ma\xf1ayta apamun, mana churanakuykuna kaspika, uta juzgadomanmi churanakuykuna tiyashkaka. Wa\xf1ushkapa killkashka, miraykunapa wacharishka, charishkapa killkashkakunata apamun. Juez uta notariomi mirayta rakina, C\xf3digo Civilpi rimaywan. Charishkakunaka katastrupi killkanakun."}},{id:9,keywords:["tierra comunal","pueblos ind\xedgenas","territorios colectivos"],pregunta:{es:"\xbfQu\xe9 derechos tienen las comunidades sobre tierras comunales?",qu:"\xbfImata ayllukunaka allpa tantanakuypi allikayta charinkuna?"},respuesta:{es:"Las comunidades ind\xedgenas, afroecuatorianas y montubias tienen derechos colectivos sobre sus territorios ancestrales, seg\xfan la Constituci\xf3n del Ecuador y la Ley Org\xe1nica de Tierras Rurales. No pueden ser enajenadas ni embargadas. La comunidad debe estar registrada y organizada. Pueden decidir el uso del suelo, explotar recursos naturales respetando la consulta previa, y acceder a programas estatales. Tambi\xe9n pueden inscribir sus tierras colectivas en el Registro de la Propiedad como un solo predio comunal.",qu:"Runa ayllukuna, afroecuatorianokuna, montubiokuna, paykunapa \xf1awpa allpakunapi tantanakushkapa allikayta charinkuna, Ecuadorpa Constituci\xf3nwan, chakrapura allpakunapa kamachikwan. Mana chinkayta, mana kunayta ushan. Aylluka killkashka, tantanakushka kashkakunata munan. Allpapi imashina llamkakushka, pachamama charishkakunata ruranakunata paykunaka paktachinkapak, \xf1awpa tapuywan yuyayta riksishpa. Shinallatak paykunaka ayllupura allpakunata Propiedad Killkaypi shuk killkashka shina killkaptin ushan."}},{id:10,keywords:["arrendamiento","inquilino","desalojo"],pregunta:{es:"\xbfCu\xe1les son mis derechos como inquilino en una vivienda arrendada?",qu:"\xbfImata allikayta charini wasipi arriendashka tiyakpika?"},respuesta:{es:"Como inquilino en Ecuador, tienes derecho a un contrato de arrendamiento escrito, con cl\xe1usulas claras sobre el canon, duraci\xf3n y obligaciones. El arrendador no puede desalojarte sin orden judicial. Est\xe1 prohibido subir el arriendo arbitrariamente o cortar servicios b\xe1sicos. Puedes exigir facturas, recibir la vivienda en buen estado, y denunciar abusos en la Defensor\xeda del Pueblo o en el Ministerio de Vivienda. El contrato puede registrarse voluntariamente para mayor seguridad legal.",qu:"Ecuadorpi wasipi arriendashka tiyak runaka, killkashka contratopi tiyana allikayta charinki. Chaypi arriendo kullki, watay, minishtishkakuna kamachishka kankuna. Arriendakuna mana juezpa killkashkawan llukshichiyta ushanichu. Mana kamachikwanmi arriendo jawayta, uta servicioskunata pitayta rurana. Facturakunata ma\xf1anki, wasita alli kawsaypi chaskinki, shinallatak mana alli ruraykunata Defensor\xeda del Pueblo ukupi uta Vivienda Ministeriopi willayta ushanki. Contratoka munashpa killkanakunmi, kamachikpi alli tiyayta ruraypak."}},{id:11,keywords:["acta de nacimiento","registro civil","inscripci\xf3n de nacimiento"],pregunta:{es:"\xbfC\xf3mo inscribo a mi hijo si naci\xf3 en casa o en el campo?",qu:"\xbfImanalla \xf1uka wawata killkanimi wasipi uta chakrapi wacharishkakpi?"},respuesta:{es:"Debes acudir al Registro Civil m\xe1s cercano con el certificado de nacido vivo emitido por un centro de salud, partera o autoridad local. Si no lo tienes, puedes presentar dos testigos que acrediten el nacimiento. Tambi\xe9n necesitar\xe1s tu c\xe9dula y la del padre (si aplica). La inscripci\xf3n es gratuita y obligatoria. Garantiza el acceso a educaci\xf3n, salud y derechos ciudadanos. Puedes hacerlo hasta los 12 a\xf1os con declaraci\xf3n juramentada.",qu:"Wawata killkayanaykipakmi, kawsaypa kamachikmanta killkashka wacharishkapa willaywan asha Registro Civilman rinanki, hampina wasimanta, parteramanta, uta llakta autoridadmanta apamushkaka. Mana chayta tiyashkakpika, ishkay testigokunata apamunki, paykunaka wacharishkata yachachinkapak. Shinallatak c\xe9dulamanta, taytapa c\xe9dulapash tiyashkaka apamunki. Kay killkay mana kullkiwanmi, shinallatak kamachikwanmi. Chaymi wawapa yachayman, hampiman, kawsaypa allikaykunaman yaykuyta yanapan. Kunan shuk chunka iskay watakama juramentashka willaywan killkayanakta ushan."}}]]});return(0,_t.jsx)(tf.Provider,{value:{language:n,setLanguage:a,translations:i},children:t})};function rf(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}function af(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}let sf=function(){const{crypto:e}=globalThis;if(null!==e&&void 0!==e&&e.randomUUID)return sf=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(+e^n()&15>>+e/4).toString(16)))};function of(e){return"object"===typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const lf=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(n){}}return new Error(e)};class uf extends Error{}class cf extends uf{constructor(e,t,n,r){super("".concat(cf.makeMessage(e,t,n))),this.status=e,this.headers=r,this.requestID=null===r||void 0===r?void 0:r.get("x-request-id"),this.error=t;const a=t;this.code=null===a||void 0===a?void 0:a.code,this.param=null===a||void 0===a?void 0:a.param,this.type=null===a||void 0===a?void 0:a.type}static makeMessage(e,t,n){const r=null!==t&&void 0!==t&&t.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?"".concat(e," ").concat(r):e?"".concat(e," status code (no body)"):r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new df({message:n,cause:lf(t)});const a=null===t||void 0===t?void 0:t.error;return 400===e?new pf(e,a,n,r):401===e?new mf(e,a,n,r):403===e?new gf(e,a,n,r):404===e?new yf(e,a,n,r):409===e?new vf(e,a,n,r):422===e?new bf(e,a,n,r):429===e?new wf(e,a,n,r):e>=500?new kf(e,a,n,r):new cf(e,a,n,r)}}class hf extends cf{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0)}}class df extends cf{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ff extends df{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:null!==e&&void 0!==e?e:"Request timed out."})}}class pf extends cf{}class mf extends cf{}class gf extends cf{}class yf extends cf{}class vf extends cf{}class bf extends cf{}class wf extends cf{}class kf extends cf{}class _f extends uf{constructor(){super("Could not parse response content as the length limit was reached")}}class Sf extends uf{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ef extends Error{constructor(e){super(e)}}const Cf=/^[a-z][a-z0-9+.-]*:/i;let Tf=e=>(Tf=Array.isArray,Tf(e)),xf=Tf;function Af(e){return"object"!==typeof e?{}:null!==e&&void 0!==e?e:{}}function If(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}const Nf=e=>new Promise((t=>setTimeout(t,e))),Rf="5.9.0";const Pf=()=>{const e="undefined"!==typeof Deno&&null!=Deno.build?"deno":"undefined"!==typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call("undefined"!==typeof globalThis.process?globalThis.process:0)?"node":"unknown";var t,n,r,a,i;if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":Df(Deno.build.os),"X-Stainless-Arch":Of(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:null!==(t=null===(n=Deno.version)||void 0===n?void 0:n.deno)&&void 0!==t?t:"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":Df(null!==(r=globalThis.process.platform)&&void 0!==r?r:"unknown"),"X-Stainless-Arch":Of(null!==(a=globalThis.process.arch)&&void 0!==a?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(i=globalThis.process.version)&&void 0!==i?i:"unknown"};const s=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){const n=e[1]||0,r=e[2]||0,a=e[3]||0;return{browser:t,version:"".concat(n,".").concat(r,".").concat(a)}}}return null}();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(s.browser),"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Of=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?"other:".concat(e):"unknown",Df=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?"Other:".concat(e):"Unknown";let Lf;function Mf(){const e=globalThis.ReadableStream;if("undefined"===typeof e)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(...n)}function Ff(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Mf({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function jf(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return null!==e&&void 0!==e&&e.done&&t.releaseLock(),e}catch(qb){throw t.releaseLock(),qb}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const zf=e=>{let{headers:t,body:n}=e;return{bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)}},Uf="RFC3986",Vf=e=>String(e),Bf={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:Vf},qf="RFC1738";let Hf=(e,t)=>{var n;return Hf=null!==(n=Object.hasOwn)&&void 0!==n?n:Function.prototype.call.bind(Object.prototype.hasOwnProperty),Hf(e,t)};const Wf=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const Kf=1024;function Qf(e,t){if(Tf(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const Gf={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},Xf=function(e,t){Array.prototype.push.apply(e,Tf(t)?t:[t])};let $f;const Yf={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,a)=>{if(0===e.length)return e;let i=e;if("symbol"===typeof e?i=Symbol.prototype.toString.call(e):"string"!==typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let s="";for(let o=0;o<i.length;o+=Kf){const e=i.length>=Kf?i.slice(o,o+Kf):i,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||a===qf&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=Wf[r]:r<2048?t[t.length]=Wf[192|r>>6]+Wf[128|63&r]:r<55296||r>=57344?t[t.length]=Wf[224|r>>12]+Wf[128|r>>6&63]+Wf[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=Wf[240|r>>18]+Wf[128|r>>12&63]+Wf[128|r>>6&63]+Wf[128|63&r])}s+=t.join("")}return s},encodeValuesOnly:!1,format:Uf,formatter:Vf,indices:!1,serializeDate:e=>(null!==$f&&void 0!==$f?$f:$f=Function.prototype.call.bind(Date.prototype.toISOString))(e),skipNulls:!1,strictNullHandling:!1};const Jf={};function Zf(e,t,n,r,a,i,s,o,l,u,c,h,d,f,p,m,g,y){let v=e,b=y,w=0,k=!1;for(;void 0!==(b=b.get(Jf))&&!k;){const t=b.get(e);if(w+=1,"undefined"!==typeof t){if(t===w)throw new RangeError("Cyclic object value");k=!0}"undefined"===typeof b.get(Jf)&&(w=0)}if("function"===typeof u?v=u(t,v):v instanceof Date?v=null===d||void 0===d?void 0:d(v):"comma"===n&&Tf(v)&&(v=Qf(v,(function(e){return e instanceof Date?null===d||void 0===d?void 0:d(e):e}))),null===v){if(i)return l&&!m?l(t,Yf.encoder,g,"key",f):t;v=""}if("string"===typeof(_=v)||"number"===typeof _||"boolean"===typeof _||"symbol"===typeof _||"bigint"===typeof _||function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}(v)){if(l){const e=m?t:l(t,Yf.encoder,g,"key",f);return[(null===p||void 0===p?void 0:p(e))+"="+(null===p||void 0===p?void 0:p(l(v,Yf.encoder,g,"value",f)))]}return[(null===p||void 0===p?void 0:p(t))+"="+(null===p||void 0===p?void 0:p(String(v)))]}var _;const S=[];if("undefined"===typeof v)return S;let E;if("comma"===n&&Tf(v))m&&l&&(v=Qf(v,l)),E=[{value:v.length>0?v.join(",")||null:void 0}];else if(Tf(u))E=u;else{const e=Object.keys(v);E=c?e.sort(c):e}const C=o?String(t).replace(/\./g,"%2E"):String(t),T=r&&Tf(v)&&1===v.length?C+"[]":C;if(a&&Tf(v)&&0===v.length)return T+"[]";for(let x=0;x<E.length;++x){const t=E[x],b="object"===typeof t&&"undefined"!==typeof t.value?t.value:v[t];if(s&&null===b)continue;const k=h&&o?t.replace(/\./g,"%2E"):t,_=Tf(v)?"function"===typeof n?n(T,k):T:T+(h?"."+k:"["+k+"]");y.set(e,w);const C=new WeakMap;C.set(Jf,y),Xf(S,Zf(b,_,n,r,a,i,s,o,"comma"===n&&m&&Tf(v)?null:l,u,c,h,d,f,p,m,g,C))}return S}function ep(e){let t=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yf;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||Yf.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Uf;if("undefined"!==typeof e.format){if(!Hf(Bf,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Bf[n];let a,i=Yf.filter;if(("function"===typeof e.filter||Tf(e.filter))&&(i=e.filter),a=e.arrayFormat&&e.arrayFormat in Gf?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":Yf.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s="undefined"===typeof e.allowDots?!0===!!e.encodeDotInKeys||Yf.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:Yf.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:Yf.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:Yf.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?Yf.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:Yf.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:Yf.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:Yf.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:Yf.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:Yf.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:Yf.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:Yf.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r,a;"function"===typeof n.filter?(a=n.filter,t=a("",t)):Tf(n.filter)&&(a=n.filter,r=a);const i=[];if("object"!==typeof t||null===t)return"";const s=Gf[n.arrayFormat],o="comma"===s&&n.commaRoundTrip;r||(r=Object.keys(t)),n.sort&&r.sort(n.sort);const l=new WeakMap;for(let h=0;h<r.length;++h){const e=r[h];n.skipNulls&&null===t[e]||Xf(i,Zf(t[e],e,s,o,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}const u=i.join(n.delimiter);let c=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),u.length>0?c+u:""}function tp(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new np(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function np(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return np=function(e){this.s=e,this.n=e.next},np.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new np(e)}function rp(e,t){this.v=e,this.k=t}function ap(e){return new rp(e,0)}function ip(e){return function(){return new sp(e.apply(this,arguments))}}function sp(e){var t,n;function r(t,n){try{var i=e[t](n),s=i.value,o=s instanceof rp;Promise.resolve(o?s.v:s).then((function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}a(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(i,s){var o={key:e,arg:a,resolve:i,reject:s,next:null};n?n=n.next=o:(t=n=o,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}let op,lp;function up(e){let t;return(null!==op&&void 0!==op?op:(t=new globalThis.TextEncoder,op=t.encode.bind(t)))(e)}function cp(e){let t;return(null!==lp&&void 0!==lp?lp:(t=new globalThis.TextDecoder,lp=t.decode.bind(t)))(e)}var hp,dp;sp.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},sp.prototype.next=function(e){return this._invoke("next",e)},sp.prototype.throw=function(e){return this._invoke("throw",e)},sp.prototype.return=function(e){return this._invoke("return",e)};class fp{constructor(){hp.set(this,void 0),dp.set(this,void 0),rf(this,hp,new Uint8Array,"f"),rf(this,dp,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?up(e):e;rf(this,hp,function(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}([af(this,hp,"f"),t]),"f");const n=[];let r;for(;null!=(r=pp(af(this,hp,"f"),af(this,dp,"f")));){if(r.carriage&&null==af(this,dp,"f")){rf(this,dp,r.index,"f");continue}if(null!=af(this,dp,"f")&&(r.index!==af(this,dp,"f")+1||r.carriage)){n.push(cp(af(this,hp,"f").subarray(0,af(this,dp,"f")-1))),rf(this,hp,af(this,hp,"f").subarray(af(this,dp,"f")),"f"),rf(this,dp,null,"f");continue}const e=null!==af(this,dp,"f")?r.preceding-1:r.preceding,t=cp(af(this,hp,"f").subarray(0,e));n.push(t),rf(this,hp,af(this,hp,"f").subarray(r.index),"f"),rf(this,dp,null,"f")}return n}flush(){return af(this,hp,"f").length?this.decode("\n"):[]}}function pp(e,t){for(let n=null!==t&&void 0!==t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function mp(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}hp=new WeakMap,dp=new WeakMap,fp.NEWLINE_CHARS=new Set(["\n","\r"]),fp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const gp={off:0,error:200,warn:300,info:400,debug:500},yp=(e,t,n)=>{var r,a;if(e)return r=gp,a=e,Object.prototype.hasOwnProperty.call(r,a)?e:void _p(n).warn("".concat(t," was set to ").concat(JSON.stringify(e),", expected one of ").concat(JSON.stringify(Object.keys(gp))))};function vp(){}function bp(e,t,n){return!t||gp[e]>gp[n]?vp:t[e].bind(t)}const wp={error:vp,warn:vp,info:vp,debug:vp};let kp=new WeakMap;function _p(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return wp;const a=kp.get(n);if(a&&a[0]===r)return a[1];const i={error:bp("error",n,r),warn:bp("warn",n,r),info:bp("info",n,r),debug:bp("debug",n,r)};return kp.set(n,[r,i]),i}const Sp=e=>(e.options&&(e.options=c({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map((e=>{let[t,n]=e;return[t,"authorization"===t.toLowerCase()||"cookie"===t.toLowerCase()||"set-cookie"===t.toLowerCase()?"***":n]})))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Ep,Cp,Tp;class xp{constructor(e,t,n){this.iterator=e,Ep.set(this,void 0),this.controller=t,rf(this,Ep,n,"f")}static fromSSEResponse(e,t,n){let r=!1;const a=n?_p(n):console;function i(){return i=ip((function*(){if(r)throw new uf("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{var i,s=!1,o=!1;try{for(var l,u=tp(function(e,t){return Ap.apply(this,arguments)}(e,t));s=!(l=yield ap(u.next())).done;s=!1){const t=l.value;if(!n)if(t.data.startsWith("[DONE]"))n=!0;else if(null===t.event||t.event.startsWith("response.")||t.event.startsWith("transcript.")){let n;try{n=JSON.parse(t.data)}catch(qb){throw a.error("Could not parse message into JSON:",t.data),a.error("From chunk:",t.raw),qb}if(n&&n.error)throw new cf(void 0,n.error,void 0,e.headers);yield n}else{let e;try{e=JSON.parse(t.data)}catch(qb){throw console.error("Could not parse message into JSON:",t.data),console.error("From chunk:",t.raw),qb}if("error"==t.event)throw new cf(void 0,e.error,e.message,void 0);yield{event:t.event,data:e}}}}catch(c){o=!0,i=c}finally{try{s&&null!=u.return&&(yield ap(u.return()))}finally{if(o)throw i}}n=!0}catch(qb){if(of(qb))return;throw qb}finally{n||t.abort()}})),i.apply(this,arguments)}return new xp((function(){return i.apply(this,arguments)}),t,n)}static fromReadableStream(e,t,n){let r=!1;function a(){return(a=ip((function*(){const t=new fp,n=jf(e);var r,a=!1,i=!1;try{for(var s,o=tp(n);a=!(s=yield ap(o.next())).done;a=!1){const e=s.value;for(const n of t.decode(e))yield n}}catch(l){i=!0,r=l}finally{try{a&&null!=o.return&&(yield ap(o.return()))}finally{if(i)throw r}}for(const e of t.flush())yield e}))).apply(this,arguments)}function i(){return i=ip((function*(){if(r)throw new uf("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let e=!1;try{var n,i=!1,s=!1;try{for(var o,l=tp(function(){return a.apply(this,arguments)}());i=!(o=yield ap(l.next())).done;i=!1){const t=o.value;e||t&&(yield JSON.parse(t))}}catch(u){s=!0,n=u}finally{try{i&&null!=l.return&&(yield ap(l.return()))}finally{if(s)throw n}}e=!0}catch(qb){if(of(qb))return;throw qb}finally{e||t.abort()}})),i.apply(this,arguments)}return new xp((function(){return i.apply(this,arguments)}),t,n)}[(Ep=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new xp((()=>r(e)),this.controller,af(this,Ep,"f")),new xp((()=>r(t)),this.controller,af(this,Ep,"f"))]}toReadableStream(){const e=this;let t;return Mf({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const a=up(JSON.stringify(n)+"\n");e.enqueue(a)}catch(n){e.error(n)}},async cancel(){var e,n;await(null===(e=(n=t).return)||void 0===e?void 0:e.call(n))}})}}function Ap(){return Ap=ip((function*(e,t){if(!e.body){if(t.abort(),"undefined"!==typeof globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new uf("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new uf("Attempted to iterate over a response with no body")}const n=new Np,r=new fp,a=jf(e.body);var i,s=!1,o=!1;try{for(var l,u=tp(function(e){return Ip.apply(this,arguments)}(a));s=!(l=yield ap(u.next())).done;s=!1){const e=l.value;for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}}}catch(c){o=!0,i=c}finally{try{s&&null!=u.return&&(yield ap(u.return()))}finally{if(o)throw i}}for(const h of r.flush()){const e=n.decode(h);e&&(yield e)}})),Ap.apply(this,arguments)}function Ip(){return Ip=ip((function*(e){let t=new Uint8Array;var n,r=!1,a=!1;try{for(var i,s=tp(e);r=!(i=yield ap(s.next())).done;r=!1){const e=i.value;{if(null==e)continue;const n=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?up(e):e;let r,a=new Uint8Array(t.length+n.length);for(a.set(t),a.set(n,t.length),t=a;-1!==(r=mp(t));)yield t.slice(0,r),t=t.slice(r)}}}catch(o){a=!0,n=o}finally{try{r&&null!=s.return&&(yield ap(s.return()))}finally{if(a)throw n}}t.length>0&&(yield t)})),Ip.apply(this,arguments)}class Np{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function Rp(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:a,startTime:i}=t,s=await(async r=>{if(t.options.stream)return _p(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):xp.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const a=n.headers.get("content-type"),i=null===a||void 0===a||null===(r=a.split(";")[0])||void 0===r?void 0:r.trim();if((null===i||void 0===i?void 0:i.includes("application/json"))||(null===i||void 0===i?void 0:i.endsWith("+json"))){return Pp(await n.json(),n)}return await n.text()})();return _p(e).debug("[".concat(r,"] response parsed"),Sp({retryOfRequestLogID:a,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}function Pp(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Op extends Promise{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rp;super((e=>{e(null)})),this.responsePromise=t,this.parseResponse=n,Cp.set(this,void 0),rf(this,Cp,e,"f")}_thenUnwrap(e){return new Op(af(this,Cp,"f"),this.responsePromise,(async(t,n)=>Pp(e(await this.parseResponse(t,n),n),n.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then((e=>this.parseResponse(af(this,Cp,"f"),e)))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Cp=new WeakMap;class Dp{constructor(e,t,n,r){Tp.set(this,void 0),rf(this,Tp,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new uf("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await af(this,Tp,"f").requestAPIList(this.constructor,e)}iterPages(){var e=this;return ip((function*(){let t=e;for(yield t;t.hasNextPage();)t=yield ap(t.getNextPage()),yield t}))()}[(Tp=new WeakMap,Symbol.asyncIterator)](){var e=this;return ip((function*(){var t,n=!1,r=!1;try{for(var a,i=tp(e.iterPages());n=!(a=yield ap(i.next())).done;n=!1){const e=a.value;for(const t of e.getPaginatedItems())yield t}}catch(s){r=!0,t=s}finally{try{n&&null!=i.return&&(yield ap(i.return()))}finally{if(r)throw t}}}))()}}class Lp extends Op{constructor(e,t,n){super(e,t,(async(e,t)=>new n(e,t.response,await Rp(e,t),t.options)))}[Symbol.asyncIterator](){var e=this;return ip((function*(){const t=yield ap(e);var n,r=!1,a=!1;try{for(var i,s=tp(t);r=!(i=yield ap(s.next())).done;r=!1){const e=i.value;yield e}}catch(o){a=!0,n=o}finally{try{r&&null!=s.return&&(yield ap(s.return()))}finally{if(a)throw n}}}))()}}class Mp extends Dp{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}nextPageRequestOptions(){return null}}class Fp extends Dp{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){var e;return null!==(e=this.data)&&void 0!==e?e:[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){var e;const t=this.getPaginatedItems(),n=null===(e=t[t.length-1])||void 0===e?void 0:e.id;return n?c(c({},this.options),{},{query:c(c({},Af(this.options.query)),{},{after:n})}):null}}const jp=()=>{if("undefined"===typeof File){var e;const{process:t}=globalThis,n="string"===typeof(null===t||void 0===t||null===(e=t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function zp(e,t,n){return jp(),new File(e,null!==t&&void 0!==t?t:"unknown_file",n)}function Up(e){return("object"===typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Vp=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],Bp=async(e,t)=>c(c({},e),{},{body:await Hp(e.body,t)}),qp=new WeakMap;const Hp=async(e,t)=>{if(!await function(e){const t="function"===typeof e?e:e.fetch,n=qp.get(t);if(n)return n;const r=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,n=new FormData;return n.toString()!==await new e(n).text()}catch(e){return!0}})();return qp.set(t,r),r}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map((e=>{let[t,r]=e;return Kp(n,t,r)}))),n},Wp=e=>e instanceof Blob&&"name"in e,Kp=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError('Received null for "'.concat(t,"\"; to pass null in FormData, you must use the string 'null'"));if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(n instanceof Response)e.append(t,zp([await n.blob()],Up(n)));else if(Vp(n))e.append(t,zp([await new Response(Ff(n)).blob()],Up(n)));else if(Wp(n))e.append(t,n,Up(n));else if(Array.isArray(n))await Promise.all(n.map((n=>Kp(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(n," instead"));await Promise.all(Object.entries(n).map((n=>{let[r,a]=n;return Kp(e,"".concat(t,"[").concat(r,"]"),a)})))}}},Qp=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer;async function Gp(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Qp(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!Vp(e)){var n;const t=null===e||void 0===e||null===(n=e.constructor)||void 0===n?void 0:n.name;throw new Error("Unexpected data type: ".concat(typeof e).concat(t?"; constructor: ".concat(t):"").concat(function(e){if("object"!==typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return"; props: [".concat(t.map((e=>'"'.concat(e,'"'))).join(", "),"]")}(e)))}var r,a=!1,i=!1;try{for(var s,o=tp(e);a=!(s=await o.next()).done;a=!1){const e=s.value;t.push(...await Gp(e))}}catch(l){i=!0,r=l}finally{try{a&&null!=o.return&&await o.return()}finally{if(i)throw r}}}return t}class Xp{constructor(e){this._client=e}}function $p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Yp(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Jp=Object.freeze(Object.create(null)),Zp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yp;return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(1===t.length)return t[0];let i=!1;const s=[],o=t.reduce(((t,n,a)=>{var o,l,u;/[?#]/.test(n)&&(i=!0);const c=r[a];let h=(i?encodeURIComponent:e)(""+c);return a!==r.length&&(null==c||"object"===typeof c&&c.toString===(null===(o=Object.getPrototypeOf(null!==(l=Object.getPrototypeOf(null!==(u=c.hasOwnProperty)&&void 0!==u?u:Jp))&&void 0!==l?l:Jp))||void 0===o?void 0:o.toString))&&(h=c+"",s.push({start:t.length+n.length,length:h.length,error:"Value of type ".concat(Object.prototype.toString.call(c).slice(8,-1)," is not a valid path parameter")})),t+n+(a===r.length?"":h)}),""),l=o.split(/[?#]/,1)[0],u=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let c;for(;null!==(c=u.exec(l));)s.push({start:c.index,length:c[0].length,error:'Value "'.concat(c[0],"\" can't be safely passed as a path parameter")});if(s.sort(((e,t)=>e.start-t.start)),s.length>0){let e=0;const t=s.reduce(((t,n)=>{const r=" ".repeat(n.start-e),a="^".repeat(n.length);return e=n.start+n.length,t+r+a}),"");throw new uf("Path parameters result in path with invalid segments:\n".concat(s.map((e=>e.error)).join("\n"),"\n").concat(o,"\n").concat(t))}return o}},em=Zp(Yp);var tm;class nm extends Xp{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(tm||(tm=$p(["/chat/completions/","/messages"])),e),Fp,c({query:t},n))}}function rm(e){return"function"===typeof e.parse}const am=e=>"assistant"===(null===e||void 0===e?void 0:e.role),im=e=>"tool"===(null===e||void 0===e?void 0:e.role);var sm,om,lm,um,cm,hm,dm,fm,pm,mm,gm,ym,vm;class bm{constructor(){sm.add(this),this.controller=new AbortController,om.set(this,void 0),lm.set(this,(()=>{})),um.set(this,(()=>{})),cm.set(this,void 0),hm.set(this,(()=>{})),dm.set(this,(()=>{})),fm.set(this,{}),pm.set(this,!1),mm.set(this,!1),gm.set(this,!1),ym.set(this,!1),rf(this,om,new Promise(((e,t)=>{rf(this,lm,e,"f"),rf(this,um,t,"f")})),"f"),rf(this,cm,new Promise(((e,t)=>{rf(this,hm,e,"f"),rf(this,dm,t,"f")})),"f"),af(this,om,"f").catch((()=>{})),af(this,cm,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),af(this,sm,"m",vm).bind(this))}),0)}_connected(){this.ended||(af(this,lm,"f").call(this),this._emit("connect"))}get ended(){return af(this,pm,"f")}get errored(){return af(this,mm,"f")}get aborted(){return af(this,gm,"f")}abort(){this.controller.abort()}on(e,t){return(af(this,fm,"f")[e]||(af(this,fm,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=af(this,fm,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(af(this,fm,"f")[e]||(af(this,fm,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{rf(this,ym,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){rf(this,ym,!0,"f"),await af(this,cm,"f")}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(af(this,pm,"f"))return;"end"===e&&(rf(this,pm,!0,"f"),af(this,hm,"f").call(this));const a=af(this,fm,"f")[e];if(a&&(af(this,fm,"f")[e]=a.filter((e=>!e.once)),a.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return af(this,ym,"f")||null!==a&&void 0!==a&&a.length||Promise.reject(e),af(this,um,"f").call(this,e),af(this,dm,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];af(this,ym,"f")||null!==a&&void 0!==a&&a.length||Promise.reject(e),af(this,um,"f").call(this,e),af(this,dm,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function wm(e){return"auto-parseable-response-format"===(null===e||void 0===e?void 0:e.$brand)}function km(e){return"auto-parseable-tool"===(null===e||void 0===e?void 0:e.$brand)}function _m(e,t){const n=e.choices.map((e=>{var n,r;if("length"===e.finish_reason)throw new _f;if("content_filter"===e.finish_reason)throw new Sf;return c(c({},e),{},{message:c(c(c({},e.message),e.message.tool_calls?{tool_calls:null!==(n=null===(r=e.message.tool_calls)||void 0===r?void 0:r.map((e=>function(e,t){var n;const r=null===(n=e.tools)||void 0===n?void 0:n.find((e=>{var n;return(null===(n=e.function)||void 0===n?void 0:n.name)===t.function.name}));return c(c({},t),{},{function:c(c({},t.function),{},{parsed_arguments:km(r)?r.$parseRaw(t.function.arguments):null!==r&&void 0!==r&&r.function.strict?JSON.parse(t.function.arguments):null})})}(t,e))))&&void 0!==n?n:void 0}:void 0),{},{parsed:e.message.content&&!e.message.refusal?Sm(t,e.message.content):null})})}));return c(c({},e),{},{choices:n})}function Sm(e,t){var n,r;if("json_schema"!==(null===(n=e.response_format)||void 0===n?void 0:n.type))return null;if("json_schema"===(null===(r=e.response_format)||void 0===r?void 0:r.type)){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function Em(e,t){var n;if(!e)return!1;const r=null===(n=e.tools)||void 0===n?void 0:n.find((e=>{var n;return(null===(n=e.function)||void 0===n?void 0:n.name)===t.function.name}));return km(r)||(null===r||void 0===r?void 0:r.function.strict)||!1}function Cm(e){var t,n;return!!wm(e.response_format)||null!==(t=null===(n=e.tools)||void 0===n?void 0:n.some((e=>km(e)||"function"===e.type&&!0===e.function.strict)))&&void 0!==t&&t}om=new WeakMap,lm=new WeakMap,um=new WeakMap,cm=new WeakMap,hm=new WeakMap,dm=new WeakMap,fm=new WeakMap,pm=new WeakMap,mm=new WeakMap,gm=new WeakMap,ym=new WeakMap,sm=new WeakSet,vm=function(e){if(rf(this,mm,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new hf),e instanceof hf)return rf(this,gm,!0,"f"),this._emit("abort",e);if(e instanceof uf)return this._emit("error",e);if(e instanceof Error){const t=new uf(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new uf(String(e)))};const Tm=["tool_choice","stream"];var xm,Am,Im,Nm,Rm,Pm,Om,Dm;const Lm=10;class Mm extends bm{constructor(){super(...arguments),xm.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var t;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=null===(t=e.choices[0])||void 0===t?void 0:t.message;return n&&this._addMessage(n),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),im(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(am(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionToolCall",n.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new uf("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),af(this,xm,"m",Am).call(this)}async finalMessage(){return await this.done(),af(this,xm,"m",Im).call(this)}async finalFunctionToolCall(){return await this.done(),af(this,xm,"m",Nm).call(this)}async finalFunctionToolCallResult(){return await this.done(),af(this,xm,"m",Rm).call(this)}async totalUsage(){return await this.done(),af(this,xm,"m",Pm).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=af(this,xm,"m",Im).call(this);t&&this._emit("finalMessage",t);const n=af(this,xm,"m",Am).call(this);n&&this._emit("finalContent",n);const r=af(this,xm,"m",Nm).call(this);r&&this._emit("finalFunctionToolCall",r);const a=af(this,xm,"m",Rm).call(this);null!=a&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",af(this,xm,"m",Pm).call(this))}async _createChatCompletion(e,t,n){const r=null===n||void 0===n?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),af(this,xm,"m",Om).call(this,t);const a=await e.chat.completions.create(c(c({},t),{},{stream:!1}),c(c({},n),{},{signal:this.controller.signal}));return this._connected(),this._addChatCompletion(_m(a,t))}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runTools(e,t,n){var r;const a="tool",{tool_choice:s="auto",stream:o}=t,l=i(t,Tm),u="string"!==typeof s&&(null===s||void 0===s||null===(r=s.function)||void 0===r?void 0:r.name),{maxChatCompletions:h=Lm}=n||{},d=t.tools.map((e=>{if(km(e)){if(!e.$callback)throw new uf("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),f={};for(const i of d)"function"===i.type&&(f[i.function.name||i.function.function.name]=i.function);const p="tools"in t?d.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const i of t.messages)this._addMessage(i,!1);for(let i=0;i<h;++i){var m,g;const t=null===(m=(await this._createChatCompletion(e,c(c({},l),{},{tool_choice:s,tools:p,messages:[...this.messages]}),n)).choices[0])||void 0===m?void 0:m.message;if(!t)throw new uf("missing message in ChatCompletion response");if(null===(g=t.tool_calls)||void 0===g||!g.length)return;for(const e of t.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:r}=e.function,i=f[n];if(!i){const e="Invalid tool_call: ".concat(JSON.stringify(n),". Available options are: ").concat(Object.keys(f).map((e=>JSON.stringify(e))).join(", "),". Please try again");this._addMessage({role:a,tool_call_id:t,content:e});continue}if(u&&u!==n){const e="Invalid tool_call: ".concat(JSON.stringify(n),". ").concat(JSON.stringify(u)," requested. Please try again");this._addMessage({role:a,tool_call_id:t,content:e});continue}let s;try{s=rm(i)?await i.parse(r):r}catch(y){const e=y instanceof Error?y.message:String(y);this._addMessage({role:a,tool_call_id:t,content:e});continue}const o=await i.function(s,this),l=af(this,xm,"m",Dm).call(this,o);if(this._addMessage({role:a,tool_call_id:t,content:l}),u)return}}}}xm=new WeakSet,Am=function(){var e;return null!==(e=af(this,xm,"m",Im).call(this).content)&&void 0!==e?e:null},Im=function(){let e=this.messages.length;for(;e-- >0;){const r=this.messages[e];if(am(r)){var t,n;return c(c({},r),{},{content:null!==(t=r.content)&&void 0!==t?t:null,refusal:null!==(n=r.refusal)&&void 0!==n?n:null})}}throw new uf("stream ended without producing a ChatCompletionMessage with role=assistant")},Nm=function(){for(let n=this.messages.length-1;n>=0;n--){var e;const r=this.messages[n];var t;if(am(r)&&null!==r&&void 0!==r&&null!==(e=r.tool_calls)&&void 0!==e&&e.length)return null===(t=r.tool_calls.at(-1))||void 0===t?void 0:t.function}},Rm=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(im(t)&&null!=t.content&&"string"===typeof t.content&&this.messages.some((e=>{var n;return"assistant"===e.role&&(null===(n=e.tool_calls)||void 0===n?void 0:n.some((e=>"function"===e.type&&e.id===t.tool_call_id)))})))return t.content}},Pm=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Om=function(e){if(null!=e.n&&e.n>1)throw new uf("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Dm=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class Fm extends Mm{static runTools(e,t,n){const r=new Fm,a=c(c({},n),{},{headers:c(c({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"runTools"})});return r._run((()=>r._runTools(e,t,a))),r}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super._addMessage(e,t),am(e)&&e.content&&this._emit("content",e.content)}}const jm={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511};class zm extends Error{}class Um extends Error{}const Vm=(e,t)=>{const n=e.length;let r=0;const a=e=>{throw new zm("".concat(e," at position ").concat(r))},i=e=>{throw new Um("".concat(e," at position ").concat(r))},s=()=>(h(),r>=n&&a("Unexpected end of input"),'"'===e[r]?o():"{"===e[r]?l():"["===e[r]?u():"null"===e.substring(r,r+4)||jm.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||jm.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||jm.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||jm.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||jm.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||jm.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),o=()=>{const s=r;let o=!1;for(r++;r<n&&('"'!==e[r]||o&&"\\"===e[r-1]);)o="\\"===e[r]&&!o,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(s,++r-Number(o)))}catch(qb){i(String(qb))}else if(jm.STR&t)try{return JSON.parse(e.substring(s,r-Number(o))+'"')}catch(qb){return JSON.parse(e.substring(s,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},l=()=>{r++,h();const i={};try{for(;"}"!==e[r];){if(h(),r>=n&&jm.OBJ&t)return i;const a=o();h(),r++;try{const e=s();Object.defineProperty(i,a,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(qb){if(jm.OBJ&t)return i;throw qb}h(),","===e[r]&&r++}}catch(qb){if(jm.OBJ&t)return i;a("Expected '}' at end of object")}return r++,i},u=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(s()),h(),","===e[r]&&r++}catch(qb){if(jm.ARR&t)return n;a("Expected ']' at end of array")}return r++,n},c=()=>{if(0===r){"-"===e&&jm.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(qb){if(jm.NUM&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(qb){}i(String(qb))}}const s=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||jm.NUM&t||a("Unterminated number literal");try{return JSON.parse(e.substring(s,r))}catch(qb){"-"===e.substring(s,r)&&jm.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(s,e.lastIndexOf("e")))}catch(qb){i(String(qb))}}},h=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return s()},Bm=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jm.ALL;if("string"!==typeof e)throw new TypeError("expecting str, got ".concat(typeof e));if(!e.trim())throw new Error("".concat(e," is empty"));return Vm(e.trim(),t)}(e,jm.ALL^jm.NUM),qm=["choices"],Hm=["delta","finish_reason","index","logprobs"],Wm=["content","refusal"],Km=["content","refusal","function_call","role","tool_calls"],Qm=["index","id","type","function"],Gm=["id","choices","created","model","system_fingerprint"],Xm=["message","finish_reason","index","logprobs"],$m=["content","function_call","tool_calls"],Ym=["function","type","id"],Jm=["arguments","name"];var Zm,eg,tg,ng,rg,ag,ig,sg,og,lg,ug,cg,hg,dg,fg;class pg extends Mm{constructor(e){super(),Zm.add(this),eg.set(this,void 0),tg.set(this,void 0),ng.set(this,void 0),rf(this,eg,e,"f"),rf(this,tg,[],"f")}get currentChatCompletionSnapshot(){return af(this,ng,"f")}static fromReadableStream(e){const t=new pg(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new pg(t);return r._run((()=>r._runChatCompletion(e,c(c({},t),{},{stream:!0}),c(c({},n),{},{headers:c(c({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),r}async _createChatCompletion(e,t,n){var r;super._createChatCompletion;const a=null===n||void 0===n?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort()))),af(this,Zm,"m",rg).call(this);const i=await e.chat.completions.create(c(c({},t),{},{stream:!0}),c(c({},n),{},{signal:this.controller.signal}));this._connected();var s,o=!1,l=!1;try{for(var u,h=tp(i);o=!(u=await h.next()).done;o=!1){const e=u.value;af(this,Zm,"m",ig).call(this,e)}}catch(d){l=!0,s=d}finally{try{o&&null!=h.return&&await h.return()}finally{if(l)throw s}}if(null!==(r=i.controller.signal)&&void 0!==r&&r.aborted)throw new hf;return this._addChatCompletion(af(this,Zm,"m",lg).call(this))}async _fromReadableStream(e,t){var n;const r=null===t||void 0===t?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),af(this,Zm,"m",rg).call(this),this._connected();const a=xp.fromReadableStream(e,this.controller);let i;var s,o=!1,l=!1;try{for(var u,c=tp(a);o=!(u=await c.next()).done;o=!1){const e=u.value;i&&i!==e.id&&this._addChatCompletion(af(this,Zm,"m",lg).call(this)),af(this,Zm,"m",ig).call(this,e),i=e.id}}catch(h){l=!0,s=h}finally{try{o&&null!=c.return&&await c.return()}finally{if(l)throw s}}if(null!==(n=a.controller.signal)&&void 0!==n&&n.aborted)throw new hf;return this._addChatCompletion(af(this,Zm,"m",lg).call(this))}[(eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,Zm=new WeakSet,rg=function(){this.ended||rf(this,ng,void 0,"f")},ag=function(e){let t=af(this,tg,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},af(this,tg,"f")[e.index]=t,t)},ig=function(e){if(this.ended)return;const t=af(this,Zm,"m",cg).call(this,e);this._emit("chunk",e,t);for(const _ of e.choices){var n,r,a,i,s,o,l,u;const e=t.choices[_.index];var c,h,d,f,p,m;if(null!=_.delta.content&&"assistant"===(null===(n=e.message)||void 0===n?void 0:n.role)&&null!==(r=e.message)&&void 0!==r&&r.content&&(this._emit("content",_.delta.content,e.message.content),this._emit("content.delta",{delta:_.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=_.delta.refusal&&"assistant"===(null===(a=e.message)||void 0===a?void 0:a.role)&&null!==(i=e.message)&&void 0!==i&&i.refusal&&this._emit("refusal.delta",{delta:_.delta.refusal,snapshot:e.message.refusal}),null!=(null===(s=_.logprobs)||void 0===s?void 0:s.content)&&"assistant"===(null===(o=e.message)||void 0===o?void 0:o.role))this._emit("logprobs.content.delta",{content:null===(c=_.logprobs)||void 0===c?void 0:c.content,snapshot:null!==(h=null===(d=e.logprobs)||void 0===d?void 0:d.content)&&void 0!==h?h:[]});if(null!=(null===(l=_.logprobs)||void 0===l?void 0:l.refusal)&&"assistant"===(null===(u=e.message)||void 0===u?void 0:u.role))this._emit("logprobs.refusal.delta",{refusal:null===(f=_.logprobs)||void 0===f?void 0:f.refusal,snapshot:null!==(p=null===(m=e.logprobs)||void 0===m?void 0:m.refusal)&&void 0!==p?p:[]});const S=af(this,Zm,"m",ag).call(this,e);e.finish_reason&&(af(this,Zm,"m",og).call(this,e),null!=S.current_tool_call_index&&af(this,Zm,"m",sg).call(this,e,S.current_tool_call_index));for(const t of null!==(g=_.delta.tool_calls)&&void 0!==g?g:[]){var g;S.current_tool_call_index!==t.index&&(af(this,Zm,"m",og).call(this,e),null!=S.current_tool_call_index&&af(this,Zm,"m",sg).call(this,e,S.current_tool_call_index)),S.current_tool_call_index=t.index}for(const t of null!==(y=_.delta.tool_calls)&&void 0!==y?y:[]){var y,v;const n=null===(v=e.message.tool_calls)||void 0===v?void 0:v[t.index];var b,w,k;if(null!==n&&void 0!==n&&n.type)if("function"===(null===n||void 0===n?void 0:n.type))this._emit("tool_calls.function.arguments.delta",{name:null===(b=n.function)||void 0===b?void 0:b.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:null!==(w=null===(k=t.function)||void 0===k?void 0:k.arguments)&&void 0!==w?w:""});else null===n||void 0===n||n.type}}},sg=function(e,t){var n;if(af(this,Zm,"m",ag).call(this,e).done_tool_calls.has(t))return;const r=null===(n=e.message.tool_calls)||void 0===n?void 0:n[t];if(!r)throw new Error("no tool call snapshot");if(!r.type)throw new Error("tool call snapshot missing `type`");if("function"===r.type){var a;const e=null===(a=af(this,eg,"f"))||void 0===a||null===(a=a.tools)||void 0===a?void 0:a.find((e=>"function"===e.type&&e.function.name===r.function.name));this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:t,arguments:r.function.arguments,parsed_arguments:km(e)?e.$parseRaw(r.function.arguments):null!==e&&void 0!==e&&e.function.strict?JSON.parse(r.function.arguments):null})}else r.type},og=function(e){var t,n;const r=af(this,Zm,"m",ag).call(this,e);if(e.message.content&&!r.content_done){r.content_done=!0;const t=af(this,Zm,"m",ug).call(this);this._emit("content.done",{content:e.message.content,parsed:t?t.$parseRaw(e.message.content):null})}e.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),null!==(t=e.logprobs)&&void 0!==t&&t.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),null!==(n=e.logprobs)&&void 0!==n&&n.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},lg=function(){if(this.ended)throw new uf("stream has ended, this shouldn't happen");const e=af(this,ng,"f");if(!e)throw new uf("request ended without sending any chunks");return rf(this,ng,void 0,"f"),rf(this,tg,[],"f"),function(e,t){const{id:n,choices:r,created:a,model:s,system_fingerprint:o}=e,l=i(e,Gm),u=c(c({},l),{},{id:n,choices:r.map((t=>{var n;let{message:r,finish_reason:a,index:s,logprobs:o}=t,l=i(t,Xm);if(!a)throw new uf("missing finish_reason for choice ".concat(s));const{content:u=null,function_call:h,tool_calls:d}=r,f=i(r,$m),p=r.role;if(!p)throw new uf("missing role for choice ".concat(s));if(h){var m;const{arguments:e,name:t}=h;if(null==e)throw new uf("missing function_call.arguments for choice ".concat(s));if(!t)throw new uf("missing function_call.name for choice ".concat(s));return c(c({},l),{},{message:{content:u,function_call:{arguments:e,name:t},role:p,refusal:null!==(m=r.refusal)&&void 0!==m?m:null},finish_reason:a,index:s,logprobs:o})}var g;return c(c({},l),{},d?{index:s,finish_reason:a,logprobs:o,message:c(c({},f),{},{role:p,content:u,refusal:null!==(g=r.refusal)&&void 0!==g?g:null,tool_calls:d.map(((t,n)=>{const{function:r,type:a,id:o}=t,l=i(t,Ym),u=r||{},{arguments:h,name:d}=u,f=i(u,Jm);if(null==o)throw new uf("missing choices[".concat(s,"].tool_calls[").concat(n,"].id\n").concat(mg(e)));if(null==a)throw new uf("missing choices[".concat(s,"].tool_calls[").concat(n,"].type\n").concat(mg(e)));if(null==d)throw new uf("missing choices[".concat(s,"].tool_calls[").concat(n,"].function.name\n").concat(mg(e)));if(null==h)throw new uf("missing choices[".concat(s,"].tool_calls[").concat(n,"].function.arguments\n").concat(mg(e)));return c(c({},l),{},{id:o,type:a,function:c(c({},f),{},{name:d,arguments:h})})}))})}:{message:c(c({},f),{},{content:u,role:p,refusal:null!==(n=r.refusal)&&void 0!==n?n:null}),finish_reason:a,index:s,logprobs:o})})),created:a,model:s,object:"chat.completion"},o?{system_fingerprint:o}:{});return function(e,t){return t&&Cm(t)?_m(e,t):c(c({},e),{},{choices:e.choices.map((e=>c(c({},e),{},{message:c(c({},e.message),{},{parsed:null},e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0)})))})}(u,t)}(e,af(this,eg,"f"))},ug=function(){var e;const t=null===(e=af(this,eg,"f"))||void 0===e?void 0:e.response_format;return wm(t)?t:null},cg=function(e){var t,n,r,a;let s=af(this,ng,"f");const{choices:o}=e,l=i(e,qm);s?Object.assign(s,l):s=rf(this,ng,c(c({},l),{},{choices:[]}),"f");for(const g of e.choices){const{delta:e,finish_reason:o,index:l,logprobs:y=null}=g,v=i(g,Hm);{let g=s.choices[l];if(g||(g=s.choices[l]=c({finish_reason:o,index:l,message:{},logprobs:y},v)),y)if(g.logprobs){const{content:e,refusal:r}=y,a=i(y,Wm);var u,h;if(Object.assign(g.logprobs,a),e)null!==(u=(t=g.logprobs).content)&&void 0!==u||(t.content=[]),g.logprobs.content.push(...e);if(r)null!==(h=(n=g.logprobs).refusal)&&void 0!==h||(n.refusal=[]),g.logprobs.refusal.push(...r)}else g.logprobs=Object.assign({},y);if(o&&(g.finish_reason=o,af(this,eg,"f")&&Cm(af(this,eg,"f")))){if("length"===o)throw new _f;if("content_filter"===o)throw new Sf}if(Object.assign(g,v),!e)continue;const{content:b,refusal:w,function_call:k,role:_,tool_calls:S}=e,E=i(e,Km);var d;if(Object.assign(g.message,E),w&&(g.message.refusal=(g.message.refusal||"")+w),_&&(g.message.role=_),k)if(g.message.function_call){if(k.name&&(g.message.function_call.name=k.name),k.arguments)null!==(d=(r=g.message.function_call).arguments)&&void 0!==d||(r.arguments=""),g.message.function_call.arguments+=k.arguments}else g.message.function_call=k;if(b&&(g.message.content=(g.message.content||"")+b,!g.message.refusal&&af(this,Zm,"m",ug).call(this)&&(g.message.parsed=Bm(g.message.content))),S){g.message.tool_calls||(g.message.tool_calls=[]);for(const e of S){var f,p,m;const{index:t,id:n,type:r,function:s}=e,o=i(e,Qm),l=null!==(f=(a=g.message.tool_calls)[t])&&void 0!==f?f:a[t]={};Object.assign(l,o),n&&(l.id=n),r&&(l.type=r),s&&(null!==(p=l.function)&&void 0!==p||(l.function={name:null!==(m=s.name)&&void 0!==m?m:"",arguments:""})),null!==s&&void 0!==s&&s.name&&(l.function.name=s.name),null!==s&&void 0!==s&&s.arguments&&(l.function.arguments+=s.arguments,Em(af(this,eg,"f"),l)&&(l.function.parsed_arguments=Bm(l.function.arguments)))}}}}return s},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new xp(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function mg(e){return JSON.stringify(e)}class gg extends pg{static fromReadableStream(e){const t=new gg(null);return t._run((()=>t._fromReadableStream(e))),t}static runTools(e,t,n){const r=new gg(t),a=c(c({},n),{},{headers:c(c({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"runTools"})});return r._run((()=>r._runTools(e,t,a))),r}}class yg extends Xp{constructor(){super(...arguments),this.messages=new nm(this._client)}create(e,t){var n;return this._client.post("/chat/completions",c(c({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}retrieve(e,t){return this._client.get(em(hg||(hg=$p(["/chat/completions/",""])),e),t)}update(e,t,n){return this._client.post(em(dg||(dg=$p(["/chat/completions/",""])),e),c({body:t},n))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/chat/completions",Fp,c({query:e},t))}delete(e,t){return this._client.delete(em(fg||(fg=$p(["/chat/completions/",""])),e),t)}parse(e,t){return function(e){for(const t of null!==e&&void 0!==e?e:[]){if("function"!==t.type)throw new uf("Currently only `function` tool types support auto-parsing; Received `".concat(t.type,"`"));if(!0!==t.function.strict)throw new uf("The `".concat(t.function.name,"` tool is not marked with `strict: true`. Only strict function tools can be auto-parsed"))}}(e.tools),this._client.chat.completions.create(e,c(c({},t),{},{headers:c(c({},null===t||void 0===t?void 0:t.headers),{},{"X-Stainless-Helper-Method":"chat.completions.parse"})}))._thenUnwrap((t=>_m(t,e)))}runTools(e,t){return e.stream?gg.runTools(this._client,e,t):Fm.runTools(this._client,e,t)}stream(e,t){return pg.createChatCompletion(this._client,e,t)}}yg.Messages=nm;class vg extends Xp{constructor(){super(...arguments),this.completions=new yg(this._client)}}vg.Completions=yg;const bg=Symbol("brand.privateNullableHeaders");function*wg(e){if(!e)return;if(bg in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():xf(e)?t=e:(n=!0,t=Object.entries(null!==e&&void 0!==e?e:{}));for(let r of t){const e=r[0];if("string"!==typeof e)throw new TypeError("expected header name to be a string");const t=xf(r[1])?r[1]:[r[1]];let a=!1;for(const r of t)void 0!==r&&(n&&!a&&(a=!0,yield[e,null]),yield[e,r])}}const kg=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[a,i]of wg(r)){const r=a.toLowerCase();e.has(r)||(t.delete(a),e.add(r)),null===i?(t.delete(a),n.add(r)):(t.append(a,i),n.delete(r))}}return{[bg]:!0,values:t,nulls:n}};class _g extends Xp{create(e,t){return this._client.post("/audio/speech",c(c({body:e},t),{},{headers:kg([{Accept:"application/octet-stream"},null===t||void 0===t?void 0:t.headers]),__binaryResponse:!0}))}}class Sg extends Xp{create(e,t){var n;return this._client.post("/audio/transcriptions",Bp(c(c({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n,__metadata:{model:e.model}}),this._client))}}class Eg extends Xp{create(e,t){return this._client.post("/audio/translations",Bp(c(c({body:e},t),{},{__metadata:{model:e.model}}),this._client))}}class Cg extends Xp{constructor(){super(...arguments),this.transcriptions=new Sg(this._client),this.translations=new Eg(this._client),this.speech=new _g(this._client)}}var Tg,xg,Ag,Ig,Ng;Cg.Transcriptions=Sg,Cg.Translations=Eg,Cg.Speech=_g;class Rg extends Xp{create(e,t){return this._client.post("/batches",c({body:e},t))}retrieve(e,t){return this._client.get(em(Tg||(Tg=$p(["/batches/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/batches",Fp,c({query:e},t))}cancel(e,t){return this._client.post(em(xg||(xg=$p(["/batches/","/cancel"])),e),t)}}class Pg extends Xp{create(e,t){return this._client.post("/assistants",c(c({body:e},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}retrieve(e,t){return this._client.get(em(Ag||(Ag=$p(["/assistants/",""])),e),c(c({},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}update(e,t,n){return this._client.post(em(Ig||(Ig=$p(["/assistants/",""])),e),c(c({body:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/assistants",Fp,c(c({query:e},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}delete(e,t){return this._client.delete(em(Ng||(Ng=$p(["/assistants/",""])),e),c(c({},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}}class Og extends Xp{create(e,t){return this._client.post("/realtime/sessions",c(c({body:e},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}}class Dg extends Xp{create(e,t){return this._client.post("/realtime/transcription_sessions",c(c({body:e},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}}class Lg extends Xp{constructor(){super(...arguments),this.sessions=new Og(this._client),this.transcriptionSessions=new Dg(this._client)}}Lg.Sessions=Og,Lg.TranscriptionSessions=Dg;const Mg=["thread_id"];var Fg,jg,zg,Ug,Vg,Bg,qg;class Hg extends Xp{create(e,t,n){return this._client.post(em(Fg||(Fg=$p(["/threads/","/messages"])),e),c(c({body:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(em(jg||(jg=$p(["/threads/","/messages/",""])),r,e),c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}update(e,t,n){const{thread_id:r}=t,a=i(t,Mg);return this._client.post(em(zg||(zg=$p(["/threads/","/messages/",""])),r,e),c(c({body:a},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(Ug||(Ug=$p(["/threads/","/messages"])),e),Fp,c(c({query:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}delete(e,t,n){const{thread_id:r}=t;return this._client.delete(em(Vg||(Vg=$p(["/threads/","/messages/",""])),r,e),c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}}const Wg=["thread_id","run_id"],Kg=["thread_id"];class Qg extends Xp{retrieve(e,t,n){const{thread_id:r,run_id:a}=t,s=i(t,Wg);return this._client.get(em(Bg||(Bg=$p(["/threads/","/runs/","/steps/",""])),r,a,e),c(c({query:s},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(e,t,n){const{thread_id:r}=t,a=i(t,Kg);return this._client.getAPIList(em(qg||(qg=$p(["/threads/","/runs/","/steps"])),r,e),Fp,c(c({query:a},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}}const Gg=e=>{var t,n,r,a;return"undefined"!==typeof globalThis.process?null!==(t=null===(n=globalThis.process.env)||void 0===n||null===(n=n[e])||void 0===n?void 0:n.trim())&&void 0!==t?t:void 0:"undefined"!==typeof globalThis.Deno?null===(r=globalThis.Deno.env)||void 0===r||null===(a=r.get)||void 0===a||null===(a=a.call(r,e))||void 0===a?void 0:a.trim():void 0};var Xg,$g,Yg,Jg,Zg,ey,ty,ny,ry,ay,iy,sy,oy,ly,uy,cy,hy,dy,fy,py,my,gy,yy,vy,by,wy,ky,_y,Sy;class Ey extends bm{constructor(){super(...arguments),Xg.add(this),Yg.set(this,[]),Jg.set(this,{}),Zg.set(this,{}),ey.set(this,void 0),ty.set(this,void 0),ny.set(this,void 0),ry.set(this,void 0),ay.set(this,void 0),iy.set(this,void 0),sy.set(this,void 0),oy.set(this,void 0),ly.set(this,void 0)}[(Yg=new WeakMap,Jg=new WeakMap,Zg=new WeakMap,ey=new WeakMap,ty=new WeakMap,ny=new WeakMap,ry=new WeakMap,ay=new WeakMap,iy=new WeakMap,sy=new WeakMap,oy=new WeakMap,ly=new WeakMap,Xg=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new $g;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){var n;const r=null===t||void 0===t?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const a=xp.fromReadableStream(e,this.controller);var i,s=!1,o=!1;try{for(var l,u=tp(a);s=!(l=await u.next()).done;s=!1){const e=l.value;af(this,Xg,"m",uy).call(this,e)}}catch(c){o=!0,i=c}finally{try{s&&null!=u.return&&await u.return()}finally{if(o)throw i}}if(null!==(n=a.controller.signal)&&void 0!==n&&n.aborted)throw new hf;return this._addRun(af(this,Xg,"m",cy).call(this))}toReadableStream(){return new xp(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r){const a=new $g;return a._run((()=>a._runToolAssistantStream(e,t,n,c(c({},r),{},{headers:c(c({},null===r||void 0===r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),a}async _createToolAssistantStream(e,t,n,r){var a;const i=null===r||void 0===r?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const s=c(c({},n),{},{stream:!0}),o=await e.submitToolOutputs(t,s,c(c({},r),{},{signal:this.controller.signal}));this._connected();var l,u=!1,h=!1;try{for(var d,f=tp(o);u=!(d=await f.next()).done;u=!1){const e=d.value;af(this,Xg,"m",uy).call(this,e)}}catch(p){h=!0,l=p}finally{try{u&&null!=f.return&&await f.return()}finally{if(h)throw l}}if(null!==(a=o.controller.signal)&&void 0!==a&&a.aborted)throw new hf;return this._addRun(af(this,Xg,"m",cy).call(this))}static createThreadAssistantStream(e,t,n){const r=new $g;return r._run((()=>r._threadAssistantStream(e,t,c(c({},n),{},{headers:c(c({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),r}static createAssistantStream(e,t,n,r){const a=new $g;return a._run((()=>a._runAssistantStream(e,t,n,c(c({},r),{},{headers:c(c({},null===r||void 0===r?void 0:r.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),a}currentEvent(){return af(this,sy,"f")}currentRun(){return af(this,oy,"f")}currentMessageSnapshot(){return af(this,ey,"f")}currentRunStepSnapshot(){return af(this,ly,"f")}async finalRunSteps(){return await this.done(),Object.values(af(this,Jg,"f"))}async finalMessages(){return await this.done(),Object.values(af(this,Zg,"f"))}async finalRun(){if(await this.done(),!af(this,ty,"f"))throw Error("Final run was not received.");return af(this,ty,"f")}async _createThreadAssistantStream(e,t,n){var r;const a=null===n||void 0===n?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const i=c(c({},t),{},{stream:!0}),s=await e.createAndRun(i,c(c({},n),{},{signal:this.controller.signal}));this._connected();var o,l=!1,u=!1;try{for(var h,d=tp(s);l=!(h=await d.next()).done;l=!1){const e=h.value;af(this,Xg,"m",uy).call(this,e)}}catch(f){u=!0,o=f}finally{try{l&&null!=d.return&&await d.return()}finally{if(u)throw o}}if(null!==(r=s.controller.signal)&&void 0!==r&&r.aborted)throw new hf;return this._addRun(af(this,Xg,"m",cy).call(this))}async _createAssistantStream(e,t,n,r){var a;const i=null===r||void 0===r?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const s=c(c({},n),{},{stream:!0}),o=await e.create(t,s,c(c({},r),{},{signal:this.controller.signal}));this._connected();var l,u=!1,h=!1;try{for(var d,f=tp(o);u=!(d=await f.next()).done;u=!1){const e=d.value;af(this,Xg,"m",uy).call(this,e)}}catch(p){h=!0,l=p}finally{try{u&&null!=f.return&&await f.return()}finally{if(h)throw l}}if(null!==(a=o.controller.signal)&&void 0!==a&&a.aborted)throw new hf;return this._addRun(af(this,Xg,"m",cy).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else{if(!If(t)||!If(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...r);continue}for(const e of r){if(!If(e))throw new Error("Expected array delta entry to be an object but got: ".concat(e));const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!==typeof n)throw new Error("Expected array delta entry `index` property to be a number but got ".concat(n));const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error("Unhandled record type: ".concat(n,", deltaValue: ").concat(r,", accValue: ").concat(t))}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r){return await this._createToolAssistantStream(t,e,n,r)}}$g=Ey,uy=function(e){if(!this.ended)switch(rf(this,sy,e,"f"),af(this,Xg,"m",fy).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":af(this,Xg,"m",yy).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":af(this,Xg,"m",dy).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":af(this,Xg,"m",hy).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},cy=function(){if(this.ended)throw new uf("stream has ended, this shouldn't happen");if(!af(this,ty,"f"))throw Error("Final run has not been received");return af(this,ty,"f")},hy=function(e){const[t,n]=af(this,Xg,"m",my).call(this,e,af(this,ey,"f"));rf(this,ey,t,"f"),af(this,Zg,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==(null===e||void 0===e?void 0:e.type)&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=af(this,ny,"f")){if(af(this,ry,"f"))switch(af(this,ry,"f").type){case"text":this._emit("textDone",af(this,ry,"f").text,af(this,ey,"f"));break;case"image_file":this._emit("imageFileDone",af(this,ry,"f").image_file,af(this,ey,"f"))}rf(this,ny,n.index,"f")}rf(this,ry,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==af(this,ny,"f")){const t=e.data.content[af(this,ny,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,af(this,ey,"f"));break;case"text":this._emit("textDone",t.text,af(this,ey,"f"))}}af(this,ey,"f")&&this._emit("messageDone",e.data),rf(this,ey,void 0,"f")}},dy=function(e){const t=af(this,Xg,"m",py).call(this,e);switch(rf(this,ly,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==af(this,ay,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(af(this,iy,"f")&&this._emit("toolCallDone",af(this,iy,"f")),rf(this,ay,e.index,"f"),rf(this,iy,t.step_details.tool_calls[e.index],"f"),af(this,iy,"f")&&this._emit("toolCallCreated",af(this,iy,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":rf(this,ly,void 0,"f");"tool_calls"==e.data.step_details.type&&af(this,iy,"f")&&(this._emit("toolCallDone",af(this,iy,"f")),rf(this,iy,void 0,"f")),this._emit("runStepDone",e.data,t)}},fy=function(e){af(this,Yg,"f").push(e),this._emit("event",e)},py=function(e){switch(e.event){case"thread.run.step.created":return af(this,Jg,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=af(this,Jg,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=$g.accumulateDelta(t,n.delta);af(this,Jg,"f")[e.data.id]=r}return af(this,Jg,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":af(this,Jg,"f")[e.data.id]=e.data}if(af(this,Jg,"f")[e.data.id])return af(this,Jg,"f")[e.data.id];throw new Error("No snapshot available")},my=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=af(this,Xg,"m",gy).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},gy=function(e,t){return $g.accumulateDelta(t,e)},yy=function(e){switch(rf(this,oy,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":rf(this,ty,e.data,"f"),af(this,iy,"f")&&(this._emit("toolCallDone",af(this,iy,"f")),rf(this,iy,void 0,"f"))}};const Cy=["include"],Ty=["thread_id"],xy=["thread_id"];class Ay extends Xp{constructor(){super(...arguments),this.steps=new Qg(this._client)}create(e,t,n){var r;const{include:a}=t,s=i(t,Cy);return this._client.post(em(vy||(vy=$p(["/threads/","/runs"])),e),c(c({query:{include:a},body:s},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers]),stream:null!==(r=t.stream)&&void 0!==r&&r}))}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(em(by||(by=$p(["/threads/","/runs/",""])),r,e),c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}update(e,t,n){const{thread_id:r}=t,a=i(t,Ty);return this._client.post(em(wy||(wy=$p(["/threads/","/runs/",""])),r,e),c(c({body:a},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(ky||(ky=$p(["/threads/","/runs"])),e),Fp,c(c({query:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}cancel(e,t,n){const{thread_id:r}=t;return this._client.post(em(_y||(_y=$p(["/threads/","/runs/","/cancel"])),r,e),c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(r.id,{thread_id:e},n)}createAndStream(e,t,n){return Ey.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){var r,a;const i=kg([null===n||void 0===n?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":null!==(r=null===n||void 0===n||null===(a=n.pollIntervalMs)||void 0===a?void 0:a.toString())&&void 0!==r?r:void 0}]);for(;;){const{data:r,response:a}=await this.retrieve(e,t,c(c({},n),{},{headers:c(c({},null===n||void 0===n?void 0:n.headers),i)})).withResponse();switch(r.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Nf(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return r}}}stream(e,t,n){return Ey.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n){var r;const{thread_id:a}=t,s=i(t,xy);return this._client.post(em(Sy||(Sy=$p(["/threads/","/runs/","/submit_tool_outputs"])),a,e),c(c({body:s},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers]),stream:null!==(r=t.stream)&&void 0!==r&&r}))}async submitToolOutputsAndPoll(e,t,n){const r=await this.submitToolOutputs(e,t,n);return await this.poll(r.id,t,n)}submitToolOutputsStream(e,t,n){return Ey.createToolAssistantStream(e,this._client.beta.threads.runs,t,n)}}var Iy,Ny,Ry,Py,Oy,Dy,Ly,My,Fy,jy;Ay.Steps=Qg;class zy extends Xp{constructor(){super(...arguments),this.runs=new Ay(this._client),this.messages=new Hg(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.post("/threads",c(c({body:e},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}retrieve(e,t){return this._client.get(em(Iy||(Iy=$p(["/threads/",""])),e),c(c({},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}update(e,t,n){return this._client.post(em(Ny||(Ny=$p(["/threads/",""])),e),c(c({body:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}delete(e,t){return this._client.delete(em(Ry||(Ry=$p(["/threads/",""])),e),c(c({},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}createAndRun(e,t){var n;return this._client.post("/threads/runs",c(c({body:e},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers]),stream:null!==(n=e.stream)&&void 0!==n&&n}))}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.id,{thread_id:n.thread_id},t)}createAndRunStream(e,t){return Ey.createThreadAssistantStream(e,this._client.beta.threads,t)}}zy.Runs=Ay,zy.Messages=Hg;class Uy extends Xp{constructor(){super(...arguments),this.realtime=new Lg(this._client),this.assistants=new Pg(this._client),this.threads=new zy(this._client)}}Uy.Realtime=Lg,Uy.Assistants=Pg,Uy.Threads=zy;class Vy extends Xp{create(e,t){var n;return this._client.post("/completions",c(c({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}}class By extends Xp{retrieve(e,t,n){const{container_id:r}=t;return this._client.get(em(Py||(Py=$p(["/containers/","/files/","/content"])),r,e),c(c({},n),{},{headers:kg([{Accept:"application/binary"},null===n||void 0===n?void 0:n.headers]),__binaryResponse:!0}))}}class qy extends Xp{constructor(){super(...arguments),this.content=new By(this._client)}create(e,t,n){return this._client.post(em(Oy||(Oy=$p(["/containers/","/files"])),e),Bp(c({body:t},n),this._client))}retrieve(e,t,n){const{container_id:r}=t;return this._client.get(em(Dy||(Dy=$p(["/containers/","/files/",""])),r,e),n)}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(Ly||(Ly=$p(["/containers/","/files"])),e),Fp,c({query:t},n))}delete(e,t,n){const{container_id:r}=t;return this._client.delete(em(My||(My=$p(["/containers/","/files/",""])),r,e),c(c({},n),{},{headers:kg([{Accept:"*/*"},null===n||void 0===n?void 0:n.headers])}))}}qy.Content=By;class Hy extends Xp{constructor(){super(...arguments),this.files=new qy(this._client)}create(e,t){return this._client.post("/containers",c({body:e},t))}retrieve(e,t){return this._client.get(em(Fy||(Fy=$p(["/containers/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/containers",Fp,c({query:e},t))}delete(e,t){return this._client.delete(em(jy||(jy=$p(["/containers/",""])),e),c(c({},t),{},{headers:kg([{Accept:"*/*"},null===t||void 0===t?void 0:t.headers])}))}}Hy.Files=qy;class Wy extends Xp{create(e,t){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&_p(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",c({body:c(c({},e),{},{encoding_format:r})},t));return n?a:(_p(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap((e=>(e&&e.data&&e.data.forEach((e=>{const t=e.embedding;e.embedding=(e=>{if("undefined"!==typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(new Float32Array(r.buffer))}})(t)})),e))))}}const Ky=["eval_id"];var Qy,Gy,Xy,$y,Yy,Jy,Zy,ev,tv,nv,rv,av,iv,sv,ov,lv,uv,cv,hv,dv,fv,pv,mv,gv,yv,vv,bv,wv,kv,_v,Sv,Ev,Cv,Tv,xv,Av,Iv,Nv,Rv;class Pv extends Xp{retrieve(e,t,n){const{eval_id:r,run_id:a}=t;return this._client.get(em(Qy||(Qy=$p(["/evals/","/runs/","/output_items/",""])),r,a,e),n)}list(e,t,n){const{eval_id:r}=t,a=i(t,Ky);return this._client.getAPIList(em(Gy||(Gy=$p(["/evals/","/runs/","/output_items"])),r,e),Fp,c({query:a},n))}}class Ov extends Xp{constructor(){super(...arguments),this.outputItems=new Pv(this._client)}create(e,t,n){return this._client.post(em(Xy||(Xy=$p(["/evals/","/runs"])),e),c({body:t},n))}retrieve(e,t,n){const{eval_id:r}=t;return this._client.get(em($y||($y=$p(["/evals/","/runs/",""])),r,e),n)}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(Yy||(Yy=$p(["/evals/","/runs"])),e),Fp,c({query:t},n))}delete(e,t,n){const{eval_id:r}=t;return this._client.delete(em(Jy||(Jy=$p(["/evals/","/runs/",""])),r,e),n)}cancel(e,t,n){const{eval_id:r}=t;return this._client.post(em(Zy||(Zy=$p(["/evals/","/runs/",""])),r,e),n)}}Ov.OutputItems=Pv;class Dv extends Xp{constructor(){super(...arguments),this.runs=new Ov(this._client)}create(e,t){return this._client.post("/evals",c({body:e},t))}retrieve(e,t){return this._client.get(em(ev||(ev=$p(["/evals/",""])),e),t)}update(e,t,n){return this._client.post(em(tv||(tv=$p(["/evals/",""])),e),c({body:t},n))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/evals",Fp,c({query:e},t))}delete(e,t){return this._client.delete(em(nv||(nv=$p(["/evals/",""])),e),t)}}Dv.Runs=Ov;class Lv extends Xp{create(e,t){return this._client.post("/files",Bp(c({body:e},t),this._client))}retrieve(e,t){return this._client.get(em(rv||(rv=$p(["/files/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/files",Fp,c({query:e},t))}delete(e,t){return this._client.delete(em(av||(av=$p(["/files/",""])),e),t)}content(e,t){return this._client.get(em(iv||(iv=$p(["/files/","/content"])),e),c(c({},t),{},{headers:kg([{Accept:"application/binary"},null===t||void 0===t?void 0:t.headers]),__binaryResponse:!0}))}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set(["processed","error","deleted"]),a=Date.now();let i=await this.retrieve(e);for(;!i.status||!r.has(i.status);)if(await Nf(t),i=await this.retrieve(e),Date.now()-a>n)throw new ff({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(n," milliseconds.")});return i}}class Mv extends Xp{}class Fv extends Xp{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",c({body:e},t))}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",c({body:e},t))}}class jv extends Xp{constructor(){super(...arguments),this.graders=new Fv(this._client)}}jv.Graders=Fv;class zv extends Xp{create(e,t,n){return this._client.getAPIList(em(sv||(sv=$p(["/fine_tuning/checkpoints/","/permissions"])),e),Mp,c({body:t,method:"post"},n))}retrieve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.get(em(ov||(ov=$p(["/fine_tuning/checkpoints/","/permissions"])),e),c({query:t},n))}delete(e,t,n){const{fine_tuned_model_checkpoint:r}=t;return this._client.delete(em(lv||(lv=$p(["/fine_tuning/checkpoints/","/permissions/",""])),r,e),n)}}class Uv extends Xp{constructor(){super(...arguments),this.permissions=new zv(this._client)}}Uv.Permissions=zv;class Vv extends Xp{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(uv||(uv=$p(["/fine_tuning/jobs/","/checkpoints"])),e),Fp,c({query:t},n))}}class Bv extends Xp{constructor(){super(...arguments),this.checkpoints=new Vv(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",c({body:e},t))}retrieve(e,t){return this._client.get(em(cv||(cv=$p(["/fine_tuning/jobs/",""])),e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/fine_tuning/jobs",Fp,c({query:e},t))}cancel(e,t){return this._client.post(em(hv||(hv=$p(["/fine_tuning/jobs/","/cancel"])),e),t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(dv||(dv=$p(["/fine_tuning/jobs/","/events"])),e),Fp,c({query:t},n))}pause(e,t){return this._client.post(em(fv||(fv=$p(["/fine_tuning/jobs/","/pause"])),e),t)}resume(e,t){return this._client.post(em(pv||(pv=$p(["/fine_tuning/jobs/","/resume"])),e),t)}}Bv.Checkpoints=Vv;class qv extends Xp{constructor(){super(...arguments),this.methods=new Mv(this._client),this.jobs=new Bv(this._client),this.checkpoints=new Uv(this._client),this.alpha=new jv(this._client)}}qv.Methods=Mv,qv.Jobs=Bv,qv.Checkpoints=Uv,qv.Alpha=jv;class Hv extends Xp{}class Wv extends Xp{constructor(){super(...arguments),this.graderModels=new Hv(this._client)}}Wv.GraderModels=Hv;class Kv extends Xp{createVariation(e,t){return this._client.post("/images/variations",Bp(c({body:e},t),this._client))}edit(e,t){return this._client.post("/images/edits",Bp(c({body:e},t),this._client))}generate(e,t){return this._client.post("/images/generations",c({body:e},t))}}class Qv extends Xp{retrieve(e,t){return this._client.get(em(mv||(mv=$p(["/models/",""])),e),t)}list(e){return this._client.getAPIList("/models",Mp,e)}delete(e,t){return this._client.delete(em(gv||(gv=$p(["/models/",""])),e),t)}}class Gv extends Xp{create(e,t){return this._client.post("/moderations",c({body:e},t))}}function Xv(e,t){return t&&function(e){var t;if(wm(null===(t=e.text)||void 0===t?void 0:t.format))return!0;return!1}(t)?$v(e,t):c(c({},e),{},{output_parsed:null,output:e.output.map((e=>"function_call"===e.type?c(c({},e),{},{parsed_arguments:null}):"message"===e.type?c(c({},e),{},{content:e.content.map((e=>c(c({},e),{},{parsed:null})))}):e))})}function $v(e,t){const n=e.output.map((e=>{if("function_call"===e.type)return c(c({},e),{},{parsed_arguments:eb(t,e)});if("message"===e.type){const n=e.content.map((e=>"output_text"===e.type?c(c({},e),{},{parsed:Yv(t,e.text)}):e));return c(c({},e),{},{content:n})}return e})),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||tb(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const e of r.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),r}function Yv(e,t){var n,r;if("json_schema"!==(null===(n=e.text)||void 0===n||null===(n=n.format)||void 0===n?void 0:n.type))return null;if("$parseRaw"in(null===(r=e.text)||void 0===r?void 0:r.format)){var a;return(null===(a=e.text)||void 0===a?void 0:a.format).$parseRaw(t)}return JSON.parse(t)}function Jv(e){return"auto-parseable-tool"===(null===e||void 0===e?void 0:e.$brand)}function Zv(e,t){return e.find((e=>"function"===e.type&&e.name===t))}function eb(e,t){var n;const r=Zv(null!==(n=e.tools)&&void 0!==n?n:[],t.name);return c(c(c({},t),t),{},{parsed_arguments:Jv(r)?r.$parseRaw(t.arguments):null!==r&&void 0!==r&&r.strict?JSON.parse(t.arguments):null})}function tb(e){const t=[];for(const n of e.output)if("message"===n.type)for(const e of n.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}class nb extends bm{constructor(e){super(),yv.add(this),vv.set(this,void 0),bv.set(this,void 0),wv.set(this,void 0),rf(this,vv,e,"f")}static createResponse(e,t,n){const r=new nb(t);return r._run((()=>r._createOrRetrieveResponse(e,t,c(c({},n),{},{headers:c(c({},null===n||void 0===n?void 0:n.headers),{},{"X-Stainless-Helper-Method":"stream"})})))),r}async _createOrRetrieveResponse(e,t,n){var r;const a=null===n||void 0===n?void 0:n.signal;let i;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort()))),af(this,yv,"m",kv).call(this);let s=null;var o;"response_id"in t?(i=await e.responses.retrieve(t.response_id,{stream:!0},c(c({},n),{},{signal:this.controller.signal,stream:!0})),s=null!==(o=t.starting_after)&&void 0!==o?o:null):i=await e.responses.create(c(c({},t),{},{stream:!0}),c(c({},n),{},{signal:this.controller.signal}));this._connected();var l,u=!1,h=!1;try{for(var d,f=tp(i);u=!(d=await f.next()).done;u=!1){const e=d.value;af(this,yv,"m",_v).call(this,e,s)}}catch(p){h=!0,l=p}finally{try{u&&null!=f.return&&await f.return()}finally{if(h)throw l}}if(null!==(r=i.controller.signal)&&void 0!==r&&r.aborted)throw new hf;return af(this,yv,"m",Sv).call(this)}[(vv=new WeakMap,bv=new WeakMap,wv=new WeakMap,yv=new WeakSet,kv=function(){this.ended||rf(this,bv,void 0,"f")},_v=function(e,t){if(this.ended)return;const n=(e,n)=>{(null==t||n.sequence_number>t)&&this._emit(e,n)},r=af(this,yv,"m",Ev).call(this,e);switch(n("event",e),e.type){case"response.output_text.delta":{const t=r.output[e.output_index];if(!t)throw new uf("missing output at index ".concat(e.output_index));if("message"===t.type){const r=t.content[e.content_index];if(!r)throw new uf("missing content at index ".concat(e.content_index));if("output_text"!==r.type)throw new uf("expected content to be 'output_text', got ".concat(r.type));n("response.output_text.delta",c(c({},e),{},{snapshot:r.text}))}break}case"response.function_call_arguments.delta":{const t=r.output[e.output_index];if(!t)throw new uf("missing output at index ".concat(e.output_index));"function_call"===t.type&&n("response.function_call_arguments.delta",c(c({},e),{},{snapshot:t.arguments}));break}default:n(e.type,e)}},Sv=function(){if(this.ended)throw new uf("stream has ended, this shouldn't happen");const e=af(this,bv,"f");if(!e)throw new uf("request ended without sending any events");rf(this,bv,void 0,"f");const t=function(e,t){return Xv(e,t)}(e,af(this,vv,"f"));return rf(this,wv,t,"f"),t},Ev=function(e){let t=af(this,bv,"f");if(!t){if("response.created"!==e.type)throw new uf("When snapshot hasn't been set yet, expected 'response.created' event, got ".concat(e.type));return t=rf(this,bv,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const n=t.output[e.output_index];if(!n)throw new uf("missing output at index ".concat(e.output_index));"message"===n.type&&n.content.push(e.part);break}case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new uf("missing output at index ".concat(e.output_index));if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new uf("missing content at index ".concat(e.content_index));if("output_text"!==t.type)throw new uf("expected content to be 'output_text', got ".concat(t.type));t.text+=e.delta}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new uf("missing output at index ".concat(e.output_index));"function_call"===n.type&&(n.arguments+=e.delta);break}case"response.completed":rf(this,bv,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=af(this,wv,"f");if(!e)throw new uf("stream ended without producing a ChatCompletion");return e}}class rb extends Xp{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(Cv||(Cv=$p(["/responses/","/input_items"])),e),Fp,c({query:t},n))}}class ab extends Xp{constructor(){super(...arguments),this.inputItems=new rb(this._client)}create(e,t){var n;return this._client.post("/responses",c(c({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))._thenUnwrap((e=>("object"in e&&"response"===e.object&&tb(e),e)))}retrieve(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this._client.get(em(Tv||(Tv=$p(["/responses/",""])),e),c(c({query:n},r),{},{stream:null!==(t=null===n||void 0===n?void 0:n.stream)&&void 0!==t&&t}))._thenUnwrap((e=>("object"in e&&"response"===e.object&&tb(e),e)))}delete(e,t){return this._client.delete(em(xv||(xv=$p(["/responses/",""])),e),c(c({},t),{},{headers:kg([{Accept:"*/*"},null===t||void 0===t?void 0:t.headers])}))}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap((t=>$v(t,e)))}stream(e,t){return nb.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(em(Av||(Av=$p(["/responses/","/cancel"])),e),t)}}ab.InputItems=rb;class ib extends Xp{create(e,t,n){return this._client.post(em(Iv||(Iv=$p(["/uploads/","/parts"])),e),Bp(c({body:t},n),this._client))}}class sb extends Xp{constructor(){super(...arguments),this.parts=new ib(this._client)}create(e,t){return this._client.post("/uploads",c({body:e},t))}cancel(e,t){return this._client.post(em(Nv||(Nv=$p(["/uploads/","/cancel"])),e),t)}complete(e,t,n){return this._client.post(em(Rv||(Rv=$p(["/uploads/","/complete"])),e),c({body:t},n))}}sb.Parts=ib;const ob=["vector_store_id"];var lb,ub,cb,hb;class db extends Xp{create(e,t,n){return this._client.post(em(lb||(lb=$p(["/vector_stores/","/file_batches"])),e),c(c({body:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(em(ub||(ub=$p(["/vector_stores/","/file_batches/",""])),r,e),c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}cancel(e,t,n){const{vector_store_id:r}=t;return this._client.post(em(cb||(cb=$p(["/vector_stores/","/file_batches/","/cancel"])),r,e),c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n){const{vector_store_id:r}=t,a=i(t,ob);return this._client.getAPIList(em(hb||(hb=$p(["/vector_stores/","/file_batches/","/files"])),r,e),Fp,c(c({query:a},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}async poll(e,t,n){var r,a;const i=kg([null===n||void 0===n?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":null!==(r=null===n||void 0===n||null===(a=n.pollIntervalMs)||void 0===a?void 0:a.toString())&&void 0!==r?r:void 0}]);for(;;){const{data:r,response:a}=await this.retrieve(t,{vector_store_id:e},c(c({},n),{},{headers:i})).withResponse();switch(r.status){case"in_progress":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Nf(e);break;case"failed":case"cancelled":case"completed":return r}}}async uploadAndPoll(e,t,n){var r;let{files:a,fileIds:i=[]}=t;if(null==a||0==a.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=null!==(r=null===n||void 0===n?void 0:n.maxConcurrency)&&void 0!==r?r:5,o=Math.min(s,a.length),l=this._client,u=a.values(),c=[...i];const h=Array(o).fill(u).map((async function(e){for(let t of e){const e=await l.files.create({file:t,purpose:"assistants"},n);c.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error("".concat(n.length," promise(s) failed - see the above errors"))}const r=[];for(const a of t)"fulfilled"===a.status&&r.push(a.value);return r})(h),await this.createAndPoll(e,{file_ids:c})}}const fb=["vector_store_id"];var pb,mb,gb,yb,vb,bb,wb,kb,_b,Sb,Eb,Cb,Tb;class xb extends Xp{create(e,t,n){return this._client.post(em(pb||(pb=$p(["/vector_stores/","/files"])),e),c(c({body:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(em(mb||(mb=$p(["/vector_stores/","/files/",""])),r,e),c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}update(e,t,n){const{vector_store_id:r}=t,a=i(t,fb);return this._client.post(em(gb||(gb=$p(["/vector_stores/","/files/",""])),r,e),c(c({body:a},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(em(yb||(yb=$p(["/vector_stores/","/files"])),e),Fp,c(c({query:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}delete(e,t,n){const{vector_store_id:r}=t;return this._client.delete(em(vb||(vb=$p(["/vector_stores/","/files/",""])),r,e),c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){var r,a;const i=kg([null===n||void 0===n?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":null!==(r=null===n||void 0===n||null===(a=n.pollIntervalMs)||void 0===a?void 0:a.toString())&&void 0!==r?r:void 0}]);for(;;){const r=await this.retrieve(t,{vector_store_id:e},c(c({},n),{},{headers:i})).withResponse(),a=r.data;switch(a.status){case"in_progress":let e=5e3;if(null!==n&&void 0!==n&&n.pollIntervalMs)e=n.pollIntervalMs;else{const t=r.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Nf(e);break;case"failed":case"completed":return a}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}content(e,t,n){const{vector_store_id:r}=t;return this._client.getAPIList(em(bb||(bb=$p(["/vector_stores/","/files/","/content"])),r,e),Mp,c(c({},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}}class Ab extends Xp{constructor(){super(...arguments),this.files=new xb(this._client),this.fileBatches=new db(this._client)}create(e,t){return this._client.post("/vector_stores",c(c({body:e},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}retrieve(e,t){return this._client.get(em(wb||(wb=$p(["/vector_stores/",""])),e),c(c({},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}update(e,t,n){return this._client.post(em(kb||(kb=$p(["/vector_stores/",""])),e),c(c({body:t},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/vector_stores",Fp,c(c({query:e},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}delete(e,t){return this._client.delete(em(_b||(_b=$p(["/vector_stores/",""])),e),c(c({},t),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===t||void 0===t?void 0:t.headers])}))}search(e,t,n){return this._client.getAPIList(em(Sb||(Sb=$p(["/vector_stores/","/search"])),e),Mp,c(c({body:t,method:"post"},n),{},{headers:kg([{"OpenAI-Beta":"assistants=v2"},null===n||void 0===n?void 0:n.headers])}))}}Ab.Files=xb,Ab.FileBatches=db;class Ib extends Xp{constructor(){super(...arguments),Eb.add(this)}async unwrap(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._client.webhookSecret,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300;return await this.verifySignature(e,t,n,r),JSON.parse(e)}async verifySignature(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._client.webhookSecret,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300;if("undefined"===typeof crypto||"function"!==typeof crypto.subtle.importKey||"function"!==typeof crypto.subtle.verify)throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");af(this,Eb,"m",Cb).call(this,n);const a=kg([t]).values,i=af(this,Eb,"m",Tb).call(this,a,"webhook-signature"),s=af(this,Eb,"m",Tb).call(this,a,"webhook-timestamp"),o=af(this,Eb,"m",Tb).call(this,a,"webhook-id"),l=parseInt(s,10);if(isNaN(l))throw new Ef("Invalid webhook timestamp format");const u=Math.floor(Date.now()/1e3);if(u-l>r)throw new Ef("Webhook timestamp is too old");if(l>u+r)throw new Ef("Webhook timestamp is too new");const c=i.split(" ").map((e=>e.startsWith("v1,")?e.substring(3):e)),h=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),d=o?"".concat(o,".").concat(s,".").concat(e):"".concat(s,".").concat(e),f=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const m of c)try{const e=Buffer.from(m,"base64");if(await crypto.subtle.verify("HMAC",f,e,(new TextEncoder).encode(d)))return}catch(p){continue}throw new Ef("The given webhook signature does not match the expected signature")}}Eb=new WeakSet,Cb=function(e){if("string"!==typeof e||0===e.length)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Tb=function(e,t){if(!e)throw new Error("Headers are required");const n=e.get(t);if(null===n||void 0===n)throw new Error("Missing required header: ".concat(t));return n};const Nb=["baseURL","apiKey","organization","project","webhookSecret"],Rb=["signal","method"];var Pb,Ob,Db,Lb;class Mb{constructor(){var e,t,n,r,a,s,o,l,u;let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{baseURL:d=Gg("OPENAI_BASE_URL"),apiKey:f=Gg("OPENAI_API_KEY"),organization:p=(null!==(e=Gg("OPENAI_ORG_ID"))&&void 0!==e?e:null),project:m=(null!==(t=Gg("OPENAI_PROJECT_ID"))&&void 0!==t?t:null),webhookSecret:g=(null!==(n=Gg("OPENAI_WEBHOOK_SECRET"))&&void 0!==n?n:null)}=h,y=i(h,Nb);if(Pb.add(this),Db.set(this,void 0),this.completions=new Vy(this),this.chat=new vg(this),this.embeddings=new Wy(this),this.files=new Lv(this),this.images=new Kv(this),this.audio=new Cg(this),this.moderations=new Gv(this),this.models=new Qv(this),this.fineTuning=new qv(this),this.graders=new Wv(this),this.vectorStores=new Ab(this),this.webhooks=new Ib(this),this.beta=new Uy(this),this.batches=new Rg(this),this.uploads=new sb(this),this.responses=new ab(this),this.evals=new Dv(this),this.containers=new Hy(this),void 0===f)throw new uf("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const v=c(c({apiKey:f,organization:p,project:m,webhookSecret:g},y),{},{baseURL:d||"https://api.openai.com/v1"});if(!v.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new uf("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");this.baseURL=v.baseURL,this.timeout=null!==(r=v.timeout)&&void 0!==r?r:Ob.DEFAULT_TIMEOUT,this.logger=null!==(a=v.logger)&&void 0!==a?a:console;const b="warn";this.logLevel=b,this.logLevel=null!==(s=null!==(o=yp(v.logLevel,"ClientOptions.logLevel",this))&&void 0!==o?o:yp(Gg("OPENAI_LOG"),"process.env['OPENAI_LOG']",this))&&void 0!==s?s:b,this.fetchOptions=v.fetchOptions,this.maxRetries=null!==(l=v.maxRetries)&&void 0!==l?l:2,this.fetch=null!==(u=v.fetch)&&void 0!==u?u:function(){if("undefined"!==typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),rf(this,Db,zf,"f"),this._options=v,this.apiKey=f,this.organization=p,this.project=m,this.webhookSecret=g}withOptions(e){return new this.constructor(c(c({},this._options),{},{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret},e))}defaultQuery(){return this._options.defaultQuery}validateHeaders(e){let{values:t,nulls:n}=e}async authHeaders(e){return kg([{Authorization:"Bearer ".concat(this.apiKey)}])}stringifyQuery(e){return ep(e,{arrayFormat:"brackets"})}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat(Rf)}defaultIdempotencyKey(){return"stainless-node-retry-".concat(sf())}makeStatusError(e,t,n,r){return cf.generate(e,t,n,r)}buildURL(e,t,n){const r=!af(this,Pb,"m",Lb).call(this)&&n||this.baseURL,a=(e=>Cf.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(i)||(t=c(c({},i),t)),"object"===typeof t&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((n=>c({method:e,path:t},n))))}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Op(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,a;const i=await e,s=null!==(r=i.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=s),await this.prepareOptions(i);const{req:o,url:l,timeout:u}=await this.buildRequest(i,{retryCount:s-t});await this.prepareRequest(o,{url:l,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=void 0===n?"":", retryOf: ".concat(n),d=Date.now();if(_p(this).debug("[".concat(c,"] sending request"),Sp({retryOfRequestLogID:n,method:i.method,url:l,options:i,headers:o.headers})),null!==(a=i.signal)&&void 0!==a&&a.aborted)throw new hf;const f=new AbortController,p=await this.fetchWithTimeout(l,o,u,f).catch(lf),m=Date.now();if(p instanceof Error){var g;const e="retrying, ".concat(t," attempts remaining");if(null!==(g=i.signal)&&void 0!==g&&g.aborted)throw new hf;const r=of(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(t)return _p(this).info("[".concat(c,"] connection ").concat(r?"timed out":"failed"," - ").concat(e)),_p(this).debug("[".concat(c,"] connection ").concat(r?"timed out":"failed"," (").concat(e,")"),Sp({retryOfRequestLogID:n,url:l,durationMs:m-d,message:p.message})),this.retryRequest(i,t,null!==n&&void 0!==n?n:c);if(_p(this).info("[".concat(c,"] connection ").concat(r?"timed out":"failed"," - error; no more retries left")),_p(this).debug("[".concat(c,"] connection ").concat(r?"timed out":"failed"," (error; no more retries left)"),Sp({retryOfRequestLogID:n,url:l,durationMs:m-d,message:p.message})),r)throw new ff;throw new df({cause:p})}const y=[...p.headers.entries()].filter((e=>{let[t]=e;return"x-request-id"===t})).map((e=>{let[t,n]=e;return", "+t+": "+JSON.stringify(n)})).join(""),v="[".concat(c).concat(h).concat(y,"] ").concat(o.method," ").concat(l," ").concat(p.ok?"succeeded":"failed"," with status ").concat(p.status," in ").concat(m-d,"ms");if(!p.ok){const e=await this.shouldRetry(p);if(t&&e){const e="retrying, ".concat(t," attempts remaining");return await async function(e){if(null===e||"object"!==typeof e)return;var t,n;if(e[Symbol.asyncIterator])return void await(null===(t=(n=e[Symbol.asyncIterator]()).return)||void 0===t?void 0:t.call(n));const r=e.getReader(),a=r.cancel();r.releaseLock(),await a}(p.body),_p(this).info("".concat(v," - ").concat(e)),_p(this).debug("[".concat(c,"] response error (").concat(e,")"),Sp({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:m-d})),this.retryRequest(i,t,null!==n&&void 0!==n?n:c,p.headers)}const r=e?"error; no more retries left":"error; not retryable";_p(this).info("".concat(v," - ").concat(r));const a=await p.text().catch((e=>lf(e).message)),s=(e=>{try{return JSON.parse(e)}catch(t){return}})(a),o=s?void 0:a;_p(this).debug("[".concat(c,"] response error (").concat(r,")"),Sp({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,message:o,durationMs:Date.now()-d}));throw this.makeStatusError(p.status,s,o,p.headers)}return _p(this).info(v),_p(this).debug("[".concat(c,"] response start"),Sp({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:m-d})),{response:p,options:i,controller:f,requestLogID:c,retryOfRequestLogID:n,startTime:d}}getAPIList(e,t,n){return this.requestAPIList(t,c({method:"get",path:e},n))}requestAPIList(e,t){const n=this.makeRequest(t,null,void 0);return new Lp(this,n,e)}async fetchWithTimeout(e,t,n,r){const a=t||{},{signal:s,method:o}=a,l=i(a,Rb);s&&s.addEventListener("abort",(()=>r.abort()));const u=setTimeout((()=>r.abort()),n),h=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||"object"===typeof l.body&&null!==l.body&&Symbol.asyncIterator in l.body,d=c(c({signal:r.signal},h?{duplex:"half"}:{}),{},{method:"GET"},l);o&&(d.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){let a;const i=null===r||void 0===r?void 0:r.get("retry-after-ms");if(i){const e=parseFloat(i);Number.isNaN(e)||(a=e)}const s=null===r||void 0===r?void 0:r.get("retry-after");if(s&&!a){const e=parseFloat(s);a=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(a&&0<=a&&a<6e4)){var o;const n=null!==(o=e.maxRetries)&&void 0!==o?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,n)}return await Nf(a),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e){var t,n,r;let{retryCount:a=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=c({},e),{method:s,path:o,query:l,defaultBaseURL:u}=i,h=this.buildURL(o,l,u);"timeout"in i&&((e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new uf("".concat(e," must be an integer"));if(t<0)throw new uf("".concat(e," must be a positive integer"))})("timeout",i.timeout),i.timeout=null!==(t=i.timeout)&&void 0!==t?t:this.timeout;const{bodyHeaders:d,body:f}=this.buildBody({options:i});return{req:c(c(c(c(c({method:s,headers:await this.buildHeaders({options:e,method:s,bodyHeaders:d,retryCount:a})},i.signal&&{signal:i.signal}),globalThis.ReadableStream&&f instanceof globalThis.ReadableStream&&{duplex:"half"}),f&&{body:f}),null!==(n=this.fetchOptions)&&void 0!==n?n:{}),null!==(r=i.fetchOptions)&&void 0!==r?r:{}),url:h,timeout:i.timeout}}async buildHeaders(e){let{options:t,method:n,bodyHeaders:r,retryCount:a}=e,i={};this.idempotencyHeader&&"get"!==n&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const s=kg([i,c(c(c({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),null!==Lf&&void 0!==Lf?Lf:Lf=Pf()),{},{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project}),await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(s),s.values}buildBody(e){let{options:{body:t,headers:n}}=e;if(!t)return{bodyHeaders:void 0,body:void 0};const r=kg([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||"string"===typeof t&&r.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:"object"===typeof t&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&"function"===typeof t.next)?{bodyHeaders:void 0,body:Ff(t)}:af(this,Db,"f").call(this,{body:t,headers:r})}}Ob=Mb,Db=new WeakMap,Pb=new WeakSet,Lb=function(){return"https://api.openai.com/v1"!==this.baseURL},Mb.OpenAI=Ob,Mb.DEFAULT_TIMEOUT=6e5,Mb.OpenAIError=uf,Mb.APIError=cf,Mb.APIConnectionError=df,Mb.APIConnectionTimeoutError=ff,Mb.APIUserAbortError=hf,Mb.NotFoundError=yf,Mb.ConflictError=vf,Mb.RateLimitError=wf,Mb.BadRequestError=pf,Mb.AuthenticationError=mf,Mb.InternalServerError=kf,Mb.PermissionDeniedError=gf,Mb.UnprocessableEntityError=bf,Mb.InvalidWebhookSignatureError=Ef,Mb.toFile=async function(e,t,n){var r;if(jp(),(e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&Qp(e))(e=await e))return e instanceof File?e:zp([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),zp(await Gp(r),t,n)}const a=await Gp(e);if(t||(t=Up(e)),null===(r=n)||void 0===r||!r.type){const e=a.find((e=>"object"===typeof e&&"type"in e&&e.type));"string"===typeof e&&(n=c(c({},n),{},{type:e}))}return zp(a,t,n)},Mb.Completions=Vy,Mb.Chat=vg,Mb.Embeddings=Wy,Mb.Files=Lv,Mb.Images=Kv,Mb.Audio=Cg,Mb.Moderations=Gv,Mb.Models=Qv,Mb.FineTuning=qv,Mb.Graders=Wv,Mb.VectorStores=Ab,Mb.Webhooks=Ib,Mb.Beta=Uy,Mb.Batches=Rg,Mb.Uploads=sb,Mb.Responses=ab,Mb.Evals=Dv,Mb.Containers=Hy;new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]);const Fb=new Mb({apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.OPENAI_API_KEY,dangerouslyAllowBrowser:!0});const jb=function(){const{language:e}=Tt(),{translations:t}=(0,r.useContext)(tf),[n,a]=(0,r.useState)([{sender:"bot",type:"initialBotMessage"}]),[i,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),u=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[n,o]);const c=async e=>{try{const t=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=en(e),Jh("collection","path",t),e instanceof sd){const n=Ta.fromString(t,...r);return ed(n),new cd(e,null,n)}{if(!(e instanceof ud||e instanceof cd))throw new na(ta.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ta.fromString(t,...r));return ed(n),new cd(e.firestore,null,n)}}(ef,"preguntasPopulares"),n=hd(t,e.toLowerCase().trim()),r=await function(e){e=nd(e,ud);const t=nd(e.firestore,md);return Xh(gd(t),e._key).then((n=>Zd(t,e,n)))}(n);r.exists()?await function(e,t,n){e=nd(e,ud);const r=nd(e.firestore,md),a=Id(r);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return i="string"==typeof(t=en(t))||t instanceof bd?Od(a,"updateDoc",e._key,t,n,o):Pd(a,"updateDoc",e._key,t),Jd(r,[i.toMutation(e._key,Mo.exists(!0))])}(n,{frecuencia:r.data().frecuencia+1,ultimaFecha:new Date}):await function(e,t,n){e=nd(e,ud);const r=nd(e.firestore,md),a=Qd(e.converter,t,n);return Jd(r,[Nd(Id(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Mo.none())])}(n,{texto:e,frecuencia:1,ultimaFecha:new Date})}catch(t){console.error("\u274c Error guardando pregunta en Firestore:",t)}};return(0,_t.jsxs)("div",{className:"content-section chat-section full-height",children:[(0,_t.jsx)("h2",{children:"es"===e?"Asistente Legal":"Kamachiy Yanapak"}),(0,_t.jsxs)("div",{className:"chat-window",children:[(0,_t.jsxs)("div",{className:"messages-display",children:[n.map(((e,n)=>"initialBotMessage"===e.type?(0,_t.jsx)("div",{className:"message bot",children:(0,_t.jsx)("p",{children:t.initialBotMessage})},n):(0,_t.jsx)("div",{className:"message ".concat(e.sender),children:(0,_t.jsx)("p",{children:e.text})},n))),o&&(0,_t.jsx)("div",{className:"message bot typing-indicator",children:(0,_t.jsx)("p",{children:t.typingIndicator})}),(0,_t.jsx)("div",{ref:u})]}),(0,_t.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),""===i.trim())return;const n=i.trim();a((e=>[...e,{sender:"user",text:n}])),s(""),l(!0);try{await c(n);const e=await(async e=>{try{const t=await Fb.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"Eres un asistente legal especializado en consultas para emprendedores en Ecuador. Responde de forma clara, respetuosa y breve."},{role:"user",content:e}]});return console.log("Respuesta de OpenAI:",t),t.choices[0].message.content}catch(n){return console.error("\u274c Error al consultar OpenAI:",n),t.noAnswer}})(n);a((t=>[...t,{sender:"bot",text:e}]))}catch(r){a((e=>[...e,{sender:"bot",text:t.noAnswer}]))}finally{l(!1)}},className:"message-input-form",children:[(0,_t.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:t.inputPlaceholder,autoComplete:"off"}),(0,_t.jsx)("button",{type:"submit",children:t.sendButton})]})]})]})};const zb=function(){const{translations:e}=Tt(),[t,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const t=[{id:"tierra",name:e.tierra,icon:"\ud83c\udf33"},{id:"familia",name:e.familia,icon:"\ud83c\udfe0"},{id:"trabajo",name:e.trabajo,icon:"\ud83e\udd1d"},{id:"violencia",name:e.violencia,icon:"\u274c"},{id:"chat",name:e.chat,icon:"\ud83d\udcac"}];n(t)}),[e]),(0,_t.jsxs)("div",{className:"content-section explore-section",children:[(0,_t.jsx)("h2",{children:e.explorePageTitle}),(0,_t.jsx)("p",{children:e.explorePageDescription}),(0,_t.jsx)("div",{className:"category-cards",children:t.map((t=>(0,_t.jsxs)("div",{className:"category-card ".concat(a===t.id?"expanded":""),onClick:()=>{return e=t.id,void i(a===e?null:e);var e},children:[(0,_t.jsxs)("div",{className:"card-header",children:[(0,_t.jsx)("span",{className:"card-icon",children:t.icon}),(0,_t.jsx)("h3",{children:t.name}),(0,_t.jsx)("span",{className:"expand-icon",children:a===t.id?"\u25b2":"\u25bc"})]}),a===t.id&&(0,_t.jsxs)("div",{className:"card-content",children:[(0,_t.jsx)("p",{children:e["".concat(t.id,"Info")]||e.noInfo}),"chat"===t.id&&(0,_t.jsx)("div",{className:"chat-button-container",children:(0,_t.jsx)(pt,{to:"/new-chat",className:"go-to-chat-button",children:e.exploreGoToChat})})]})]},t.id)))})]})},Ub=()=>{const{toggleLanguage:e,translations:t}=Tt();return(0,_t.jsxs)("div",{className:"app-container",children:[(0,_t.jsx)(It,{}),(0,_t.jsx)("div",{className:"content-area",children:(0,_t.jsxs)(Re,{children:[(0,_t.jsx)(Ie,{path:"/",element:(0,_t.jsx)(Nt,{})}),(0,_t.jsx)(Ie,{path:"/new-chat",element:(0,_t.jsx)(nf,{children:(0,_t.jsx)(jb,{})})}),(0,_t.jsx)(Ie,{path:"/explore",element:(0,_t.jsx)(zb,{})}),(0,_t.jsx)(Ie,{path:"*",element:(0,_t.jsx)(Nt,{})})]})})]})};const Vb=function(){return(0,_t.jsx)(Ct,{children:(0,_t.jsx)(dt,{basename:"/",children:(0,_t.jsx)(Ub,{})})})},Bb=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:s}=t;n(e),r(e),a(e),i(e),s(e)}))};a.createRoot(document.getElementById("root")).render((0,_t.jsx)(r.StrictMode,{children:(0,_t.jsx)(Vb,{})})),Bb()})();
//# sourceMappingURL=main.1aa043e3.js.map